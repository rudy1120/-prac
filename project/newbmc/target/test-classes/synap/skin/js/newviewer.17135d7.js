/*!
 * 
 * Product name/Version: SynapDocumentViewer 2019.19.09.1
 * 
 */!function(e){function t(t){for(var i,s,a=t[0],l=t[1],c=t[2],d=0,h=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);h.length;)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={1:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;r.push([75,0]),n()}([,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.getVersion=function(t){var n=e.userAgent.match(t);if(n&&n.length<2)return-1;try{return parseInt(n[1])}catch(e){return-1}},this.getIEVersion=function(){var t=e.getVersion("Trident/([0-9]+)");return t>2?t+4:e.getVersion("MSIE ([0-9]+)")},this.getChromeVersion=function(){return e.getVersion("Chrome/([0-9]+)")},this.getFirefoxVersion=function(){return e.getVersion("Firefox/([0-9]+)")},this.getAndroidVersion=function(){return e.getVersion("Android ([0-9]+)")},this.getIOSVersion=function(){return e.getVersion("OS ([0-9]+)")},this.getOperaVersion=function(){var t=e.getVersion("OPR/([0-9]+)");return t>-1?t:e.getVersion("Opera/([0-9]+)")},this.getEdgeVersion=function(){return e.getVersion("Edge/([0-9]+)")},this.isIE9Lower=function(){return e.isIE&&e.getIEVersion()<=9},this.appName=navigator.appName,this.userAgent=navigator.userAgent,this.isAndroid=this.userAgent.indexOf("Android")>-1,this.isIOS=this.userAgent.indexOf("iPad")>-1||this.userAgent.indexOf("iPhone")>-1||this.userAgent.indexOf("iPod")>-1,this.isiPad=this.userAgent.indexOf("iPad")>-1,this.isWindowMobile=this.userAgent.indexOf("IEMobile")>-1,this.isMobile=this.isAndroid||this.isIOS||this.isWindowMobile,this.isIPhoneX=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&375===window.screen.width&&812===window.screen.height,this.isIPhoneXS=this.isIPhoneX,this.isIPhoneXSMax=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,this.isIPhoneXR=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,this.isIE=!this.isMobile&&("Microsoft Internet Explorer"===this.appName||this.userAgent.indexOf("MSIE")>-1||this.userAgent.indexOf("Trident")>-1),this.isFirefox=!this.isMobile&&this.userAgent.indexOf("Firefox")>-1,this.isOpera=!this.isMobile&&(this.userAgent.indexOf("Opera")>-1||this.userAgent.indexOf("OPR")>-1),this.isEdge=!this.isMobile&&this.userAgent.indexOf("Edge")>-1,this.isChrome=!this.isMobile&&!this.isOpera&&!this.isEdge&&this.userAgent.indexOf("Chrome")>-1,this.isSafari=!this.isMobile&&!this.isChrome&&!this.isEdge&&this.userAgent.indexOf("Safari")>-1,this.isWebkit=this.userAgent.indexOf("AppleWebKit")>-1,this.version=this.getBrowserVersion()}return e.prototype.getBrowserVersion=function(){if(this.isMobile){if(this.isAndroid)return this.getAndroidVersion();if(this.isIOS)return this.getIOSVersion();if(this.isWindowMobile)return this.getIEVersion()}else{if(this.isIE)return this.getIEVersion();if(this.isChrome)return this.getChromeVersion();if(this.isFirefox)return this.getFirefoxVersion();if(this.isSafari)return this.getIOSVersion();if(this.isOpera)return this.getOperaVersion();if(this.isEdge)return this.getEdgeVersion()}return-1},Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e}();t.Browser=i},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(1),a=n(30),l=function(){function t(){}return t.ajaxCall=function(t,n,i,o){return void 0===n&&(n="GET"),void 0===i&&(i=null),void 0===o&&(o=null),new e((function(e,r){var a="";if(i&&"object"==typeof i.param)for(var l in a.length>0&&(a+="&"),i.param)a+=l+"="+encodeURIComponent(i.param[l])+"&";if(window.localSynap&&window.localSynap.config&&"object"==typeof window.localSynap.config.extraParam)for(var l in a.length>0&&(a+="&"),window.localSynap.config.extraParam)a+=l+"="+encodeURIComponent(window.localSynap.config.extraParam[l])+"&";var c=new XMLHttpRequest;if("POST"===n)c.open("POST",t,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");else{var u=s.Browser.instance.isIE9Lower()?encodeURI(t):t;u.indexOf("?")>-1?u+="&"+a:u+="?"+a,c.open("GET",u,!0)}if(window.localSynap&&window.localSynap.config&&"object"==typeof window.localSynap.config.extraHeader)for(var l in window.localSynap.config.extraHeader)c.setRequestHeader(l,window.localSynap.config.extraHeader[l]);c.onreadystatechange=function(){4===c.readyState&&(c.status>=200&&c.status<400?e(null!==o&&"xml"===o?c.responseXML:c.responseText):null!==o&&"xml"===o&&500===c.status?e(null):r(new Error(c.status.toString())))},c.send(a)}))},t.getJson=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,this.ajaxCall(e,"GET",t)];case 1:return n=i.sent(),[2,JSON.parse(n)]}}))}))},t.postJson=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,this.ajaxCall(e,"POST",t)];case 1:return n=i.sent(),[2,JSON.parse(n)]}}))}))},t.getXml=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,this.ajaxCall(e,"GET",t,"xml")];case 1:return n=i.sent(),[2,this.xmlToJson(n)]}}))}))},t.getThumbnailXml=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return[4,this.ajaxCall(e,"GET",t,"xml")];case 1:return(n=o.sent())?[3,4]:(i=e.replace("thumbnailxml","thumbnail"),[4,this.ajaxCall(i,"GET",t)]);case 2:return o.sent(),[4,this.ajaxCall(e,"GET",t,"xml")];case 3:n=o.sent(),o.label=4;case 4:return[2,this.xmlParse(n)]}}))}))},t.xmlParse=function(e){var t={};if(e.hasChildNodes()){var n=e.getElementsByTagName("page")[0];if("page"!=n.tagName)return;if(n.attributes.length>0){t.page={};for(var i=0;i<n.attributes.length;i++){var o=n.attributes.item(i);t.page[o.nodeName]=o.nodeValue}}for(var r=s.Browser.instance.isIE9Lower(),a="",l=[],c=0,u=0,d=e.getElementsByTagName("text");u<d.length;u++){var h=d[u];if(r||0!==h.textContent.length){var p={};for(i=0;i<h.attributes.length;i++){p[(o=h.attributes.item(i)).nodeName]=Number(o.nodeValue).toFixed(2)}var f="";f=r?0===h.text.length?" ":h.text:h.textContent,l[c]={"@attributes":p,text:f},r&&(a+=f),c++}}t.text=l,t.result=r?a:n.textContent.replace(/\n/gi,"")}return t},t.xmlToJson=function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else if(3===e.nodeType){var o=e.nodeValue.trim();if(o.length)return o}else if(4===e.nodeType)return e.data;if(e.hasChildNodes())for(var r=0,s=e.childNodes.length;r<s;r++){var a=e.childNodes.item(r),l=a.nodeName;if(void 0===t[l]){var c=this.xmlToJson(a);Object.keys(new Object(c)).length&&(l[0]&&"#"===l[0]?t=c:t[l]=c)}else{var u=this.xmlToJson(a);if(0===Object.keys(new Object(u)).length)continue;void 0===t[l].push?t[l]=[t[l],u]:t[l].push(u)}}return t},t.getDpi=function(e){return e||this.normalDPI},t.isMobileMode=function(e){return e!==a.CONV_TYPE.IMAGE&&s.Browser.instance.isMobile?s.Browser.instance.isMobile:document.documentElement.clientWidth<=768},t.isFullScreen=function(){return r("#container").hasClass("wrap__container--presentation")},t.isBrowserFullScreen=function(){return t.isFullScreen()&&!r(".wrap__header").hasClass("wrap__header--presentation")},t.isSupportFullScreen=function(){var e=top.document;return top.document.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.msFullscreenEnabled},t.getThumbPath=function(e,t,n,i){void 0===i&&(i=null);var o=n||this.thumbDPI,r="";if(i)for(var s in i)r+="&"+s+"="+encodeURIComponent(i[s]);if(window.localSynap&&window.localSynap.config&&"object"==typeof window.localSynap.config.extraParam)for(var s in window.localSynap.config.extraParam)r+="&"+s+"="+encodeURIComponent(window.localSynap.config.extraParam[s]);return!0===window.localSynap.config.search&&o!=this.thumbDPI?e.contextPath+"//thumbnail/"+e.jobId+"/"+t+"?dpi="+o+"&withXml=true"+r:e.contextPath+"/thumbnail/"+e.jobId+"/"+t+"?dpi="+o+"&withXml=false"+r},t.getResultPath=function(e,t){return e.resultPath+"/"+t},t.printConsoleLog=function(e){window.console&&console.log(e)},t.clone=function(e){var t={};for(var n in e)t[n]=e[n];return e},t.getMouseHandlerDispatch=function(e,t){return void 0===t&&(t=function(e){return!0}),function(n){if(t(n))if(s.Browser.instance.isIE){(i=document.createEvent("MouseEvent")).initMouseEvent(n.type,!0,!0,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),e.dispatchEvent(i)}else{var i=new MouseEvent(n.type,n);e.dispatchEvent(i)}}},t.getKeybordHandlerDispatch=function(e){return function(t){if(s.Browser.instance.isIE){(n=document.createEvent("KeyboardEvent")).initKeyboardEvent(t.type,!0,!0,t.view,t.key,t.location,t.modifiersList,t.repeat,t.locale),e.dispatchEvent(n)}else{var n=new KeyboardEvent(t.type,t);e.dispatchEvent(n)}}},t.getTouchHandlerDispatch=function(e){return function(t){var n=new TouchEvent(t.type,t);e.dispatchEvent(n)}},t.thumbDPI="L",t.normalDPI="M",t.highDPI="H",t.AdvancedDPI="150",t.mostHighDPI="300",t.isSupportKeyFrame=function(){var e=getComputedStyle(document.querySelector(".wrap__contents"));return!(!e.animation&&!e.webkitAnimation)},t.sleep=function(t){return new e((function(e){return setTimeout(e,t)}))},t.bindClickOrTouchEvent=function(e,t,n,i){void 0===n&&(n=function(e){}),void 0===i&&(i=function(){e.removeClass(t)}),e.on(s.Browser.instance.isMobile?"touchstart":"mouseover",(function(){e.prop("disabled")||e.addClass(t)})).on(s.Browser.instance.isMobile?"click touchend":"mouseout click",(function(t){(s.Browser.instance.isMobile&&"click"===t.type||"touchend"===t.type||"mouseout"===t.type)&&i(),"click"===t.type&&(e.prop("disabled")||n(t))}))},t.getDimensionHtmlForPDF=function(e){var t=[];if(1==e.index.pdf_cnt){var n={index:0,width:e.index.pdf_list.pdf.w,height:e.index.pdf_list.pdf.h,path:e.index.pdf_list.pdf.path_html};return t[0]=n,t}return r.each(e.index.pdf_list.pdf,(function(e,n){var i={index:e,width:n.w,height:n.h,path:n.path_html};t[e]=i})),t},t.getDimensionHtmlForImage=function(e){var t=[];if(1==e.index.image_cnt){var n={index:0,width:e.index.width,height:e.index.height,path:e.index.image_list.image.path_image};t[0]=n}else r.each(e.index.image_list.image,(function(e,n){var i={index:e,width:n.w,height:n.h,path:n.path_image};t[e]=i}));return t},t.isServer=function(e){return e.productType===a.PRODUCT_TYPE.SERVER},t.isHtmlSkin=function(e){return t.isHtmlWordSkin(e)||t.isHtmlCellSkin(e)||t.isHtmlSlideSkin(e)},t.isHtmlWordSkin=function(e){return t.isConvHtml(e)&&"word"===e.skinType},t.isHtmlCellSkin=function(e){return t.isConvHtml(e)&&"cell"===e.skinType},t.isHtmlSlideSkin=function(e){return t.isConvHtml(e)&&"slide"===e.skinType},t.isConvHtml=function(e){return e.status.convertType===a.CONV_TYPE.HTML},t.isConvImg=function(e){return e.status.convertType===a.CONV_TYPE.IMAGE},t.useSingle=function(e){return t.isHtmlSkin(e)&&e.status.single},t.getHeadScale=function(e){var t="string"==typeof r(e).css("transform")?r(e).css("transform").replace("matrix(","").split(","):[];return 6===t.length?parseFloat(t[0]):1},t.getSize=function(e,t){var n=e,i="B";return t||-1===e?"-":(e>1073741824?(n=e/1073741824,i="GB"):e>1048576?(n=e/1048576,i="MB"):e>1024&&(n=e/1024,i="KB"),""+n.toFixed(1)+i)},t.addClass=function(e,t){if(e)if(e.classList)e.classList.add(t);else{for(var n=!1,i=e.className.trim().split(" "),o=0;o<i.length;o++)if(i[o]===t){n=!0;break}n||(e.className=e.className.trim()+" "+t)}},t.removeClass=function(e,t){if(e)if(e.classList)e.classList.remove(t);else{var n="";e.className.trim().split(" ").forEach((function(e){e!==t&&(n+=e+" ")})),e.className=n.trim()}},t.getClickEventName=function(){return s.Browser.instance.isMobile?"touchend":"click"},t}();t.Util=l}).call(this,n(3))},,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(30),a=n(1),l=n(9),c=n(14),u=n(2),d=n(0),h=n(23),p=n(20),f=n(68);!function(e){e[e.PageFit=0]="PageFit",e[e.PageWidthFit=1]="PageWidthFit",e[e.PageZoom=2]="PageZoom",e[e.SlidePageFit=3]="SlidePageFit"}(r=t.RESIZE_TYPE||(t.RESIZE_TYPE={})),function(e){e[e.desktop=0]="desktop",e[e.mobile=1]="mobile"}(t.VIEW_MODE||(t.VIEW_MODE={}));var g=function(){function t(){var n=this;this.starterLen=20,this.eventObserver=null,this.docInfo=null,this.containerTop=function(){return parseInt(d("#container").css("top"))},this.lastTop=null,this.curZoomFactor=l.DetectZoom.getRatio(),this.scrollContentAreaEl=a.Browser.instance.isIOS?d(document):d("#contents"),this.DEFAULT_LOADING_CNT=5,this.androidVirtualKeyboardMode=f.ANDROID_VK_MODE.deactive,this.getDefaultLadingCnt=function(){return n.DEFAULT_LOADING_CNT},this.setDefaultLadingCnt=function(e){n.DEFAULT_LOADING_CNT=e},this.updatePageFocus=function(){var e=n.docInfo.status.pageNum;if(a.Browser.instance.isIOS)for(var i=n.scrollContentAreaEl.scrollTop()+n.containerTop(),o=0;o<e;++o){if(i<d("#page-area"+o).offset().top+t.CURRENT_SIZE[o].height/2)return void n.eventObserver.page.notify({pageNum:o,isScroll:!0})}else for(o=0;o<e;++o){var r=t.CURRENT_SIZE[o].height,s=document.getElementById("page-area"+o).getBoundingClientRect().top+r;if(s>0&&s-r/2>n.containerTop())return void(o!==n.docInfo.currentPage&&n.eventObserver.page.notify({pageNum:o,isScroll:!0}))}n.eventObserver.page.notify({pageNum:n.docInfo.status.pageNum-1,isScroll:!0})},this.scrollEventBind=function(){var e;n.scrollContentAreaEl.on("scroll",(function(i){if(clearTimeout(e),n.androidVirtualKeyboardMode!==f.ANDROID_VK_MODE.deactivating)if(Math.round(document.getElementById("contents").offsetHeight+document.getElementById("contents").scrollTop)>=document.getElementById("contents").scrollHeight&&d("#page-area"+n.docInfo.currentPage).position().top>0&&!n.lastTop)n.lastTop=n.scrollContentAreaEl.scrollTop();else{if(n.scrollContentAreaEl.scrollTop()!==n.lastTop){var o=u.Util.isFullScreen()||!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);return!o||o&&(!a.Browser.instance.isMobile&&100!==n.curZoomFactor||a.Browser.instance.isMobile&&t.RESIZE_OBJ.type!=r.PageFit)?(e=setTimeout(n.updatePageFocus,80),void n.eventObserver.scroll.notify()):void 0}n.eventObserver.page.notify({pageNum:n.docInfo.status.pageNum-1,isScroll:!1})}}))},this.focusPage=function(e){a.Browser.instance.isMobile&&n.docInfo.currentPage!==e.pageNum&&d("#thumb-area"+n.docInfo.currentPage).addClass("thumb--nohover"),n.docInfo.currentPage=e.pageNum,n.loadPageImg(n.docInfo.currentPage),n.eventObserver.moveBtn.notify(),!0!==e.isScroll&&n.scrollContentAreaEl.scrollTop(n.getPageScrollTop(e.pageNum))},this.checkMoveControlbar=function(){0===n.docInfo.currentPage?(d("#page-prev").removeClass("controlbar--enable"),d("#page-prev").removeClass("controlbar-prev--hover"),d("#page-prev").prop("disabled",!0)):(d("#page-prev").addClass("controlbar--enable"),d("#page-prev").prop("disabled",!1)),n.docInfo.currentPage===n.docInfo.status.pageNum-1?(d("#page-next").removeClass("controlbar--enable"),d("#page-next").removeClass("controlbar-next--hover"),d("#page-next").prop("disabled",!0)):(d("#page-next").addClass("controlbar--enable"),d("#page-next").prop("disabled",!1))},this.moveBackPage=function(){0!==n.docInfo.currentPage&&n.eventObserver.page.notify({pageNum:n.docInfo.currentPage-1,isScroll:!1})},this.moveNextPage=function(){n.docInfo.currentPage!==n.docInfo.status.pageNum-1&&n.eventObserver.page.notify({pageNum:n.docInfo.currentPage+1,isScroll:!1})},this.orientationchange=function(){return i(n,void 0,void 0,(function(){return o(this,(function(e){return u.Util.isBrowserFullScreen()&&this._resizePage(),[2]}))}))},this.resizeWindow=function(){return i(n,void 0,void 0,(function(){var e,t;return o(this,(function(n){return e=l.DetectZoom.getRatio(),t=!0,this.curZoomFactor!==e&&(this.curZoomFactor=e,t=!1),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(this._innerResizeWindow(),[2]):(a.Browser.instance.isIOS?this._resizePageForIOS():this._resizePage(t),this.checkResizeControlBar(),this.lastTop=null,[2])}))}))},this._resizePage=function(e){return void 0===e&&(e=!0),i(n,void 0,void 0,(function(){return o(this,(function(t){return this._innerResizeWindow(),e&&this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(this.docInfo.currentPage)),[2]}))}))},this._resizePageForIOS=function(){return i(n,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:return u.Util.isFullScreen()&&(document.getElementById("fullscreen-close").style.top=""),e=this.docInfo.currentPage,d("#wrap__index").css("height",""),[4,this.syncTimer((function(){if(d("#thumbnail").height()>d("#wrap__index").height()){a.Browser.instance.isiPad?d("#wrap__index").css("height",0===window.orientation?768*screen.height/screen.width-85:768*screen.width/screen.height-85):d("#wrap__index").css("height",0===window.orientation?screen.height-85:screen.width)}d("#contents-area").css("visibility","hidden"),d("#wrap__index").css("visibility","hidden"),d("#page__input").css("color","#333333"),t.scrollContentAreaEl.scrollTop(t.getPageScrollTop("0"))}),500)];case 1:return n.sent(),[4,this.syncTimer((function(){return t._innerResizeWindow()}),100)];case 2:return n.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){d("#contents-area").css("visibility",""),d("#wrap__index").css("visibility",""),d("#page__input").css("color","")}),100)];case 3:return n.sent(),[2]}}))}))},this.syncTimer=function(t,r){return i(n,void 0,void 0,(function(){return o(this,(function(n){return[2,new e((function(e){setTimeout((function(){t(),e()}),r)}))]}))}))},this.notSupportFullscreenIN=function(){return i(n,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(i){switch(i.label){case 0:return e=this.docInfo.currentPage,a.Browser.instance.isIOS?[4,this.syncTimer((function(){return n.pageResizeAction.resizePage(0,n.getRotateMap())}),200)]:[3,3];case 1:return i.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){return d("#contents-area").css("visibility","")}),100)];case 2:return i.sent(),!a.Browser.instance.isiPad&&a.Browser.instance.getIOSVersion()>=11&&(document.getElementById("fullscreen-close").style.top="",(t=d("#fullscreen-close").position().top)<0&&(document.getElementById("fullscreen-close").style.top=Math.abs(t)+"px")),[3,4];case 3:this.pageResizeAction.resizePage(0,this.getRotateMap()),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),i.label=4;case 4:return this.checkResizeControlBar(),this.lastTop=null,[2]}}))}))},this.notSupportFullscreenOUT=function(){return i(n,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:return e=this.docInfo.currentPage,a.Browser.instance.isIOS?[4,this.syncTimer((function(){return t.pageResizeAction.resizePage(t.preResizeObj.percent,t.getRotateMap())}),700)]:[3,3];case 1:return n.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){d("#contents-area").css("visibility",""),d("#wrap__index").css("visibility",""),d("#page__input").css("color","")}),100)];case 2:return n.sent(),[3,4];case 3:this.pageResizeAction.resizePage(this.preResizeObj.percent,this.getRotateMap()),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),n.label=4;case 4:return this.checkResizeControlBar(),this.lastTop=null,[2]}}))}))},this.fullScreen=function(e){return i(n,void 0,void 0,(function(){var n;return o(this,(function(i){return"cell"===e.skinType?[2]:(n=p.Head.bgColorMode===p.BGCOLOR_MODE.lightScreen?"img-loading-bright":"img-loading",e.isFullScreen?(d(document.body).addClass("wrap__contents--page-fullscreen"),d("#contents").addClass("wrap__contents--page-fullscreen"),a.Browser.instance.isIOS&&(d("#contents-area").css("visibility","hidden"),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop("0"))),d("#container").addClass("wrap__container--presentation"),d("#contents").addClass("wrap__contents--presentation"),d("#thumbnailbar").addClass("wrap__thumbnailbar--presentation"),d("."+n).addClass("img-loading-black"),e.isSupport||d(".wrap__header").addClass("wrap__header--presentation"),this.setFitAction(),e.isSupport||(d(".wrap__header").addClass("wrap__header--presentation"),this.notSupportFullscreenIN())):(d(document.body).removeClass("wrap__contents--page-fullscreen"),u.Util.isFullScreen()&&(a.Browser.instance.isIOS&&(d("#contents-area").css("visibility","hidden"),d("#wrap__index").css("visibility","hidden"),d("#page__input").css("color","#333333"),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop("0"))),this.eventObserver.bgColor.notify(p.Head.bgColorMode),d("#container").removeClass("wrap__container--presentation"),d("#contents").removeClass("wrap__contents--presentation"),d("#thumbnailbar").removeClass("wrap__thumbnailbar--presentation"),d("#contents").removeClass("wrap__contents--page-fullscreen"),d(".contents-page").removeClass("img-loading-black"),d(".contents-page__img").removeClass("img-loading-black"),d(".contents-page > img").removeAttr("style"),d(".contents-page > iframe").removeAttr("style"),t.RESIZE_OBJ=this.preResizeObj,this.pageResizeAction=this.prePageAction,e.isSupport||(d(".wrap__header").removeClass("wrap__header--presentation"),this.notSupportFullscreenOUT()),u.Util.isMobileMode(s.CONV_TYPE.IMAGE)&&h.Thumbnail.THUMB_STATUS===h.THUMB_FLAG.off&&(this.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE3SEC),this.eventObserver.mobileThumb.notify(c.ShowActionType.HIDE3SEC)),this.fullscreenAfterEvent())),[2])}))}))},this.mouseEventBind=function(){d("#contents-area").on("click",(function(){a.Browser.instance.isMobile||u.Util.isFullScreen()||n.toggleMobileHeaderAndThumb()}))},this.toggleMobileHeaderAndThumb=function(){u.Util.isMobileMode(n.docInfo.status.convertType)&&("none"!==d(".wrap__header").css("display")?(n.eventObserver.mobileThumb.notify(c.ShowActionType.HIDE),n.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE)):n.isThumbnailOn()?(n.eventObserver.mobileThumb.notify(c.ShowActionType.SHOW),n.eventObserver.mobileHeader.notify(c.ShowActionType.SHOW)):(n.eventObserver.mobileThumb.notify(c.ShowActionType.HIDE3SEC),n.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE3SEC)))},this.singleTap=function(){n.toggleMobileHeaderAndThumb()},this.androidVirtualKeyboard=function(e){n.androidVirtualKeyboardMode=e}}return t.prototype.getPageScrollTop=function(e){var t=document.getElementById("page-area"+e);return null===t?0:t.offsetTop-(a.Browser.instance.isIOS?this.containerTop():0)},t.RESIZE_OBJ={type:r.PageFit,percent:0},t.ORIGIN_SIZE=[],t.CURRENT_SIZE=[],t.isOutFullscreen=!1,t}();t.Page=g}).call(this,n(3))},,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(1),a=n(12),l=n(9),c=n(2),u=n(0),d=n(98),h=n(99);!function(e){e[e.on=0]="on",e[e.off=1]="off"}(r=t.THUMB_FLAG||(t.THUMB_FLAG={}));var p=function(){function e(){var t=this;this.eventObserver=null,this.docInfo=null,this.transparentImg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",this.THUMB_SIZE=[],this.initThumbNum=21,this.isWindowCSS=window.CSS&&window.CSS.supports&&window.CSS.supports("--page-width",0),this.protectedObj={timer:this.thumbBtnTimer},this.thumbnailMobile=new d.ThumbnailMobile(this.protectedObj),this.thumbnailDesktop=new h.ThumbnailDesktop(this.protectedObj),this.webThumbnailResize=function(){var n=!1;u("#web-thumbnailbar").on(s.Browser.instance.isMobile?"touchstart":"mousedown",(function(e){n=!0,u("#container").css("pointer-events","none")}));var i=0;u(document).on(s.Browser.instance.isMobile?"touchmove":"mousemove",(function(e){if(n){var i=s.Browser.instance.isMobile?e.changedTouches[0].pageX:e.clientX,o=i>0?i:0;o<520&&(t.jqContents.css("left",o),u(".wrap__thumbnail").css({width:o,"overflow-y":"scroll"}),t.jqThumbnailBar.css("left",o),t.eventObserver.resizeContents.notify())}else u("#container").css("pointer-events","auto")})).on(s.Browser.instance.isMobile?"touchend":"mouseup",(function(o){if(u("#container").css("pointer-events","auto"),n){n=!1;var l=s.Browser.instance.isMobile?o.changedTouches[0].pageX:o.clientX,c=l-i;c>0&&l<100||c<0&&l<160||0===i&&0===l?(i=0,e.THUMB_STATUS=r.off,t.thumbnailDesktop.hideThumb(),t.eventObserver.resizeContents.notify()):(t.loadThumbImg(t.getThumbIndex()),i=l>520?520:l,c>0&&l>=100?i=385<i&&i<=520?520:231<i&&i<=385?355:200:c<0&&l<520&&(i=320<=l&&l<480?355:160<=l&&l<320?200:520),t.jqContents.css("left",i),u(".wrap__thumbnail").css({width:i,"overflow-y":"scroll"}),t.jqThumbnailBar.css("left",i),e.THUMB_STATUS=r.on,t.focusPage({pageNum:t.docInfo.currentPage}),t.jqThumbnailButton.addClass("thumbnail-btn__img--on"),document.getElementById("thumbnailview-btn").title=a.LocaleMessage.getMessage("icon_thumbnail_close"),document.getElementById("thumbnail-btn").title=a.LocaleMessage.getMessage("icon_thumbnail_close")),t.eventObserver.resizeWindow.notify()}}))},this.loadThumbImg=function(e){return i(t,void 0,void 0,(function(){var t,n,i,r,s,a,c,u,d;return o(this,(function(o){for(3,t=this.jqThumbnail.height(),n=this.docInfo.status.pageNum,0==(i=document.getElementById("thumb-content"+e).clientHeight)&&(i=this._getThumbHeight(this.THUMB_SIZE[e])),r=Math.ceil(t/i),document.getElementById("thumbnail").clientWidth>200&&(r+=20),s=e-3<0?0:e-3,a=e+r,c=l.DetectZoom?l.DetectZoom.getRatio():100,a!==n&&c<100&&(a+=Math.ceil(n*(c/100))),a=a>n||a===n-1?n:a,u=s;u<a;u++)(d=document.getElementById("thumb"+u)).src!==this.transparentImg&&""!==d.src||(this.onLoadImg(d,u),this.loadThumbDelay(u));return[2]}))}))},this.thumbMovePage=function(e){var n=parseInt(e.currentTarget.getAttribute("data-index"));if(t.docInfo.currentPage!==n){var i=t.docInfo.status.pageNum;isNaN(n)||n<0||n>i||t.eventObserver.page.notify({pageNum:n,isScroll:!1})}},this.toggleEvent=function(){if(t.thumbnailActions.toggleAction(),e.THUMB_STATUS===r.on){var n=t.docInfo.currentPage;t.focusPage({pageNum:n}),t.setThumbnailAreaHeightForIOS()}},this.focusPage=function(n){if(e.THUMB_STATUS!=r.off){u("#thumb-area"+n.pageNum).removeClass("thumb--nohover"),u(".thumb__div").removeClass("thumb__focus");var i=document.getElementById("thumbnail").clientHeight-u(".wrap__header").height(),o=document.getElementById("thumb-content"+n.pageNum).clientHeight,s=document.getElementById("thumbnail").scrollTop,a=u("#thumb-area"+n.pageNum).parent().position().top-u("#thumb-area0").parent().position().top;(s>a||a+o>=s+i)&&(document.getElementById("thumbnail").scrollTop=document.getElementById("thumb-content"+n.pageNum).offsetTop-i/4),u("#thumb-area"+n.pageNum).addClass("thumb__focus"),t.loadThumbImg(t.docInfo.currentPage)}},this.resizeWindow=function(){c.Util.isFullScreen()||(c.Util.isMobileMode(t.docInfo.status.convertType)&&t.thumbnailActions===t.thumbnailDesktop?(t.thumbnailActions.initThumb(),t.thumbnailActions=t.thumbnailMobile,t.thumbnailActions.changeMode(t.docInfo.currentPage),t.isWindowCSS||t.thumbSizeResize(0,t.docInfo.status.pageNum,t.docInfo.currentPage)):c.Util.isMobileMode(t.docInfo.status.convertType)||t.thumbnailActions!==t.thumbnailMobile||(t.thumbnailActions.initThumb(),t.thumbnailActions=t.thumbnailDesktop,t.thumbnailActions.changeMode(t.docInfo.currentPage),t.isWindowCSS||t.thumbSizeResize(0,t.docInfo.status.pageNum,t.docInfo.currentPage)))},this.fullScreen=function(e){"cell"!==e.skinType&&(e.isFullScreen?(t.jqThumbnail.addClass("wrap__thumbnail--presentation"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--presentation")):(t.jqThumbnail.removeClass("wrap__thumbnail--presentation"),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--presentation")))},this.getThumbIndex=function(){var e=document.getElementById("wrap__index").clientHeight,n=document.getElementById("thumbnail").scrollTop;return n<0&&(!l.DetectZoom||100===l.DetectZoom.getRatio())?t.docInfo.currentPage:Math.floor(t.docInfo.status.pageNum/(e/n))},this.scrollEventBind=function(){var n;u("#thumbnail").on("scroll",(function(i){clearTimeout(n),n=window.setTimeout((function(){if(e.THUMB_STATUS!=r.off){var n=t.getThumbIndex();t.loadThumbImg(n)}}),50)}))},this.thumbSizeResize=function(e,n,i){var o=t.docInfo.currentPage+t.initThumbNum;if(o=o>t.docInfo.status.pageNum?t.docInfo.status.pageNum:o,null!==i)for(var r=i=i-5<0?0:i-5;r<o;r++)t._thumbSizeRepeat(t.THUMB_SIZE[r],r);setTimeout((function(){for(var r=e;r<n;r++)null!=i?(r<i||r>=o)&&t._thumbSizeRepeat(t.THUMB_SIZE[r],r):t._thumbSizeRepeat(t.THUMB_SIZE[r],r)}),100)},this._thumbSizeRepeat=function(e,n){var i=t._getThumbHeight(e);document.getElementById("thumb"+n).style.height=i+"px"},this._getThumbHeight=function(e){return e&&void 0!==e.mobileHeight?!0===c.Util.isMobileMode(t.docInfo.status.convertType)?e.mobileHeight:e.desktopHeight:!0===c.Util.isMobileMode(t.docInfo.status.convertType)?t.THUMB_SIZE[0].mobileHeight:t.THUMB_SIZE[0].desktopHeight},this.setThumbnailAreaHeightForIOS=function(){if(s.Browser.instance.isIOS&&0!==u("#wrap__index").height()&&u("#thumbnail").height()>u("#wrap__index").height()){s.Browser.instance.isiPad?u("#wrap__index").css("height",0===window.orientation?768*screen.height/screen.width-85:768*screen.width/screen.height-85):u("#wrap__index").css("height",0===window.orientation?screen.height-85:screen.width)}},this.jqThumbnail=u("#thumbnail"),this.jqThumbnailButton=u("#thumbnail-btn"),this.jqThumbnailBar=u("#thumbnailbar"),this.jqContents=u("#contents")}return e.THUMB_STATUS=r.off,e}();t.Thumbnail=p}).call(this,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(1),r=function(){function e(){}return e.getRatio=function(){return this._zoom||(this._zoom=this.detectFunction()),Math.round(100*this._zoom())},e.detectFunction=function(){return window.devicePixelRatio?function(){if(o.Browser.instance.isIE||o.Browser.instance.isFirefox||o.Browser.instance.isEdge)return window.devicePixelRatio;var e=Math.abs(window.top.outerWidth-window.top.innerWidth),t=window.top.innerWidth,n=e>=1&&e<=20||e==t?t:window.top.outerWidth;return Math.round((i.Util.isFullScreen()?screen.width:n)/t*100)/100}:isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?function(){return Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100}:window.chrome&&!(window.opera||navigator.userAgent.indexOf(" Opera")>=0)?function(){return Math.round(window.top.outerWidth/window.top.innerWidth*100)/100}:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?function(){return Math.round(window.top.outerWidth/window.top.innerWidth*100)/100}:"orientation"in window&&"webkitRequestAnimationFrame"in window?function(){var e="string"==typeof window.orientation?Number.parseInt(window.orientation):window.orientation;return(90===Math.abs(e)?screen.height:screen.width)/window.innerWidth}:"webkitRequestAnimationFrame"in window?function(){var e=function(e){return e.replace(/;/g," !important;")},t=document.createElement("div");t.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",t.setAttribute("style",e("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var n=document.createElement("div");n.setAttribute("style",e("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),n.appendChild(t),document.body.appendChild(n);var i=1e3/t.clientHeight;return i=Math.round(100*i)/100,document.body.removeChild(n),i}:navigator.userAgent.indexOf("Opera")>=0?function(){return Math.round(window.top.outerWidth/window.top.innerWidth*100)/100}:function(){return 1}:function(){return Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100}},e}();t.DetectZoom=r},,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=function(){function e(){}return e.getMessage=function(t){return e.messages[t]},e.defaultLanguage="en",e.currentLanguage=null,e.messages=null,e.setLocale=function(t){return i(void 0,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return n={ZH_CN:"zh",ZH_TW:"zh",ZH:"zh",JA_JP:"ja",JA:"ja",EN_US:"en",EN:"en",KO:"ko",KO_KR:"ko"},e.currentLanguage=n[t.toUpperCase()]||e.defaultLanguage,i=e,[4,r.Util.getJson("locales/"+e.currentLanguage+".json?"+(new Date).getTime())];case 1:return i.messages=o.sent(),[2,e.currentLanguage]}}))}))},e.setLocaleMessage=function(){document.getElementById("mobile-download-btn").innerText=e.getMessage("msg_download"),document.getElementById("mobile-bgcolor-btn").innerText=e.getMessage("msg_light_backgroundcolor"),document.getElementById("mobile-sns-btn").innerText=e.getMessage("sns_title"),document.getElementById("mobile-info-btn").innerText=e.getMessage("info_menu"),document.getElementById("total-page").setAttribute("data-content",""+e.getMessage("page_total")),document.getElementById("mobile-download-btn").title=e.getMessage("icon_download"),document.getElementById("mobile-bgcolor-btn").title=e.getMessage("icon_backgroundcolor"),document.getElementById("mobile-info-btn").title=e.getMessage("info_menu"),document.getElementById("sns-btn").title=e.getMessage("sns_title"),document.getElementById("sns-btn__img").alt=e.getMessage("sns_title"),document.getElementById("info-btn").title=e.getMessage("info_menu"),document.getElementById("info-btn__img").alt=e.getMessage("info_menu"),document.getElementById("select-arrow").title=e.getMessage("icon_move_page_open"),document.getElementById("select-arrow-img").alt=e.getMessage("icon_move_page_open"),document.getElementById("header-tablist").title=e.getMessage("icon_move_sheet_open"),document.getElementById("header-tablist__input").alt=e.getMessage("icon_move_sheet_open"),document.getElementById("tabmore").title=e.getMessage("icon_move_sheet_open"),document.getElementById("tabmore__img").alt=e.getMessage("icon_move_sheet_open"),document.getElementById("sheet-prev").title=e.getMessage("icon_prev_sheet"),document.getElementById("sheet-prev__img").alt=e.getMessage("icon_prev_sheet"),document.getElementById("sheet-next").title=e.getMessage("icon_next_sheet"),document.getElementById("sheet-next__img").alt=e.getMessage("icon_next_sheet"),document.getElementById("thumbnailview-btn").title=e.getMessage("icon_thumbnail_open"),document.getElementById("thumbnail-btn").title=e.getMessage("icon_thumbnail_open"),document.getElementById("mobile-thumbnailbar").title=e.getMessage("icon_thumbnail_close"),document.getElementById("web-thumbnailbar").title=e.getMessage("icon_thumbnail_drag"),document.getElementById("download-btn").title=e.getMessage("icon_download"),document.getElementById("download-btn__img").alt=e.getMessage("icon_download"),document.getElementById("backgroundcolor-btn").title=e.getMessage("icon_backgroundcolor"),document.getElementById("backgroundcolor-btn__img").alt=e.getMessage("icon_backgroundcolor"),document.getElementById("presentation-btn").title=e.getMessage("icon_fullscreen_open"),document.getElementById("desktop-fullscreen-btn__img").alt=e.getMessage("icon_fullscreen_open"),document.getElementById("fullscreen").title=e.getMessage("icon_fullscreen_open"),document.getElementById("mobile-fullscreen-btn__img").alt=e.getMessage("icon_fullscreen_open"),document.getElementById("more").title=e.getMessage("icon_more"),document.getElementById("more-btn").title=e.getMessage("icon_more"),document.getElementById("page-prev").title=e.getMessage("icon_prev_page"),document.getElementById("page-next").title=e.getMessage("icon_next_page"),document.getElementById("page-zoomout").title=e.getMessage("icon_zoomout"),document.getElementById("page-zoomin").title=e.getMessage("icon_zoomin"),document.getElementById("page-originsize").title=e.getMessage("icon_originsize"),document.getElementById("page-pagewidthfit").title=e.getMessage("icon_pagewidthfit"),document.getElementById("page-pagefit").title=e.getMessage("icon_pagefit"),document.getElementById("page-rotate").title=e.getMessage("icon_rotate_clockwise"),document.getElementById("cell-first").title=e.getMessage("icon_first_sheet"),document.getElementById("cell-prev").title=e.getMessage("icon_prev_sheet"),document.getElementById("cell-next").title=e.getMessage("icon_next_sheet"),document.getElementById("cell-end").title=e.getMessage("icon_end_sheet"),document.getElementById("cell-zoomout").title=e.getMessage("icon_zoomout"),document.getElementById("cell-zoomin").title=e.getMessage("icon_zoomin"),document.getElementById("fullscreen-close").title=e.getMessage("icon_fullscreen_close"),document.getElementById("fullscreen-close__img").alt=e.getMessage("icon_fullscreen_close"),document.getElementById("fullscreen-prev").title=e.getMessage("icon_prev"),document.getElementById("fullscreen-next").title=e.getMessage("icon_next"),document.getElementById("dialog").title=e.getMessage("dialog"),document.getElementById("dialog-logo").alt=e.getMessage("dialog_logo"),document.getElementById("dialog-passwd").title=e.getMessage("dialog-passwd"),document.getElementById("cancel-btn").title=e.getMessage("msg_cancel"),document.getElementById("commit-btn").title=e.getMessage("msg_submit"),document.getElementById("search__label").textContent=e.getMessage("input-searchword")},e}();t.LocaleMessage=s}).call(this,n(3))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHOW="show",e.HIDE="hide",e.HIDE3SEC="hide3sec"}(t.ShowActionType||(t.ShowActionType={}))},,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(64),a=n(14),l=n(2),c=n(12),u=n(0),d=n(6),h=n(23),p=n(31),f=n(1),g=n(100);!function(e){e[e.lightScreen=0]="lightScreen",e[e.darkScreen=1]="darkScreen"}(r=t.BGCOLOR_MODE||(t.BGCOLOR_MODE={}));var m=function(){function e(){var t=this;this.docInfo=null,this.eventObserver=null,this.dialog=new p.Dialog,this.sns=new g.Sns,this.viewMode=d.VIEW_MODE.desktop,this.load=function(e,n){return i(t,void 0,void 0,(function(){var t=this;return o(this,(function(i){switch(i.label){case 0:return this.docInfo=e,this.pageWidth=20+(String(this.docInfo.status.pageNum).length>2?5.5*(String(this.docInfo.status.pageNum).length-2):0)+"px",[4,this.initEvent()];case 1:return i.sent(),this.jqPageInput=u("#page__input"),this.jqPageInput.val(1),this.jqPageInput.on("change",this.movePage),this.jqPageInput.on("keyup",(function(e){"Enter"===e.key&&t.movePage(e)})),this.setTotalPageWidth(),this.eventBind(n),l.Util.isMobileMode(this.docInfo.status.convertType)&&(this.viewMode=d.VIEW_MODE.mobile),this.setTitle(),[2]}}))}))},this.eventBind=function(e){t.eventObserver=e,t.eventObserver.page.subscribe(t.focusPage),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.bgColor.subscribe(t.bgColor),t.eventObserver.orientationchange.subscribe(t.orientationchange),t.subscribeMobileHeader(),t.mouseoverEventBind(),!0===window.localSynap.config.search&&(l.Util.bindClickOrTouchEvent(u("#search-prev"),"search-move--hover",t.searchTextNotify),l.Util.bindClickOrTouchEvent(u("#search-next"),"search-move--hover",t.searchTextNotify))},this.searchTextNotify=function(e){var n="search-next"===e.target.parentElement.id||"search-next"===e.target.id?s.SEARCH_TYPE.NEXT:s.SEARCH_TYPE.PREV;t.eventObserver.search.notify(n)},this.setTotalPageWidth=function(){l.Util.isMobileMode(t.docInfo.status.convertType)?String(t.docInfo.status.pageNum).length>5?(t.jqPageInput.css("width","60px"),u("#select-arrow").css("left","53px"),u("#page-scroll-blind").css("width","73px")):t.jqPageInput.css("width",""):t.jqPageInput.css("width",t.pageWidth)},this.subscribeMobileHeader=function(){void 0!==window.localSynap&&!1===window.localSynap.config.isShowHeader?(u(".wrap__header").addClass("wrap__header--hide"),u("#container").addClass("wrap__container--option-on"),u("#thumbnail").addClass("wrap__thumbnail--option-on")):(t.eventObserver.mobileHeader.subscribe(t.mobileHeader),("cell"===t.docInfo.skinType||l.Util.isHtmlSkin(t.docInfo))&&l.Util.isMobileMode(t.docInfo.status.convertType)&&t.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC))},this.initEvent=function(){return i(t,void 0,void 0,(function(){return o(this,(function(e){return l.Util.isHtmlSkin(this.docInfo)?"cell"===this.docInfo.skinType?(u("#backgroundcolor-btn").hide(),u("#mobile-bgcolor-btn").hide()):"slide"===this.docInfo.skinType&&(l.Util.useSingle(this.docInfo)||u("div").removeClass("cell"),f.Browser.instance.isMobile&&(u("#thumbnail").addClass("cell"),u("#thumbnailbar").addClass("cell")),this.mobilePageAreaLoad(this.docInfo.status.pageNum)):"cell"!==this.docInfo.skinType&&(u("div").removeClass("cell"),this.mobilePageAreaLoad(this.docInfo.status.pageNum)),this.bindSnsBtn(),this.bindInfoBtn(),this.bindMoreBtn(),this.docInfo.downloadUrl&&this.downloadBtnLoad(this.docInfo.downloadUrl),f.Browser.instance.isMobile&&(this.initViewportContent(),this.adjustMobileDeviceViewport(),f.Browser.instance.isIOS&&this.bindWindowCloseBtnLoad()),u(".wrap__menu").removeClass("hide"),this.bindBgcolorBtn(),this.hasSubMenu()||u("#more").hide(),!0===window.localSynap.config.search&&this.searchTextLoad(),[2]}))}))},this.searchTextLoad=function(){u("#search-btn").removeClass("hide");var e=u("#search");u("#search-btn").on("click",(function(){if(u("#search").is(":visible"))return e.hide(),void u("#search-btn__img").removeClass("search-btn__img--on");e.show(),u("#search-btn__img").addClass("search-btn__img--on")}))},this.hasSubMenu=function(){var e=!1;return u(".scroll-blind__more-item").each((function(t,n){"none"!==u(n).css("display")&&(e=!0)})),e},this.bindSnsBtn=function(){var e=window.localSynap.config;if(!0===e.isShowSns){if(void 0!==e.kakaoAPIKey){t.addScript("https://developers.kakao.com/sdk/js/kakao.min.js")}u("#mobile-sns-btn").removeClass("hide"),u("#sns-btn").removeClass("hide"),u("#sns-btn").on("click",(function(){t.sns.snsDesktopDialog(t.dialog)})),u("#mobile-sns-btn").on("click",(function(){t.sns.snsMobileDialog(t.dialog)})),l.Util.bindClickOrTouchEvent(u("#mobile-sns-btn"),"scroll-blind__more-item--hover",(function(e){u("#more-submenu").toggle()}))}},this.bindInfoBtn=function(){var e=window.localSynap.config;!1!==e.isShowInfo&&(u("#mobile-info-btn").removeClass("hide"),u("#info-btn").removeClass("hide"),u("#info-btn").on("click",(function(){u("#info-btn__img").addClass("info-btn__img--on"),t.dialog.infoDialog(e.companyName?e.companyName:null,(function(){u("#info-btn__img").removeClass("info-btn__img--on")}))})),l.Util.bindClickOrTouchEvent(u("#mobile-info-btn"),"scroll-blind__more-item--hover",(function(n){u("#info-btn__img").addClass("info-btn__img--on"),u("#more-submenu").toggle(),t.dialog.infoDialog(e.companyName?e.companyName:null,(function(){u("#info-btn__img").removeClass("info-btn__img--on")}))})))},this.bindMoreBtn=function(){var e=u("#more-submenu");u("#more-btn").on(l.Util.getClickEventName(),(function(){if(u("#more-submenu").is(":visible"))return e.hide(),void u("#more-btn__img").removeClass("more-btn__img--on");e.show(),u("#more-btn__img").addClass("more-btn__img--on")})),u(document).on(l.Util.getClickEventName(),(function(e){"more-btn"===e.target.id||"more-btn"===e.target.parentElement.id||"string"==typeof e.target.className&&e.target.className.indexOf("scroll-blind__more-item")>-1||(u("#more-submenu").hide(),u("#more-btn__img").removeClass("more-btn__img--on"))}))},this.downloadBtnLoad=function(e){u("#download-btn > a").attr("href",e),u("#download-btn").removeClass("hide"),u("#mobile-download-btn").parent().attr("href",e),u("#mobile-download-btn").removeClass("hide"),l.Util.bindClickOrTouchEvent(u("#mobile-download-btn"),"scroll-blind__more-item--hover")},this.getHeaderCssName=function(e){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,i=n>t?t:n,o=n>t?n:t,r=[400,600,800,1e3],s=[500,700,900,1100,1300],a=Math.round((i-r[0])/200),l=Math.round((o-s[0])/200);return a<0?a=0:a>r.length-1&&(a=r.length-1),l<0?l=0:l>s.length-1&&(l=s.length-1),["html-"+e+"-"+r[a]+"-P","html-"+e+"-"+s[l]+"-L"]},this.setHeaderCss=function(e){var n=t.getHeaderCssName(e);u(".wrap").addClass("html").addClass(n[0]).addClass(n[1]),u(".modal").addClass("html").addClass(n[0]).addClass(n[1])},this.getDocumentWidth=function(){var e=[500,650,800,1e3],n=t.docInfo.status.documentWidth?Math.ceil(t.docInfo.status.documentWidth*(96/72)):e[e.length-1],i=Math.ceil((n-e[0])/150);return i<0?i=0:i>e.length-1&&(i=e.length-1),n=e[i]},this.bindWindowCloseBtnLoad=function(){var e=u("#mobile-window-close-btn");e.removeClass("hide"),e.on(l.Util.getClickEventName(),(function(e){e.preventDefault(),window.close()})),e.html(c.LocaleMessage.getMessage("msg_window_close"))},this.initViewportContent=function(){var e=l.Util.isHtmlSlideSkin(t.docInfo)&&f.Browser.instance.isAndroid&&f.Browser.instance.getChromeVersion()>=73;if(l.Util.isHtmlSkin(t.docInfo)&&!e){var n=t.getDocumentWidth();t.setHeaderCss(n),t.viewportContent="width="+n+", minimum-scale=0.3"}else if(l.Util.isHtmlSkin(t.docInfo)||!f.Browser.instance.isIPhoneX&&!f.Browser.instance.isIPhoneXS)if(l.Util.isHtmlSkin(t.docInfo)||!f.Browser.instance.isIPhoneXSMax&&!f.Browser.instance.isIPhoneXR){window.screen.width<=768&&window.screen.height<=768?t.viewportContent="width=device-width, initial-scale=1.0, minimum-scale=1.0":t.viewportContent="width=768, minimum-scale=1.0"}else t.viewportContent="width=414, minimum-scale=1.0";else t.viewportContent="width=375, minimum-scale=1.0"},this.adjustMobileDeviceViewport=function(){document.querySelector('meta[name="viewport"]').setAttribute("content",t.viewportContent)},this.bindBgcolorBtn=function(){var n=function(){e.bgColorMode===r.lightScreen?(e.bgColorMode=r.darkScreen,"cell"===t.docInfo.skinType?u(".cell__piece").removeClass("img-loading-bright"):(u(".img-loading-bright").addClass("img-loading"),u(".img-loading").removeClass("img-loading-bright"))):(e.bgColorMode=r.lightScreen,"cell"===t.docInfo.skinType?u(".cell__piece").addClass("img-loading-bright"):(u(".img-loading").addClass("img-loading-bright"),u(".img-loading-bright").removeClass("img-loading"))),t.eventObserver.bgColor.notify(e.bgColorMode)};u("#backgroundcolor-btn").on("click",n),l.Util.bindClickOrTouchEvent(u("#mobile-bgcolor-btn"),"scroll-blind__more-item--hover",n)},this.bgColor=function(t){switch(t){case r.darkScreen:e.bgColorMode=r.darkScreen,u(document.body).removeClass("wrap__contents--bgcolor-light"),u("#contents").removeClass("wrap__contents--bgcolor-light"),u("#mobile-bgcolor-btn").html(c.LocaleMessage.getMessage("msg_light_backgroundcolor"));break;case r.lightScreen:e.bgColorMode=r.lightScreen,u(document.body).addClass("wrap__contents--bgcolor-light"),u("#contents").addClass("wrap__contents--bgcolor-light"),u("#mobile-bgcolor-btn").html(c.LocaleMessage.getMessage("msg_dark_backgroundcolor"))}},this.mobilePageAreaLoad=function(e){if(u("#total-page").html(String(e)),f.Browser.instance.isIOS){var n=document.createElement("select");n.id="page__select",n.className="page__select";for(var i=1;i<=e;i++){var o=document.createElement("option");o.value=i,o.innerHTML=i,n.appendChild(o)}document.getElementById("header-page").appendChild(n),document.getElementById("select-arrow").addEventListener("click",(function(){document.getElementById("page__select").focus()})),document.getElementById("page__select").addEventListener("change",(function(){t.eventObserver.page.notify({pageNum:document.getElementById("page__select").selectedIndex,isScroll:!1}),t.hide3secHeaderAndThumb()}))}else{var r=u("#page-content");u("#select-arrow, #page__input").on(l.Util.getClickEventName(),(function(e){if(l.Util.isMobileMode(t.docInfo.status.convertType)&&(r.toggle(),!r.is(":hidden"))){var n=l.Util.isHtmlSkin(t.docInfo)?l.Util.getHeadScale(".wrap__header__container"):1;u("#page-scroll-blind__list").scrollTop((u("#pagelist"+(t.docInfo.currentPage+1)).position().top-u("#pagelist1").position().top)/n),u(".page-scroll-blind__item").removeClass("page-scroll-blind--focus"),u("#pagelist"+(t.docInfo.currentPage+1)).addClass("page-scroll-blind--focus")}})),u(document).on("click",(function(e){"select-arrow"!==e.target.id&&"select-arrow-img"!==e.target.id&&"page__input"!==e.target.id&&r.hide()}));for(i=1;i<=e;i++)t.addPageSubmenuItem(i)}},this.addPageSubmenuItem=function(e){var n=u("<li/>",{id:"pagelist"+e,class:"page-scroll-blind__item","data-index":e,html:e});u(".page-scroll-blind__list").append(n),u("#pagelist"+e).on("click",(function(e){t.movePage(e),t.hide3secHeaderAndThumb()}))},this.hide3secHeaderAndThumb=function(){h.Thumbnail.THUMB_STATUS===h.THUMB_FLAG.off&&(t.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC),t.eventObserver.mobileThumb.notify(a.ShowActionType.HIDE3SEC))},this.movePage=function(e){var n=typeof e.target.value,i=NaN;if("string"===n?i=parseInt(e.target.value.replace(/\D/g,"")):"number"===n&&(i=e.target.value),i-1!=t.docInfo.currentPage){i=0===e.currentTarget.id.indexOf("pagelist")?parseInt(e.currentTarget.getAttribute("data-index")):i;var o=t.docInfo.status.pageNum;isNaN(i)||i<=0||i>o?t.jqPageInput.val(t.docInfo.currentPage+1):t.eventObserver.page.notify({pageNum:i-1,isScroll:!1})}else t.jqPageInput.val(i)},this.focusPage=function(e){if(t.jqPageInput.val(e.pageNum+1),u("#page__input").attr("value",e.pageNum+1),f.Browser.instance.isIOS)document.getElementById("page__select").options[e.pageNum].selected=!0;else if(!u("#page-content").is(":hidden")){var n=l.Util.isHtmlSkin(t.docInfo)?l.Util.getHeadScale(".wrap__header__container"):1;u("#page-scroll-blind__list").scrollTop((u("#pagelist"+(e.pageNum+1)).position().top-u("#pagelist1").position().top)/n),u(".page-scroll-blind__item").removeClass("page-scroll-blind--focus"),u("#pagelist"+(e.pageNum+1)).addClass("page-scroll-blind--focus")}},this.mobileHeader=function(e){clearTimeout(t.mobileHeaderTimer);var n=u(".wrap__header"),i=function(){n.removeClass("wrap__header--hide")};if(e!==a.ShowActionType.SHOW){var o=function(){n.addClass("wrap__header--hide")};e===a.ShowActionType.HIDE?o():e===a.ShowActionType.HIDE3SEC&&(i(),t.mobileHeaderTimer=window.setTimeout((function(){o()}),3e3))}else i()},this.mobileHeaderHover=function(e){switch(e){case"mouseover":t.mobileHeader(a.ShowActionType.SHOW);break;case"mouseleave":t.mobileHeader(a.ShowActionType.HIDE3SEC)}},this.mouseoverEventBind=function(){u(".wrap__header").on("mouseover.head",(function(){l.Util.isMobileMode(t.docInfo.status.convertType)&&!l.Util.isFullScreen()&&"none"===u("#thumbnail").css("display")&&t.mobileHeaderHover("mouseover")})).on("mouseleave.head",(function(){l.Util.isMobileMode(t.docInfo.status.convertType)&&!l.Util.isFullScreen()&&"none"===u("#thumbnail").css("display")&&t.mobileHeaderHover("mouseleave")}))},this.setTitle=function(){window.localSynap.config.isShowTitle&&(document.getElementById("header-title").textContent=t.docInfo.title,document.getElementById("header-title").title=t.docInfo.title,"cell"===t.docInfo.skinType&&document.getElementById("container").clientWidth<330&&(document.getElementById("header-title").style.maxWidth="14%"))},this.orientationchange=function(){t.adjustMobileDeviceViewport()},this.resizeWindow=function(){l.Util.isFullScreen()||(l.Util.isMobileMode(t.docInfo.status.convertType)||u("#page-content").removeAttr("style"),document.getElementById("container").clientWidth<330?document.getElementById("header-title").style.maxWidth="14%":document.getElementById("header-title").style.maxWidth="",l.Util.isMobileMode(t.docInfo.status.convertType)&&t.viewMode!==d.VIEW_MODE.mobile?(t.subscribeMobileHeader(),h.Thumbnail.THUMB_STATUS===h.THUMB_FLAG.off&&t.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC),t.viewMode=d.VIEW_MODE.mobile,t.setTotalPageWidth(),t.sns.getIsEnabled()&&(u("#dialog-contents__content").css("visibility","hidden"),setTimeout((function(){t.sns.resizeDialog(t.viewMode,t.dialog),u("#dialog-contents__content").css("visibility","")}),300))):l.Util.isMobileMode(t.docInfo.status.convertType)||t.viewMode===d.VIEW_MODE.desktop||(clearTimeout(t.mobileHeaderTimer),void 0!==window.localSynap&&!1!==window.localSynap.config.isShowHeader&&u(".wrap__header").removeClass("wrap__header--hide"),t.eventObserver.mobileHeader.unsubscribe(t.mobileHeader),t.viewMode=d.VIEW_MODE.desktop,t.setTotalPageWidth(),t.sns.getIsEnabled()&&(u("#dialog-contents__content").css("visibility","hidden"),setTimeout((function(){t.sns.resizeDialog(t.viewMode,t.dialog),u("#dialog-contents__content").css("visibility","")}),300))))}}return e.prototype.addScript=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,t.appendChild(n)},e.bgColorMode=r.darkScreen,e}();t.Head=m}).call(this,n(3))},,,function(e,t,n){"use strict";n.r(t);var i=n(65),o=n.n(i);n.d(t,"ImageThumbnail",(function(){return o.a}));var r=n(66),s=n.n(r);n.d(t,"SlideThumbnail",(function(){return s.a}));var a=n(8);n.d(t,"Thumbnail",(function(){return a.Thumbnail})),n.d(t,"THUMB_FLAG",(function(){return a.THUMB_FLAG}))},,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,s,a=n(64),l=n(2),c=n(1),u=n(31),d=n(12),h=n(23),p=n(101),f=n(113),g=n(114),m=n(20),v=n(115),b=n(73),w=n(72),_=n(68),E=n(45),y=n(118),I=n(46),T=n(74),S=n(0);!function(e){e[e.HTML=0]="HTML",e[e.IMAGE=1]="IMAGE"}(r=t.CONV_TYPE||(t.CONV_TYPE={})),function(e){e[e.SERVER=0]="SERVER",e[e.MODULE=1]="MODULE"}(s=t.PRODUCT_TYPE||(t.PRODUCT_TYPE={}));var x=function(e){var t=this;this.docInfo={properties:{}},this.passTryCnt=0,this.dialog=new u.Dialog,this.skinType={xls:"cell",xlsx:"cell",csv:"cell",nxls:"cell",ppt:"slide",pptx:"slide",nppt:"slide",doc:"word",docx:"word",ndoc:"word",hwp2k:"word",hwp97:"word",txt:"word",text:"word",hwpml:"word",jpeg:"image",jpg:"image",png:"image",tiff:"image",gif:"image",bmp:"image",pdf:"pdf",odt:"word"},this.getParameter=function(){var e=document.createElement("a");e.href=window.location.href;for(var t=[],n=0,i=e.search.slice(1).split("&");n<i.length;n++){var o=i[n],r=o.split("=")[0],s=o.split("=")[1];t[r]=decodeURIComponent(s)}return t},this.doAfterGetStatusForIMAGEServer=function(e){var n={properties:{}};return n.jobId=t.id,n.contextPath=t.contextPath,n.title=e.fileName,n.downloadUrl=e.downloadUrl,n.status=e,t.setCommonDocInfo(n,e),n.productType=s.SERVER,n},this.doAfterGetStatusForHTMLServer=function(e){return i(t,void 0,void 0,(function(){var t,n,i;return o(this,(function(o){switch(o.label){case 0:return 0!==e.htmlErrCode?[2,this.doAfterGetStatusForIMAGEServer(e)]:(t=this.contextPath+"xml/"+this.id,[4,l.Util.getXml(t)]);case 1:return n=o.sent(),(i=this.doAfterGetStatusForHTML(n)).resultPath=this.contextPath+"result/"+i.status.resultFileName+"/",i.title=e.fileName,i.downloadUrl=e.downloadUrl,i.productType=s.SERVER,[2,i]}}))}))},this.setCommonDocInfo=function(e,n){null===n.format?e.fileType="docx":e.fileType=n.format.toLowerCase();var i=e.fileType;e.skinType=t.skinType[i],"cell"!==e.skinType?e.currentPage=0:e.currentSheet=0},this.doAfterGetStatusForHTML=function(e){var n={properties:{}};return n.jobId=t.id,n.resultPath=t.contextPath,n.title=e.index.doc_title?e.index.doc_title:t.id,n.downloadUrl=e.index.downUrl,e.format=e.index.file_type,n.status={convertType:r.HTML,single:"true"===e.index.use_single_page,fileName:e.index.file_name,format:e.index.file_type,htmlConverting:!0,htmlDone:!0,pageNum:0,imgDone:!1,resultFileName:e.index.file_name,width:e.index.width,height:e.index.height},t.setCommonDocInfo(n,e),"cell"===n.skinType||"csv"===n.skinType?n.status.pageNum=parseInt(e.index.sheet_cnt):"slide"===n.skinType?n.status.pageNum=parseInt(e.index.slide_cnt):"pdf"===n.skinType?n.status.pageNum=parseInt(e.index.pdf_cnt):"image"===n.skinType?n.status.pageNum=parseInt(e.index.image_cnt):"word"===n.skinType&&(n.status.documentWidth=parseInt(e.index.width)),n.productType=s.MODULE,n},this.sendPassword=function(){return i(t,void 0,void 0,(function(){var e,t,n;return o(this,(function(i){switch(i.label){case 0:if(""===(e=S("#dialog-passwd").val()))return this.dialog.passwdDialog("msg_input_password",this.sendPassword,this.cancelPassword),[2];this.dialog.remove(),S("#contents").addClass("img-loading"),this.passTryCnt+=1,t=this.contextPath+"/passcode/"+this.id,(n={}).param={passcode:e},i.label=1;case 1:return i.trys.push([1,4,,5]),[4,l.Util.postJson(t,n)];case 2:return i.sent(),S("#contents").removeClass("img-loading"),[4,this.load()];case 3:return i.sent(),[3,5];case 4:return i.sent(),S("#contents").removeClass("img-loading"),this.dialog.alertDialog("help.erro_code.errorcode.255.desc1"),[3,5];case 5:return[2]}}))}))},this.cancelPassword=function(){t.dialog.openFailDialog()},this.passwordProcess=function(){t.passTryCnt>0?t.dialog.passwdDialog("msg_input_retry",t.sendPassword,t.cancelPassword):t.dialog.passwdDialog(null,t.sendPassword,t.cancelPassword)},this.getArchiveFileList=function(){return i(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:e=this.contextPath+"/archiveFileList/"+this.id,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l.Util.postJson(e)];case 2:return[2,t.sent()];case 3:return t.sent(),S("#contents").removeClass("img-loading"),this.dialog.alertDialog("msg_archiveFile_convFail"),[2,null];case 4:return[2]}}))}))},this.zipProcess=function(e){return i(t,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.getArchiveFileList()];case 1:return(t=n.sent())&&(S("#contents").removeClass("img-loading"),new T.FileExplorer(t,this.docInfo.title,this.contextPath,this.id,this.docInfo.status.convertType,e).archiveFileViewDialog()),[2]}}))}))},this.errProcess=function(e,n){var i="";if(3!==e){if(2===e)i="help.erro_code.errorcode.2.desc1";else if(4===e)i="help.erro_code.errorcode.4.desc1";else if(9===e)i="help.erro_code.errorcode.3.desc1";else{if(21===e)return void t.zipProcess(n);if(22===e)i="help.error_code.errorcode.22.desc1";else if(101===e)i="help.erro_code.errorcode.101.desc1";else if(134===e||148===e)i="help.erro_code.errorcode.134.desc1";else if(254===e)i="help.erro_code.errorcode.254.desc1";else if(255===e)i="help.erro_code.errorcode.255.desc1";else{if(!window.localSynap||"function"!=typeof window.localSynap.loadErrorHandler)return void(location.href=t.contextPath+"/exception?convLocale="+n);i=window.localSynap.loadErrorHandler(e)}}t.dialog.alertDialog(i)}else t.passwordProcess()},this.localSynapSetting=function(){window.localSynap||(window.localSynap={},window.localSynap.config={});var e=window.localSynap;e.getCurrentPage=function(){return t.docInfo.currentPage+1},e.moveNext=function(){t.docInfo.currentPage<t.docInfo.status.pageNum-1&&(l.Util.isHtmlCellSkin(t.docInfo)?t.eventObserver.sheet.notify(t.docInfo.currentPage+1):t.eventObserver.page.notify({pageNum:t.docInfo.currentPage+1,isScroll:!1}))},e.movePrev=function(){t.docInfo.currentPage>0&&(l.Util.isHtmlCellSkin(t.docInfo)?t.eventObserver.sheet.notify(t.docInfo.currentPage-1):t.eventObserver.page.notify({pageNum:t.docInfo.currentPage-1,isScroll:!1}))},e.movePage=function(e){e>0&&e<=t.docInfo.status.pageNum&&(l.Util.isHtmlCellSkin(t.docInfo)?t.eventObserver.sheet.notify(e-1):t.eventObserver.page.notify({pageNum:e-1,isScroll:!1}))},window.localSynap.onLoadBody&&window.localSynap.onLoadBody instanceof Function&&window.localSynap.onLoadBody()},this.focusPage=function(){window.localSynap.onMovePage&&window.localSynap.onMovePage instanceof Function&&window.localSynap.onMovePage()},this.scroll=function(){window.localSynap.onScroll&&window.localSynap.onScroll instanceof Function&&window.localSynap.onScroll()},this.optionSettings=function(){var e=window.localSynap.config;e.ZOOM_LIST&&0!==e.ZOOM_LIST.length&&(E.Controlbar.ZOOM_LIST=e.ZOOM_LIST),e.preventPrint&&S("body").addClass("layout")},this.getConvLocale=function(e){return void 0===e.convLocale?"ko":e.convLocale},this.isModuleType=function(e){return void 0===e.key},this.getContextPath=function(e){return t.isModuleType(e)?"/"===e.rs[e.rs.length-1]?e.rs.substring(0,e.rs.length-1):e.rs:e.contextPath},this.getInfoURL=function(e){return t.isModuleType(e)?t.getContextPath(e)+"/"+t.id+".xml":t.contextPath+"/status/"+e.key},this.load=function(){return i(t,void 0,void 0,(function(){var e,t,n,i,r,s,u,T,S,x,C;return o(this,(function(o){switch(o.label){case 0:return e=this.getParameter(),this.id=this.isModuleType(e)?e.fn:e.key,this.contextPath=this.getContextPath(e),!this.contextPath&&void 0!==window.localSynap&&window.localSynap.config.contextPath&&(this.contextPath=window.localSynap.config.contextPath.trim()),[4,d.LocaleMessage.setLocale(this.getConvLocale(e))];case 1:t=o.sent(),document.documentElement.setAttribute("lang",t),document.title=d.LocaleMessage.getMessage("view_title"),this.dialog.defaultDialog(),d.LocaleMessage.setLocaleMessage(),n=this.getInfoURL(e),o.label=2;case 2:o.label=3;case 3:return o.trys.push([3,13,,14]),this.isModuleType(e)?[4,l.Util.getXml(n)]:[3,5];case 4:return r=o.sent(),[3,7];case 5:return[4,l.Util.getJson(n)];case 6:r=o.sent(),o.label=7;case 7:return(i=r).imgDone?(this.docInfo=this.doAfterGetStatusForIMAGEServer(i),[3,15]):i.htmlDone?(s=this,[4,this.doAfterGetStatusForHTMLServer(i)]):[3,9];case 8:return s.docInfo=o.sent(),[3,15];case 9:return i.index?(this.docInfo=this.doAfterGetStatusForHTML(i),[3,15]):[3,10];case 10:return[4,l.Util.sleep(1e3)];case 11:o.sent(),o.label=12;case 12:return[3,14];case 13:return"403"===o.sent().message?this.dialog.alertDialog("msg_exception_url_access_failed"):this.dialog.alertDialog("help.erro_code.errorcode.255.desc1"),[2,null];case 14:return[3,2];case 15:if(this.docInfo.status.imgDone&&this.docInfo.status.imgErrCode>0)return this.errProcess(this.docInfo.status.imgErrCode,t),[2,null];if(this.docInfo.status.htmlDone&&this.docInfo.status.htmlErrCode>0)return this.errProcess(this.docInfo.status.htmlErrCode,t),[2,null];this.localSynapSetting(),u=[],l.Util.isHtmlSkin(this.docInfo)?"word"===this.docInfo.skinType||l.Util.useSingle(this.docInfo)?u=[new m.Head,new y.Word,new v.Presentation,new w.MobileEvent,new _.WindowEvent]:"cell"===this.docInfo.skinType?u=[new g.HtmlSheet,new m.Head,new v.Presentation,new w.MobileEvent,new _.WindowEvent,new E.Controlbar]:"slide"===this.docInfo.skinType&&(u=c.Browser.instance.isMobile?[new m.Head,new I.Slide,new v.Presentation,new b.KeyEvent,new w.MobileEvent,new _.WindowEvent,new E.Controlbar]:[new m.Head,new h.SlideThumbnail,new I.Slide,new v.Presentation,new b.KeyEvent,new w.MobileEvent,new _.WindowEvent,new E.Controlbar]):u="cell"===this.docInfo.skinType?[new f.ImageSheet,new m.Head,new v.Presentation,new w.MobileEvent,new _.WindowEvent,new E.Controlbar]:"cell"!==this.docInfo.skinType&&"image"!==this.docInfo.skinType&&!0===window.localSynap.config.search?[new m.Head,new p.ImagePage,new h.ImageThumbnail,new v.Presentation,new b.KeyEvent,new w.MobileEvent,new _.WindowEvent,new E.Controlbar,new a.Annotation]:[new m.Head,new p.ImagePage,new h.ImageThumbnail,new v.Presentation,new b.KeyEvent,new w.MobileEvent,new _.WindowEvent,new E.Controlbar],T=0,S=u,o.label=16;case 16:return T<S.length?[4,S[T].load(this.docInfo,this.eventObserver)]:[3,19];case 17:o.sent(),o.label=18;case 18:return T++,[3,16];case 19:return l.Util.isHtmlSkin(this.docInfo)||"cell"===this.docInfo.skinType||(x=this.eventObserver.resizeWindow.observers,C=x[1],x.splice(1,1),x.splice(2,0,C)),this.eventObserver.page.subscribe(this.focusPage),this.eventObserver.scroll.subscribe(this.scroll),this.optionSettings(),[2]}}))}))},this.eventObserver=e};t.Init=x}).call(this,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n(0),r=function(){var e=this;this.remove=function(){e.jqDialog.hide(),e.jqModal.hide(),e.jqCommitButton.off("click"),e.jqCancelButton.off("click"),e.jqPassword.off("keyup"),o(".infoDialogOpen").removeClass("infoDialogOpen"),o(".infoDialogOpenBtn").removeClass("infoDialogOpenBtn")},this.removeSheetDialog=function(){e.jqSheetModal.hide()},this.passwdDialog=function(t,n,o){e.jqPassword.css("border","1px solid #e6e6e6"),null!==t?(e.jqPassword.css("border","1px solid #ff0000"),e.jqMessage.html(""+i.LocaleMessage.getMessage(t)),e.jqMessage.show()):e.jqMessage.hide(),e.jqDialog.show(),e.jqModal.show(),e.jqPassword.trigger("focus"),e.jqPassword.on("keyup",(function(t){"Enter"===t.key?(e.remove(),n()):"Escape"===t.key&&o()})),e.jqCancelButton.on("click",(function(){o()})),e.jqCommitButton.on("click",(function(){e.remove(),n()}))},this.openFailDialog=function(){e.jqContent.html(""+i.LocaleMessage.getMessage("msg_exception_open_failed")),e.jqPassword.hide(),e.jqMessage.hide(),e.jqCancelButton.hide(),e.jqCommitButton.text(i.LocaleMessage.getMessage("msg_refresh")),e.jqCommitButton.attr("title",i.LocaleMessage.getMessage("msg_refresh")),e.jqDialog.show(),e.jqModal.show(),e.jqCommitButton.on("click",(function(){e.remove(),location.reload()}))},this.infoDialog=function(t,n){if(t&&(e.jqCompanyKey.text(""+i.LocaleMessage.getMessage("info_company_name")),e.jqCompanyValue.text(""+t),e.jqCompanyValue.attr("title",""+t),e.jqCompany.show()),e.jqContent.html(""),e.jqVersionKey.text(""+i.LocaleMessage.getMessage("info_product_name_version_key")),e.jqVersionValue.text(""+i.LocaleMessage.getMessage("info_product_name_version_value")),e.jqVersion.show(),e.jqCopyright.html(""+i.LocaleMessage.getMessage("into_product_copyright")),e.jqContent.css("text-align","left"),e.jqCopyright.css("text-align","left"),e.jqDialog.css("width","auto"),o(".dialog-contents").addClass("infoDialogOpen"),o(".dialog-buttons").addClass("infoDialogOpenBtn"),e.jqLogo.show(),e.jqPassword.hide(),e.jqMessage.hide(),e.jqCommitButton.show(),e.jqCancelButton.hide(),e.jqDialog.show(),e.jqModal.show(),e.jqCopyright.show(),e.jqCompany.css("width",document.getElementById("dialog-contents__content").clientWidth),t){var r=Math.max(e.jqVersionKey.innerWidth(),e.jqCompanyKey.innerWidth());e.jqCompanyKey.css("width",r),e.jqVersionKey.css("width",r)}var s=document.getElementById("dialog").clientWidth/2;e.jqDialog.css("margin-left","-"+s+"px"),e.jqCommitButton.on("click",(function(){n(),e.remove(),e.jqCompanyKey.css("width",""),e.jqVersionKey.css("width",""),e.jqCompany.hide(),e.jqVersion.hide(),e.jqLogo.hide(),e.jqCopyright.hide(),e.jqContent.css("text-align",""),e.jqCopyright.css("text-align",""),e.jqDialog.css("width",""),e.jqCompany.css("width","")}))},this.alertDialog=function(t){e.jqContent.html(i.LocaleMessage.getMessage(t)),e.jqPassword.hide(),e.jqMessage.hide(),o(".dialog-buttons").hide(),e.jqDialog.show(),e.jqModal.show()},this.sheetAlertDialog=function(t){e.jqSheetContent.html(i.LocaleMessage.getMessage(t)),e.jqSheetModal.show()},this.confirmDialog=function(t,n){e.jqContent.html(i.LocaleMessage.getMessage(t)),e.jqPassword.hide(),e.jqMessage.hide(),e.jqDialog.show(),e.jqCancelButton.hide(),e.jqModal.show(),e.jqCommitButton.on("click",(function(){e.remove(),n()})),e.jqCommitButton.attr("tabindex",0),e.jqCommitButton.trigger("focus"),e.jqCommitButton.on("keyup",(function(t){"Enter"===t.key&&(e.jqCommitButton.attr("tabindex",""),e.remove(),n())}))},this.defaultDialog=function(){e.jqLogo.hide(),e.jqContent.html(i.LocaleMessage.getMessage("msg_exception_doc")),e.jqMessage.html(i.LocaleMessage.getMessage("msg_input_retry")),e.jqCancelButton.text(i.LocaleMessage.getMessage("msg_cancel")),e.jqCommitButton.text(i.LocaleMessage.getMessage("msg_submit"))},this.jqModal=o(".modal"),this.jqDialog=o(".dialog"),this.jqCommitButton=o("#commit-btn"),this.jqCancelButton=o("#cancel-btn"),this.jqPassword=o(".dialog-contents__password",this.jqModal),this.jqMessage=o(".dialog-contents__msg",this.jqModal),this.jqCompany=o(".dialog-contents__company",this.jqModal),this.jqCompanyKey=o(".dialog-contents__company-key",this.jqModal),this.jqCompanyValue=o(".dialog-contents__company-value",this.jqModal),this.jqVersion=o(".dialog-contents__version",this.jqModal),this.jqVersionKey=o(".dialog-contents__version-key",this.jqModal),this.jqVersionValue=o(".dialog-contents__version-value",this.jqModal),this.jqContent=o(".dialog-contents__content",this.jqModal),this.jqCopyright=o(".dialog-contents__copyright",this.jqModal),this.jqLogo=o(".dialog-logo"),this.jqSheetContent=o(".sheetdialog-contents"),this.jqSheetModal=o(".sheetmodal")};t.Dialog=r},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(0),r=n(1);!function(e){e[e.ZoomIn=0]="ZoomIn",e[e.ZoomOut=1]="ZoomOut",e[e.OriginSize=2]="OriginSize"}(t.ZOOM_TYPE||(t.ZOOM_TYPE={}));var s=function(){function e(){var e=this;this.docInfo=null,this.eventObserver=null,this.controlbarId=null,this.fadeControlbar=function(){var t;i.Util.isMobileMode(e.docInfo.status.convertType)||i.Util.isFullScreen()||"block"===e.jsSheetModal.css("display")?(e.jsContents.off("mousemove"),e.jqControlbar.hide()):(e.jsContents.on("mousemove",(function(n){clearTimeout(t),e.jqControlbar.stop(!0,!0).show(),(!n.target.parentElement||n.target.id!==e.controlbarId&&n.target.parentElement.id!==e.controlbarId)&&(t=setTimeout((function(){e.jqControlbar.fadeOut(1e3)}),e.controlbarFadeoutTimeout))})),e.moveControlbar())},this.moveControlbar=function(){var t=function(){if(void 0===window.localSynap.config.controllbarPosition||0==Object.keys(window.localSynap.config.controllbarPosition).length)e.jqControlbar.css("left",0),e.jqControlbar.css("left",o("#thumbnail").outerWidth()+o("#contents").width()/2-o("#"+e.controlbarId).outerWidth()/2);else{var t=!!window.localSynap.config.controllbarPosition.left,n=!!window.localSynap.config.controllbarPosition.right;t&&!n?e.jqControlbar.css({left:o("#thumbnail").outerWidth()+Number(window.localSynap.config.controllbarPosition.left.replace("px",""))}):!t&&n?e.jqControlbar.css({right:document.getElementById("contents").offsetWidth-document.getElementById("contents").clientWidth+Number(window.localSynap.config.controllbarPosition.right.replace("px",""))}):(e.jqControlbar.css("left",0),e.jqControlbar.css("left",o("#thumbnail").outerWidth()+o("#contents").width()/2-o("#"+e.controlbarId).outerWidth()/2));var i=!!window.localSynap.config.controllbarPosition.bottom,r=!!window.localSynap.config.controllbarPosition.top;i&&!r?e.jqControlbar.css({bottom:window.localSynap.config.controllbarPosition.bottom}):!i&&r&&e.jqControlbar.css({top:window.localSynap.config.controllbarPosition.top,bottom:"auto"})}};r.Browser.instance.isIOS?setTimeout(t,500):t()},this.resizeWindow=function(){setTimeout((function(){e.fadeControlbar()}),150)},this.fullscreen=function(){e.fadeControlbar()},this.sheetMove=function(){e.fadeControlbar()},this.sheetFail=function(){e.jsContents.off("mousemove"),e.jqControlbar.hide()},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.resizeWindow.subscribe(e.resizeWindow),e.eventObserver.fullScreen.subscribe(e.fullscreen),e.eventObserver.resizeContents.subscribe(e.moveControlbar),e.eventObserver.sheet.subscribe(e.sheetMove),e.eventObserver.sheetFail.subscribe(e.sheetFail),e.fadeControlbar()},this.load=function(t,n){e.docInfo=t,e.controlbarId="cell"===e.docInfo.skinType?"cell-controlbar":"page-controlbar",e.jqControlbar=o("#"+e.controlbarId);var r=window.localSynap.config.controllbarFadeoutTimeout;if(r&&(e.controlbarFadeoutTimeout=r),i.Util.isHtmlSkin(e.docInfo)&&e.hideZoomBtn(),e.eventBind(n),"page-controlbar"===e.controlbarId){var s=e.jqControlbar.width();e.jqControlbar.css("min-width",s)}},this.hideZoomBtn=function(){o(".controlbar__seperator").hide(),o("#cell-zoomout").hide(),o("#cell-zoomin").hide(),o("#page-zoomout").hide(),o("#page-zoomin").hide(),o("#page-originsize").hide(),o("#page-pagewidthfit").hide(),o("#page-pagefit").hide(),o("#page-rotate").hide()},this.jsSheetModal=o(".sheetmodal"),this.jsContents=void 0===window.localSynap.config.controllbarPosition||0==Object.keys(window.localSynap.config.controllbarPosition).length?o("#contents"):o("#contents, #header"),this.controlbarFadeoutTimeout=3e3}return e.ZOOM_LIST=[25,50,100,150,200],e}();t.Controlbar=s},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n(2),c=n(0),u=n(119),d=n(120),h=n(23),p=n(20),f=n(6),g=function(e){function t(){var n=e.call(this)||this;return n.initPageNum=5,n.SlidePageFitAction=new d.SlidePageFit,n.SlidePageScrollFitAction=new u.SlidePageScrollFit,n.loadTimeout=null,n.getDimensionHtml=function(e){return r(n,void 0,void 0,(function(){var n,i,o;return s(this,(function(r){switch(r.label){case 0:return n=e.resultPath+"/"+e.status.fileName+".xml",i=[],[4,l.Util.getXml(n)];case 1:return o=r.sent(),t.SLIDE_INFO.start=parseInt(o.index.startPage),t.SLIDE_INFO.end=parseInt(o.index.endPage),t.SLIDE_INFO.total=parseInt(o.index.slide_cnt),1===t.SLIDE_INFO.total?(i[0]=[],i[0].index=parseInt(o.index.slide_list.slide.id)-1,i[0].path=o.index.slide_list.slide.path_xhtml,i[0].width=o.index.width,i[0].height=o.index.height,t.SLIDE_LIST[0]={path:o.index.slide_list.slide.path_xhtml},[2,i]):(c.each(o.index.slide_list.slide,(function(e,n){var r=parseInt(n.id)-1,s={index:r,width:o.index.width,height:o.index.height};i[e]=s,t.SLIDE_LIST[r]={path:n.path_xhtml}})),[2,i])}}))}))},n.createContentDivInMobile=function(e){return r(n,void 0,void 0,(function(){var n,i,o,r,a,l,u;return s(this,(function(s){for(n=document.createDocumentFragment(),i=0,o=e;i<o.length;i++)r=o[i],t.ORIGIN_SIZE[r.index]={width:r.width,height:r.height},(a=document.createElement("iframe")).id="page"+r.index,a.name=r.index,a.title="page"+(r.index+1),a.scrolling="no",a.frameBorder="no",(l=document.createElement("div")).id="page-alpha"+r.index,l.className="thumb-slide-alpha",r.index<this.initPageNum&&this.onLoadImg(a,r.index),(u=document.createElement("div")).id="page-area"+r.index,u.className="contents-page",u.appendChild(a),u.appendChild(l),n.appendChild(u);return c("#contents-area").append(n),t.ORIGIN_MARGIN={marginTop:parseInt(c(".contents-page").css("margin-top")),marginBottom:parseInt(c(".contents-page").css("margin-bottom"))},c("#page-area0").addClass("contents-page--start"),c("#page-area"+(t.SLIDE_INFO.total-1)).addClass("contents-page--end"),this.pageResizeAction.resizePage(1,null,0,this.initPageNum),[2]}))}))},n.iframeEventBindInDesktop=function(){return r(n,void 0,void 0,(function(){return s(this,(function(e){return c("#page0").on("load",(function(e){c(this).contents().on("mousewheel DOMMouseScroll",(function(e){!0!==e.ctrlKey&&(clearTimeout(t.wheelStopHandler),t.wheelStopHandler=setTimeout((function(){t.mousewheelInDesktop(e)}),300))}));var n=document.getElementById("contents-area"),i=document.getElementById("page0"),o=function(e){if(l.Util.isFullScreen())return e.preventDefault(),!1};i.contentDocument.addEventListener("contextmenu",o),i.contentDocument.addEventListener("contextmenu.fullscreen",o);i.contentDocument.addEventListener("mousemove",l.Util.getMouseHandlerDispatch(n)),i.contentDocument.addEventListener("mousedown",l.Util.getMouseHandlerDispatch(n,(function(e){return l.Util.isFullScreen()}))),i.contentDocument.addEventListener("mouseup",l.Util.getMouseHandlerDispatch(n)),i.contentDocument.addEventListener("click",l.Util.getMouseHandlerDispatch(n)),i.contentDocument.addEventListener("keydown",l.Util.getKeybordHandlerDispatch(n)),i.contentDocument.addEventListener("keyup",l.Util.getKeybordHandlerDispatch(n))})),[2]}))}))},n.createContentDivInDesktop=function(e){return r(n,void 0,void 0,(function(){var n,i,o,r,a,l;return s(this,(function(s){for(n=document.createDocumentFragment(),i=0,o=e;i<o.length;i++)r=o[i],t.ORIGIN_SIZE[r.index]={width:r.width,height:r.height};return(a=document.createElement("div")).id="page-area0",(l=document.createElement("iframe")).id="page0",l.name="0",l.title="content",l.scrolling="no",l.frameBorder="no",this.onLoadImg(l,0),a.appendChild(l),n.appendChild(a),c("#contents-area").append(n),this.iframeEventBindInDesktop(),[2]}))}))},n.createContentDiv=function(e){return r(n,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=null,[4,this.getDimensionHtml(e)];case 1:return t=n.sent(),a.Browser.instance.isMobile?[4,this.createContentDivInMobile(t)]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,this.createContentDivInDesktop(t)];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))},n.getPageElem=function(e){return document.getElementById("page"+e)},n.loadPageImg=function(e){if(a.Browser.instance.isMobile){var t=n.getDefaultLadingCnt(),i=e-t<0?0:e-t,o=e+t>n.docInfo.status.pageNum?n.docInfo.status.pageNum:e+t;null!=n.loadTimeout&&clearTimeout(n.loadTimeout),n.loadTimeout=window.setTimeout((function(){for(var e=0;e<i;e++){-1===(t=n.getPageElem(e)).contentWindow.location.href.indexOf("about:blank")&&t.contentWindow.location.replace("about:blank")}for(e=i;e<o;e++){0===(t=n.getPageElem(e)).contentWindow.location.href.indexOf("about:blank")&&n.onLoadImg(t,e)}for(e=o+1;e<n.docInfo.status.pageNum;e++){var t;-1===(t=n.getPageElem(e)).contentWindow.location.href.indexOf("about:blank")&&t.contentWindow.location.replace("about:blank")}}),200)}else{var r=n.getPageElem(0);n.onLoadImg(r,e)}},n.checkResizeControlBar=function(){},n.bindControlbarEvent=function(){l.Util.bindClickOrTouchEvent(c("#page-prev"),"controlbar-prev--hover",n.moveBackPage),l.Util.bindClickOrTouchEvent(c("#page-next"),"controlbar-next--hover",n.moveNextPage),n.checkMoveControlbar()},n.onLoadImg=function(e,i){l.Util.isFullScreen()?e.className=" contents-page__img img-loading-black":e.className=p.Head.bgColorMode===p.BGCOLOR_MODE.darkScreen?" contents-page__img img-loading":" contents-page__img img-loading-bright",e.src=""+l.Util.getResultPath(n.docInfo,t.SLIDE_LIST[i].path)},n.isFitAction=function(){return n.pageResizeAction===n.SlidePageScrollFitAction},n.setFitAction=function(){n.preResizeObj=f.Page.RESIZE_OBJ,n.prePageAction=n.pageResizeAction,a.Browser.instance.isMobile?(f.Page.RESIZE_OBJ={type:f.RESIZE_TYPE.PageFit,percent:0},n.pageResizeAction=n.SlidePageScrollFitAction):(f.Page.RESIZE_OBJ={type:f.RESIZE_TYPE.SlidePageFit,percent:0},n.pageResizeAction=n.SlidePageFitAction)},n.getRotateMap=function(){return null},n.isThumbnailOn=function(){return h.SlideThumbnail.THUMB_STATUS===h.THUMB_FLAG.on},n._innerResizeWindow=function(){c(".contents-page").removeAttr("style"),f.Page.ORIGIN_MARGIN={marginTop:parseInt(c(".contents-page").css("margin-top")),marginBottom:parseInt(c(".contents-page").css("margin-bottom"))},n.pageResizeAction.resizePage(1,null)},n.fullscreenAfterEvent=function(){a.Browser.instance.isIE&&11===a.Browser.instance.version&&n.resizeWindow()},n.pageMouseEventBind=function(){c("#contents-area").on("mousewheel DOMMouseScroll",(function(e){!0!==e.ctrlKey&&(clearTimeout(t.wheelStopHandler),t.wheelStopHandler=setTimeout((function(){t.mousewheelInDesktop(e)}),300))}))},n.eventBind=function(e){n.eventObserver=e,n.eventObserver.page.subscribe(n.focusPage),n.eventObserver.resizeWindow.subscribe(n.resizeWindow),n.eventObserver.fullScreen.subscribe(n.fullScreen),n.eventObserver.singleTap.subscribe(n.singleTap),n.eventObserver.orientationchange.subscribe(n.orientationchange),n.eventObserver.moveBtn.subscribe(n.checkMoveControlbar),n.eventObserver.androidVirtualKeyboard.subscribe(n.androidVirtualKeyboard),a.Browser.instance.isMobile?n.scrollEventBind():n.pageMouseEventBind(),n.mouseEventBind()},n.setTabIndex=function(){for(var e=["page__input","info-btn","thumbnailview-btn","download-btn","backgroundcolor-btn","presentation-btn"],t=0;t<e.length;t++)document.getElementById(e[t]).tabIndex=t+1;document.getElementById("fullscreen-close").tabIndex=6,document.getElementById("page-area0").tabIndex=10},n.load=function(e,t){return r(n,void 0,void 0,(function(){var n=this;return s(this,(function(i){switch(i.label){case 0:return this.docInfo=e,a.Browser.instance.isMobile?this.pageResizeAction=this.SlidePageScrollFitAction:this.pageResizeAction=this.SlidePageFitAction,a.Browser.instance.isIOS&&(c("#wrap").addClass("wrap--ios"),c("#container").addClass("wrap__container--ios"),c("#contents").addClass("wrap__contents--ios"),c("#thumbnail").addClass("wrap__thumbnail--ios"),c("#footer").addClass("wrap__footer--ios")),this.bindControlbarEvent(),[4,this.createContentDiv(this.docInfo)];case 1:return i.sent(),this.setTabIndex(),this.eventBind(t),this.eventObserver.resizeContents.notify(),this.resizeWindow(),this.docInfo.status.pageNum>this.initPageNum&&setTimeout((function(){n.pageResizeAction.resizePage(1,null,n.initPageNum,n.docInfo.status.pageNum-n.initPageNum)}),30),[2]}}))}))},n.setDefaultLadingCnt(3),n}return o(t,e),t.SLIDE_LIST=[],t.SLIDE_INFO={start:0,end:0,total:0},t.mousewheelInDesktop=function(e){(e.originalEvent.deltaY||-e.originalEvent.wheelDelta)<0?window.localSynap.movePrev():window.localSynap.moveNext()},t}(f.Page);t.Slide=g}).call(this,n(3))},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(8),a=n(8),l=n(31),c=n(30),u=n(12),d=n(9),h=n(2),p=n(0),f=n(1),g=n(6),m=n(67);!function(e){e[e.NONE=0]="NONE",e[e.NEXT=1]="NEXT",e[e.PREV=2]="PREV"}(r=t.SEARCH_TYPE||(t.SEARCH_TYPE={}));var v=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.textObj={},this.isFullScreen=!1,this.prevSearchResult={},this.zoomFactor=d.DetectZoom.getRatio()/100,this.DEFAULT_LOADING_CNT=3,this.DEFAULT_SEARCH_LENGTH=10,this.dialog=new l.Dialog,this.getXml=function(t,n){return i(e,void 0,void 0,(function(){var e;return o(this,(function(i){switch(i.label){case 0:return e=h.Util.isConvHtml(t)?t.resultPath+"/"+t.status.fileName+".files/"+t.status.fileName+"_"+(n+1)+".xml":t.contextPath+"/thumbnailxml/"+t.status.id+"/"+n,[4,h.Util.getThumbnailXml(e)];case 1:return[2,i.sent()]}}))}))},this.createContentDiv=function(t,n,r){return i(e,void 0,void 0,(function(){var e,i,s,a,l,c,u;return o(this,(function(o){for(e=document.createDocumentFragment(),(i=document.createElement("div")).id="textlayer"+n,i.className="textlayer",i.style.cssText="width:"+t["@attributes"].w*r+"px;height:"+t["@attributes"].h*r+"px;",s=0,a=0,l=t.text;a<l.length;a++)c=l[a],(u=document.createElement("span")).id="text"+n+"_"+s,u.className="textline",u.textContent=c.text,u.style.cssText="left:"+c["@attributes"].l*r+"px;top:"+c["@attributes"].t*r+"px;font-size:"+c["@attributes"].h*r+"px;",i.appendChild(u),s++;return e.appendChild(i),p("#page-area"+n).append(e),[2]}))}))},this.loadTextXml=function(t){return i(e,void 0,void 0,(function(){var e,n,i,r,s;return o(this,(function(o){switch(o.label){case 0:e=this.DEFAULT_LOADING_CNT,n=t-e<0?t:t-e,i=t+e>this.docInfo.status.pageNum?this.docInfo.status.pageNum:t+e,r=null==JSON.parse(localStorage.getItem(this.docInfo.jobId))?{}:JSON.parse(localStorage.getItem(this.docInfo.jobId)),s=n,o.label=1;case 1:return s<i?[4,this._createTextDiv(s,r)]:[3,4];case 2:o.sent(),o.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},this._createTextDiv=function(t,n){return i(e,void 0,void 0,(function(){var e,i,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:return e=p("#contents").width(),i=g.Page.RESIZE_OBJ,null!=this.textObj&&null!=this.textObj[t]?[3,2]:[4,this.getXml(this.docInfo,t)];case 1:if(null==(r=o.sent()).result)return[2];this.textObj[t]={"@attributes":r.page,text:r.text,allText:r.result},n[t]||(n[t.toString()]=r.result,localStorage.setItem(this.docInfo.jobId,JSON.stringify(n))),o.label=2;case 2:return s=this.getRatio(t,i,e,this.zoomFactor),(a=document.getElementById("textlayer"+t))?[3,4]:[4,this.createContentDiv(this.textObj[t],t,s)];case 3:return o.sent(),[3,5];case 4:l=(this.textObj[t]["@attributes"].w*s).toFixed(3)+"px",a.style.width!==l&&this._updatePosition(a,t,s),o.label=5;case 5:return[2]}}))}))},this.focusPage=function(t){return i(e,void 0,void 0,(function(){var e,n,i,s=this;return o(this,(function(o){switch(o.label){case 0:return this.isFullScreen?[3,2]:[4,this.loadTextXml(t.pageNum)];case 1:if(o.sent(),!f.Browser.instance.isMobile&&!h.Util.isMobileMode(c.CONV_TYPE.IMAGE)&&p("#search").is(":visible")&&""!=this.jqSearchInput.val()&&void 0!==this.prevSearchResult.textId){for(e=!1,n=0;n<this.prevSearchResult.textId.length&&!(e=this.prevSearchResult.textId[n].indexOf("text"+t.pageNum)>-1);n++);i=this.jqSearchInput.val(),e||(this.focusSearchText(event,i,t.pageNum),setTimeout((function(){s.focusSearchText(event,i,t.pageNum+1,r.NEXT),s.focusSearchText(event,i,t.pageNum-1,r.PREV)}),20))}o.label=2;case 2:return[2]}}))}))},this.rePosition=function(t){if(void 0===t&&(t=null),window.localSynap.config.search){t=null==t?g.Page.RESIZE_OBJ:t;for(var n=e.docInfo.currentPage,i=e.DEFAULT_LOADING_CNT,o=n-i<0?0:n-i,r=n+i>e.docInfo.status.pageNum?e.docInfo.status.pageNum:n+i,s=f.Browser.instance.isMobile||100===d.DetectZoom.getRatio()?1:d.DetectZoom.getRatio()/100,a=p("#contents").width(),l=o;l<r;l++){var c=document.getElementById("textlayer"+l);if(c){var u=e.getRatio(l,t,a,s);e._updatePosition(c,l,u)}}}},this._updatePosition=function(t,n,i){t.style.cssText="width:"+e.textObj[n]["@attributes"].w*i+"px;height:"+e.textObj[n]["@attributes"].h*i+"px;";for(var o=0,r=0,s=Array.prototype.slice.call(t.childNodes);r<s.length;r++)s[r].style.cssText="left:"+e.textObj[n].text[o]["@attributes"].l*i+"px;top:"+e.textObj[n].text[o]["@attributes"].t*i+"px;font-size:"+e.textObj[n].text[o]["@attributes"].h*i+"px;",o++},this.getRatio=function(t,n,i,o){return void 0===n&&(n=null),n.type===g.RESIZE_TYPE.PageWidthFit?e.getPageWidthFitRatio(t,i)*o:n.type===g.RESIZE_TYPE.PageZoom?e.getPageZoomRatio(t,n)*o/100:e.getPageFitRatio(t,i)*o},this.getPageFitRatio=function(t,n){var i=document.getElementById("contents").offsetHeight;f.Browser.instance.isIOS&&(i=window.innerHeight);var o=[n,i],r=o[0],s=o[1],a=e.textObj[t]["@attributes"].w,l=e.textObj[t]["@attributes"].h,c=r/a,u=s/l;return s<r&&a*u<r||s>r&&l*c>s?u:c},this.getPageWidthFitRatio=function(t,n){return n/e.textObj[t]["@attributes"].w},this.getPageZoomRatio=function(t,n){return g.Page.ORIGIN_SIZE[t].width/e.textObj[t]["@attributes"].w*n.percent},this.resizeWindow=function(){e.isFullScreen||e.rePosition()},this.fullScreen=function(t){t.isFullScreen?(p(".textlayer").addClass("textlayer--presentation"),e.isFullScreen=!0):(p(".textlayer").removeClass("textlayer--presentation"),e.isFullScreen=!1,e.focusPage({pageNum:e.docInfo.currentPage}))},this.clearSearchResult=function(t){return i(e,void 0,void 0,(function(){var e,n,i,r,s=this;return o(this,(function(o){switch(o.label){case 0:if(0==(e=t.target.value).length)return p("#search__input").blur(),[2];if(void 0!==this.prevSearchResult.textId&&this.prevSearchResult.query!=e){for(n=document.getElementsByClassName("textline--highlight"),i=n.length,r=0;r<i;r++)n[0].className="textline";this.prevSearchResult=[]}return this.prevSearchResult.query==e&&this.prevSearchResult?[3,2]:(this.loadSpinner(),[4,this.newSearchText(t)]);case 1:o.sent(),setTimeout((function(){s.removeSpinner()}),200),o.label=2;case 2:return[2]}}))}))},this.newSearchText=function(t){return i(e,void 0,void 0,(function(){var e,n,i,r,s,a,l,c,d,h,f,g,m;return o(this,(function(o){switch(o.label){case 0:e=t.target.value,n=this.docInfo.currentPage,i=n,r=this.docInfo.status.pageNum-1,s=JSON.parse(localStorage.getItem(this.docInfo.jobId)),a=[],l=!1,c=!1,o.label=1;case 1:return[4,this.search(e,i)];case 2:if(a=o.sent(),c&&0==a.length&&i<=0)return l=!0,[3,7];if(0==a.length&&i===r){if(0==n)return l=!0,[3,7];i=n,c=!0}return 0!=a.length?[3,5]:(c?i--:i++,s[i]?[3,4]:[4,this.getXml(this.docInfo,i)]);case 3:if(null==(d=o.sent()).result)return[3,1];this.textObj[i]={"@attributes":d.page,text:d.text,allText:d.result},s[i.toString()]=d.result,localStorage.setItem(this.docInfo.jobId,JSON.stringify(s)),o.label=4;case 4:return[3,6];case 5:return[3,7];case 6:return[3,1];case 7:return l&&void 0===this.prevSearchResult.textId?(p("#search__input").addClass("search__input--notfound"),p("#search__input").val(u.LocaleMessage.getMessage("empty-searchword")),p("#search__input").blur(),[2]):document.getElementById("textlayer"+i)?[3,9]:[4,this._createTextDiv(i,s)];case 8:o.sent(),o.label=9;case 9:for(h=[],f=0;f<a.length;f++){for(g=a[f],m=0;m<e.length;m++)p("#text"+i+"_"+(g+m)).hasClass("textline--highlight")||(p("#text"+i+"_"+(g+m)).addClass("textline--highlight"),0==f&&p("#text"+i+"_"+(g+m)).addClass("textline--current")),0==f&&0==m&&(this.prevSearchResult.highlight="text"+i+"_"+g);h.push("text"+i+"_"+g)}return 0!=h.length&&(this.prevSearchResult.query=e,this.prevSearchResult.textId=h),this.eventObserver.page.notify({pageNum:i,isScroll:!1}),[2]}}))}))},this.focusSearchText=function(t,n,s,a){return void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=r.NONE),i(e,void 0,void 0,(function(){var e,i,l,c,d,h,f,g,m,v,b,w;return o(this,(function(o){switch(o.label){case 0:return e=null!=n?n:t.target.value,i=null==s?this.docInfo.currentPage:s,l=this.docInfo.status.pageNum-1,c=[],d=!1,h=a!=r.PREV,i<0||i>l?[2]:(f=JSON.parse(localStorage.getItem(this.docInfo.jobId)),[4,this.search(e,i)]);case 1:return 0==(c=o.sent()).length&&(d=!0),d&&void 0===this.prevSearchResult.textId?(p("#search__input").addClass("search__input--notfound"),p("#search__input").val(u.LocaleMessage.getMessage("empty-searchword")),p("#search__input").blur(),[2]):document.getElementById("textlayer"+i)?[3,3]:[4,this._createTextDiv(i,f)];case 2:o.sent(),o.label=3;case 3:for(g=[],m=0;m<c.length;m++){for(v=c[m],b=0;b<e.length;b++)p("#text"+i+"_"+(v+b)).hasClass("textline--highlight")||p("#text"+i+"_"+(v+b)).addClass("textline--highlight");g.push("text"+i+"_"+v)}return w=Number(this._parseIndex(this.prevSearchResult.highlight).pageIdx.replace("text",""))>i,0!=g.length&&(this.prevSearchResult.query=e,null!=this.prevSearchResult.textId&&0!=this.prevSearchResult.textId.length&&this.prevSearchResult.textId.indexOf(g[0])<0&&(this.prevSearchResult.textId=!h||w?g.concat(this.prevSearchResult.textId):this.prevSearchResult.textId.concat(g))),[2]}}))}))},this.moveSearchText=function(t,n,s){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===s&&(s=r.NEXT),i(e,void 0,void 0,(function(){var e,i,a,l,c,d,h,f,g,m,v,b,w,_;return o(this,(function(o){switch(o.label){case 0:e=t,i=null==n?this.docInfo.currentPage:n,a=this.docInfo.status.pageNum-1,l=JSON.parse(localStorage.getItem(this.docInfo.jobId)),c=[],d=!1,h=s!=r.PREV,o.label=1;case 1:return[4,this.search(e,i)];case 2:return 0==(c=o.sent()).length&&i===a||!h&&0==c.length&&i<=0?(d=!0,[3,7]):0!=c.length?[3,5]:(h?i++:i--,l[i]?[3,4]:[4,this.getXml(this.docInfo,i)]);case 3:if(null==(f=o.sent()).result)return[3,1];this.textObj[i]={"@attributes":f.page,text:f.text,allText:f.result},l[i.toString()]=f.result,localStorage.setItem(this.docInfo.jobId,JSON.stringify(l)),o.label=4;case 4:return[3,6];case 5:return[3,7];case 6:return[3,1];case 7:return d&&void 0===this.prevSearchResult.textId?(p("#search__input").addClass("search__input--notfound"),p("#search__input").val(u.LocaleMessage.getMessage("empty-searchword")),p("#search__input").blur(),[2]):d&&s!=r.NONE?[2]:document.getElementById("textlayer"+i)?[3,9]:[4,this._createTextDiv(i,l)];case 8:o.sent(),o.label=9;case 9:if(0!=c.length)for(g=this._parseIndex(this.prevSearchResult.highlight),b=0;b<e.length;b++)m=g.pageIdx+"_"+(g.strIdx+b),p("#"+m).removeClass("textline--current"),p("#"+m).addClass("textline--highlight");for(v=[],b=0;b<c.length;b++){for(w=c[b],_=0;_<e.length;_++)p("#text"+i+"_"+(w+_)).hasClass("textline--highlight")||(p("#text"+i+"_"+(w+_)).addClass("textline--highlight"),0==b&&h?p("#text"+i+"_"+(w+_)).addClass("textline--current"):b!=c.length-1||h||p("#text"+i+"_"+(w+_)).addClass("textline--current")),0==b&&0==_&&h?this.prevSearchResult.highlight="text"+i+"_"+w:b!=c.length-1||0!=_||h||(this.prevSearchResult.highlight="text"+i+"_"+w);v.push("text"+i+"_"+w)}return 0!=v.length&&(this.prevSearchResult.query=e,null!=this.prevSearchResult.textId&&0!=this.prevSearchResult.textId.length&&this.prevSearchResult.textId.indexOf(v[0])<0&&(s==r.PREV?this.prevSearchResult.textId=v.concat(this.prevSearchResult.textId):this.prevSearchResult.textId=this.prevSearchResult.textId.concat(v))),this.eventObserver.page.notify({pageNum:i,isScroll:!1}),[2]}}))}))},this.search=function(t,n){return i(e,void 0,void 0,(function(){var e,i,r,s;return o(this,(function(o){if(e=t.length,i=-e,r=[],void 0===(s=JSON.parse(localStorage.getItem(this.docInfo.jobId))[n]))return[2,r];for(;-1!==(i=s.indexOf(t,i+e));)r.push(i);return[2,r]}))}))},this.moveSearchResult=function(t){return i(e,void 0,void 0,(function(){var e,n,i,s=this;return o(this,(function(o){switch(o.label){case 0:return t==r.NONE?[2]:0==(e=this.jqSearchInput.val()).length?[2]:(n=this.getSearchIndex(e,t),i=n.pageIdx,n.result?[3,2]:-1===i||this.docInfo.status.pageNum===i?[2]:(this.loadSpinner(),[4,this.moveSearchText(e,i,t)]));case 1:return o.sent(),setTimeout((function(){s.removeSpinner()}),200),[3,3];case 2:this._updateHighlight(e,n.updateIdx),this.docInfo.currentPage!=i&&this.eventObserver.page.notify({pageNum:i,isScroll:!1}),o.label=3;case 3:return[2]}}))}))},this._updateHighlight=function(t,n){return i(e,void 0,void 0,(function(){var e,i,r,s,a;return o(this,(function(o){for(e=this._parseIndex(this.prevSearchResult.highlight),s=0;s<t.length;s++)i=e.pageIdx+"_"+(e.strIdx+s),p("#"+i).removeClass("textline--current"),p("#"+i).addClass("textline--highlight");for(r=this._parseIndex(n),s=0;s<t.length;s++)a=r.pageIdx+"_"+(r.strIdx+s),p("#"+a).addClass("textline--current");return null!=n&&(this.prevSearchResult.highlight=n),[2]}))}))},this.getSearchIndex=function(t,n){var i=!1,o=e.docInfo.currentPage,s=null;if(void 0!==e.prevSearchResult.textId&&e.prevSearchResult.query===t){var a=e.prevSearchResult.highlight,l=e.prevSearchResult.textId.indexOf(a);n==r.NEXT?(s=e.prevSearchResult.textId[l+1],o+=1):(s=e.prevSearchResult.textId[l-1],o-=1),void 0!==s&&(i=!0,o=Number(e._parseIndex(s).pageIdx.replace("text","")))}return{result:i,pageIdx:o,updateIdx:s}},this._parseIndex=function(e){if(void 0===e&&(e=null),null!=e){var t=e.split("_");return{pageIdx:t[0],strIdx:Number(t[1])}}},this.searchEvent=function(){e.jqSearchInput=p("#search__input"),e.jqSearchInput.on("keyup",(function(t){"Enter"===t.key&&e.clearSearchResult(t)})),e.jqSearchInput.on("input",(function(t){t.target.value.length>e.DEFAULT_SEARCH_LENGTH&&(e.dialog.confirmDialog("input_limit_searchword",(function(){e.jqSearchInput.trigger("focus")})),t.target.value=t.target.value.slice(0,e.DEFAULT_SEARCH_LENGTH))})),e.jqSearchInput.on("focus",(function(){p("#search__input").hasClass("search__input--notfound")&&(p("#search__input").removeClass("search__input--notfound"),p("#search__input").val(""))}));var t=p("#search input[type=text]");t.focus((function(){p(this).siblings("label").hide()})),t.focusout((function(){""==p(this).val()&&p(this).siblings("label").show()}))},this.loadSpinner=function(){var e={lines:11,length:0,width:12,radius:30,scale:1.25,corners:.5,color:"#435c85",opacity:.25,rotate:0,direction:1,speed:1,trail:65,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:a.Thumbnail.THUMB_STATUS==s.THUMB_FLAG.off?"50%":p("#thumbnail").outerWidth()+p("#contents").width()/2+"px",shadow:!1,hwaccel:!1,position:"fixed"},t=document.createElement("div");t.setAttribute("class","inner loading_spinner "),document.getElementById("contents").appendChild(t),new m(e).spin(t)},this.removeSpinner=function(){setTimeout((function(){p(".loading_spinner").remove()}),50)},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.page.subscribe(e.focusPage),e.eventObserver.annotation.subscribe(e.rePosition),e.eventObserver.resizeWindow.subscribe(e.resizeWindow),e.eventObserver.fullScreen.subscribe(e.fullScreen),e.eventObserver.search.subscribe(e.moveSearchResult),e.searchEvent()},this.load=function(t,n){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.docInfo=t,[4,this.loadTextXml(this.docInfo.currentPage)];case 1:return e.sent(),this.eventBind(n),[2]}}))}))}};t.Annotation=v}).call(this,n(3))},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n(2),c=n(0),u=n(8),d=function(e){function t(){var t=e.call(this)||this;return t.getDimensionImg=function(e,n,i,o){return r(t,void 0,void 0,(function(){var t,r,a;return s(this,(function(s){switch(s.label){case 0:return n=void 0!==n?n:0,o=void 0!==o?o:l.Util.normalDPI,t=e.contextPath+"/dimension/"+e.status.id+"/"+n+"-"+i+"?dpi="+o,r=[],[4,l.Util.getJson(t)];case 1:return a=s.sent(),c.each(a,(function(e,t){var n={index:t.p,width:t.w,height:t.h};r[t.p]=n})),[2,r]}}))}))},t.retry=function(e){var n=parseInt(e.target.name),i=document.getElementById("thumb"+n);t.onLoadImg(i,n)},t.getDimensionHtml=function(e){return r(t,void 0,void 0,(function(){var t,n;return s(this,(function(i){switch(i.label){case 0:return t=e.resultPath+"/"+e.status.fileName+".xml",[4,l.Util.getXml(t)];case 1:return n=i.sent(),"image"===e.skinType?[2,l.Util.getDimensionHtmlForImage(n)]:[2,l.Util.getDimensionHtmlForPDF(n)]}}))}))},t.onLoadImg=function(e,n){e.className="thumb__img img-loading-small",e.removeEventListener("click",t.retry);var i=new Image;i.onerror=function(){e.src=t.transparentImg,e.className+=" img-retry",e.addEventListener("click",t.retry)},i.onload=function(){e.className="thumb__img"},l.Util.isConvHtml(t.docInfo)?i.src=""+l.Util.getResultPath(t.docInfo,t.THUMB_SIZE[n].path):i.src=""+l.Util.getThumbPath(t.docInfo,n,l.Util.thumbDPI),e.src=i.src},t.createThumbDiv=function(e){return r(t,void 0,void 0,(function(){var t,n,i,o,r,u,d,h,p,f,g,m,v,b,w,_,E,y;return s(this,(function(s){switch(s.label){case 0:return t=114,n=72,i=null,l.Util.isConvHtml(this.docInfo)?[4,this.getDimensionHtml(e)]:[3,2];case 1:return i=s.sent(),[3,4];case 2:return[4,this.getDimensionImg(e,0,e.status.pageNum,l.Util.thumbDPI)];case 3:i=s.sent(),s.label=4;case 4:for(o=Math.round(t/i[0].width*i[0].height),r=Math.round(n/i[0].width*i[0].height),this.THUMB_SIZE[0]={width:i[0].width,height:i[0].height,desktopHeight:o,mobileHeight:r},u=this.jqThumbnail.height(),d=this.THUMB_SIZE[0].desktopHeight,l.Util.isMobileMode(this.docInfo.status.convertType)&&(d=this.THUMB_SIZE[0].mobileHeight),this.initThumbNum=Math.ceil(u/d),h=document.createDocumentFragment(),p=0,f=i;p<f.length;p++)g=f[p],(m=document.createElement("div")).id="thumb-content"+g.index,m.className="thumb",(v=document.createElement("span")).className="thumb__span",v.textContent=g.index+1,(b=document.createElement("div")).id="thumb-area"+g.index,b.className=a.Browser.instance.isMobile?"thumb-area thumb__div thumb--nohover":"thumb-area thumb__div",b.setAttribute("data-index",g.index),(w=document.createElement("img")).id="thumb"+g.index,w.name=""+g.index,w.title="page"+(g.index+1),w.src=this.transparentImg,w.className="thumb__img img-loading-small",b.onclick=this.thumbMovePage,this.isWindowCSS&&(w.style.setProperty("--page-width",g.width),w.style.setProperty("--page-height",g.height)),l.Util.isConvHtml(this.docInfo)&&(this.THUMB_SIZE[g.index]={path:g.path}),_=0,this.isWindowCSS||(this.THUMB_SIZE[0].height!==g.height?(E=Math.round(t/g.width*g.height),y=Math.round(n/g.width*g.height),_=!0===l.Util.isMobileMode(this.docInfo.status.convertType)?y:E,c.extend(this.THUMB_SIZE[g.index],{width:g.width,height:g.height,desktopHeight:E,mobileHeight:y})):_=!0===l.Util.isMobileMode(this.docInfo.status.convertType)?this.THUMB_SIZE[0].mobileHeight:this.THUMB_SIZE[0].desktopHeight),g.index<this.initThumbNum&&(this.thumbOnOffOption()&&this.onLoadImg(w,g.index),this.isWindowCSS||(w.style.cssText="height:"+_+"px;")),b.appendChild(w),m.appendChild(v),m.appendChild(b),h.appendChild(m);return c("#wrap__index").append(h),c("#thumb-area0").removeClass("thumb--nohover"),[2]}}))}))},t.thumbOnOffOption=function(){return l.Util.isMobileMode(t.docInfo.status.convertType)?!(window.localSynap&&window.localSynap.config&&!1===window.localSynap.config.showThumbnailMobile):void 0!==window.localSynap&&window.localSynap.config.showThumbnail},t.eventBind=function(e){t.eventObserver=e,t.eventObserver.page.subscribe(t.focusPage),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.scrollEventBind(),t.thumbnailDesktop.eventBind(t.eventObserver),t.thumbnailMobile.eventBind(t.eventObserver,t.docInfo),t.webThumbnailResize(),c("#mobile-thumbnailbar").on("click",t.toggleEvent),c("#thumbnailview-btn").on("click",t.toggleEvent)},t.loadThumbDelay=function(e){return r(t,void 0,void 0,(function(){return s(this,(function(e){return[2]}))}))},t.load=function(e,n){return r(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.docInfo=e,[4,this.createThumbDiv(this.docInfo)];case 1:return t.sent(),c("#thumb-area0").addClass("thumb__focus"),a.Browser.instance.isMobile&&(c("#web-thumbnailbar").addClass("thumbnailbar--touch-expand"),c("#mobile-thumbnailbar").addClass("thumbnailbar--touch-expand")),this.eventBind(n),l.Util.isMobileMode(this.docInfo.status.convertType)?(this.thumbnailActions=this.thumbnailMobile,window.localSynap&&window.localSynap.config&&!1===window.localSynap.config.showThumbnailMobile?(u.Thumbnail.THUMB_STATUS=u.THUMB_FLAG.on,this.thumbnailActions.toggleAction()):(this.thumbnailActions.toggleAction(),this.setThumbnailAreaHeightForIOS())):(this.thumbnailActions=this.thumbnailDesktop,window.localSynap&&window.localSynap.config&&window.localSynap.config.showThumbnail&&this.thumbnailActions.toggleAction()),this.isWindowCSS||this.thumbSizeResize(this.initThumbNum,this.docInfo.status.pageNum,null),[2]}}))}))},t}return o(t,e),t}(u.Thumbnail);t.default=d}).call(this,n(3))},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n(2),c=n(0),u=n(8),d=n(67),h=function(e){function t(){var n=e.call(this)||this;return n.getDimensionHtml=function(e){return r(n,void 0,void 0,(function(){var n,i,o;return s(this,(function(r){switch(r.label){case 0:return n=e.resultPath+"/"+e.status.fileName+".xml",i=[],[4,l.Util.getXml(n)];case 1:return o=r.sent(),t.SLIDE_INFO.start=parseInt(o.index.startPage),t.SLIDE_INFO.end=parseInt(o.index.endPage),t.SLIDE_INFO.total=parseInt(o.index.slide_cnt),1===t.SLIDE_INFO.total?(i[0]=[],i[0].index=parseInt(o.index.slide_list.slide.id)-1,i[0].path=o.index.slide_list.slide.path_xhtml,i[0].width=o.index.width,i[0].height=o.index.height,[2,i]):(c.each(o.index.slide_list.slide,(function(e,t){var n={index:parseInt(t.id)-1,path:t.path_xhtml,width:o.index.width,height:o.index.height};i[e]=n})),[2,i])}}))}))},n.onLoadImg=function(e,t){e.className="thumb__img img-loading-small",e.src=""+l.Util.getResultPath(n.docInfo,n.THUMB_SIZE[t].path)},n.slideRenderingSize=function(e,t,i,o){return r(n,void 0,void 0,(function(){var n,r,l,c;return s(this,(function(s){return n=Math.round(o/t*i),l=-2*t*(1-(r=o/(2*t)))/2,c=-2*i*(1-r)/2,a.Browser.instance.isIE9Lower()?e.style.cssText+="width:"+o+"px;height:"+n+"px;":e.style.cssText+="width:"+2*t+"px;height:"+2*i+"px;\n\t\t\ttransform:scale("+r+","+r+");left:"+l+"px;top:"+c+"px;",[2]}))}))},n.createThumbDiv=function(e){return r(n,void 0,void 0,(function(){var t,n,i,o,r,l,u,d,h,p,f,g,m,v;return s(this,(function(s){switch(s.label){case 0:return t=114,n=72,[4,this.getDimensionHtml(e)];case 1:for(i=s.sent(),o=Math.round(t/i[0].width*i[0].height),r=Math.round(n/i[0].width*i[0].height),this.THUMB_SIZE[0]={width:i[0].width,height:i[0].height,desktopHeight:o,mobileHeight:r},l=document.createDocumentFragment(),u=0,d=i;u<d.length;u++)h=d[u],(p=document.createElement("div")).id="thumb-content"+h.index,p.className="thumb",p.onclick=this.thumbMovePage,(f=document.createElement("span")).className="thumb__span",f.textContent=h.index+1,(g=document.createElement("div")).id="thumb-area"+h.index,g.className=a.Browser.instance.isMobile?"thumb-area thumb-slide thumb__div img-loading-small thumb--nohover":"thumb-area thumb-slide thumb__div img-loading-small thumb-area-slide",g.style.cssText="width:"+t+"px;height:"+o+"px;",(m=document.createElement("iframe")).id="thumb"+h.index,m.name=""+h.index,m.title="page"+(h.index+1),m.scrolling="no",m.frameBorder="no",(v=document.createElement("div")).className="thumb-slide-alpha",v.style.cssText="width:"+t+"px;height:"+o+"px;",v.onclick=this.thumbMovePage,v.setAttribute("data-index",h.index),this.THUMB_SIZE[h.index]={path:h.path},this.slideRenderingSize(m,h.width,h.height,t),h.index<this.initThumbNum&&this.onLoadImg(m,h.index),g.appendChild(m),g.appendChild(v),p.appendChild(f),p.appendChild(g),l.appendChild(p);return c("#wrap__index").append(l),c("#thumb-area0").removeClass("thumb--nohover"),[2]}}))}))},n.eventBind=function(e){n.eventObserver=e,n.eventObserver.page.subscribe(n.focusPage),n.eventObserver.resizeWindow.subscribe(n.resizeWindow),n.eventObserver.fullScreen.subscribe(n.fullScreen),n.scrollEventBind(),n.thumbnailDesktop.eventBind(n.eventObserver),n.thumbnailMobile.eventBind(n.eventObserver,n.docInfo),n.webThumbnailResize(),c("#mobile-thumbnailbar").on("click",n.toggleEvent),c("#thumbnailview-btn").on("click",n.toggleEvent)},n._loadThumbnail=function(e){return r(n,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.createThumbDiv(this.docInfo)];case 1:return e.sent(),c("#thumb-area0").addClass("thumb__focus"),a.Browser.instance.isMobile&&(c("#web-thumbnailbar").addClass("thumbnailbar--touch-expand"),c("#mobile-thumbnailbar").addClass("thumbnailbar--touch-expand")),l.Util.isMobileMode(this.docInfo.status.convertType)?(this.thumbnailActions=this.thumbnailMobile,window.localSynap&&window.localSynap.config&&!1===window.localSynap.config.showThumbnailMobile?(u.Thumbnail.THUMB_STATUS=u.THUMB_FLAG.on,this.thumbnailActions.toggleAction()):(this.thumbnailActions.toggleAction(),this.setThumbnailAreaHeightForIOS())):(this.thumbnailActions=this.thumbnailDesktop,window.localSynap&&window.localSynap.config&&window.localSynap.config.showThumbnail&&this.thumbnailActions.toggleAction()),this.isWindowCSS||this.thumbSizeResize(this.initThumbNum,this.docInfo.status.pageNum,null),[2]}}))}))},n.loadThumbDelay=function(e){return r(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e%5!=0?[3,2]:[4,l.Util.sleep(100)];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.load=function(e,t){return r(n,void 0,void 0,(function(){var n=this;return s(this,(function(i){return this.docInfo=e,c(".wrap__thumbnail").addClass("wrap__thumbnail-slide"),this.eventBind(t),this.loadSpinner(),setTimeout((function(){n._loadThumbnail(t),n.removeSpinner()}),500),[2]}))}))},n.loadSpinner=function(){if(!(l.Util.isMobileMode(n.docInfo.status.convertType)||c(".loading_spinner").length>0)){var e=document.createElement("div");e.setAttribute("class","inner loading_spinner "),document.getElementById("contents-area").appendChild(e),new d({lines:11,length:0,width:12,radius:30,scale:1.25,corners:.5,color:"#435c85",opacity:.25,rotate:0,direction:1,speed:1,trail:65,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"}).spin(e)}},n.removeSpinner=function(){l.Util.isMobileMode(n.docInfo.status.convertType)||setTimeout((function(){c(".loading_spinner").remove()}),50)},n.initThumbNum=10,n}return o(t,e),t.SLIDE_INFO={start:0,end:0,total:0},t}(u.Thumbnail);t.default=h}).call(this,n(3))},function(e,t,n){e.exports=function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-r),e),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),u=a&&"-"+a+"-"||"";return d[o]||(c.insertRule("@"+u+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",c.cssRules.length),d[o]=1),o}function i(e,t){var n,i,o=e.style;if(void 0!==o[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(i=0;i<u.length;i++)if(void 0!==o[n=u[i]+t])return n}function o(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=r(e||{},a.defaults,h)}var l,c,u=["webkit","Moz","ms","O"],d={},h={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},r(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,r=n.el=e(null,{className:i.className});if(o(r,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!l){var s,a=0,c=(i.lines-1)*(1-i.direction)/2,u=i.fps,d=u/i.speed,h=(1-i.opacity)/(d*i.trail/100),p=d/i.lines;!function e(){a++;for(var t=0;t<i.lines;t++)s=Math.max(1-(a+(i.lines-t)*p)%d*h,i.opacity),n.opacity(r,t*i.direction+c,s,i);n.timeout=n.el&&setTimeout(e,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,r){function a(t,n){return o(e(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*u+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var c,u=0,d=(r.lines-1)*(1-r.direction)/2;u<r.lines;u++)c=o(e(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&n(r.opacity,r.trail,d+u*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(c,o(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(c,a(s(r.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){c=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var p=o(e("group"),{behavior:"url(#default#VML)"});!i(p,"transform")&&p.adj?function(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}c.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function r(){return o(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(e,a,l){t(h,t(o(r(),{rotation:360/i.lines*e+"deg",left:~~a}),t(o(n("roundrect",{arcsize:i.corners}),{width:c,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:l}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.scale*(i.length+i.width),u=2*i.scale*c,d=-(i.width+i.length)*i.scale*2+"px",h=o(r(),{position:"absolute",top:d,left:d});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return t(e,h)},a.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=(o=(o=o.childNodes[t+i])&&o.firstChild)&&o.firstChild)&&(o.opacity=n)}}():l=i(p,"animation")}return a}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),r=n(1);!function(e){e[e.active=0]="active",e[e.deactivating=1]="deactivating",e[e.deactive=2]="deactive"}(i=t.ANDROID_VK_MODE||(t.ANDROID_VK_MODE={}));var s=function(){var e=this;this.eventObserver=null,this.docInfo=null,this.eventBind=function(t){if(e.eventObserver=t,r.Browser.instance.isIOS)o(window).on("orientationchange",(function(){e.eventObserver.resizeWindow.notify()}));else{var n;o(window).on("resize",(function(){clearTimeout(n),n=setTimeout(s,100)}));var s=function(){e.eventObserver.resizeWindow.notify()}}if(r.Browser.instance.isMobile&&(o(window).on("orientationchange",(function(t){e.eventObserver.orientationchange.notify(t)})),r.Browser.instance.isAndroid)){var a=null;o(document.body).on("focus","textarea, input",(function(){clearTimeout(a),e.eventObserver.androidVirtualKeyboard.notify(i.active)})).on("blur","textarea, input",(function(){e.eventObserver.androidVirtualKeyboard.notify(i.deactivating),a=setTimeout((function(){e.eventObserver.androidVirtualKeyboard.notify(i.deactive)}),500)}))}},this.preventCopy=function(){o(document.body).on("contextmenu",(function(){return!1}))},this.preventDragSelect=function(){o(document.body).on("dragstart",(function(){return!1})),o(document.body).on("selectstart",(function(e){return"page__input"===e.target.id||"urlArea"===e.target.id||!0===window.localSynap.config.search&&"textline"===e.target.className}))},this.load=function(e,t){this.docInfo=e,this.eventBind(t),!1===window.localSynap.config.allowCopy?(this.preventDragSelect(),this.preventCopy()):this.preventDragSelect()}};t.WindowEvent=s},,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(2),a=n(14),l=n(0),c=n(20),u=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.defaultSheetTabWidth=115,this.maxPage=null,this.showSheetTabIdx=0,this.startTabIdx=0,this.endTabIdx=null,this.sheetTabEventBind=function(){l(document).on("click",(function(e){l("#tablist-popup").has(e.target).length||"tabmore"===e.target.id||"tabmore"===e.target.parentElement.id||l("#tablist-popup").hide(),"header-tablist__input"!==e.target.id&&"cell-select-arrow-img"!==e.target.id&&"cell-select-arrow"!==e.target.id&&l("#tab-content").hide()})),s.Util.bindClickOrTouchEvent(l("#tabmore"),"tabmore--hover",e.sheetTabPopup),s.Util.bindClickOrTouchEvent(l("#sheet-prev"),"sheet-move--hover",e.moveSheetTab),s.Util.bindClickOrTouchEvent(l("#sheet-next"),"sheet-move--hover",e.moveSheetTab);for(var t=r.Browser.instance.isIOS,n=0;n<e.maxPage;n++)l("#sheet"+n).on("click",e.moveSheetEvent),l("#tablist"+n).on("click",e.moveSheetEvent),!t&&l("#mobileTablist"+n).on("click",(function(t){e.moveSheetEvent(t),e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC)}));t?(l("#header-tablist__input, #cell-select-arrow").on("click",(function(){document.getElementById("header-tablist__select").focus()})),document.getElementById("header-tablist__select").addEventListener("change",(function(){e.eventObserver.sheet.notify(document.getElementById("header-tablist__select").selectedIndex),e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC)}))):l("#header-tablist__input, #cell-select-arrow").on("click",(function(){if(l("#tab-content").toggle(),!l("#tab-content").is(":hidden")){var t=s.Util.isHtmlSkin(e.docInfo)?s.Util.getHeadScale(".wrap__header__container"):1;l("#tab-scroll-blind__ul").scrollTop((l("#mobileTablist"+e.docInfo.currentSheet).position().top-l("#mobileTablist0").position().top)/t),l(".tab-scroll-blind__li").removeClass("tab-scroll-blind--focus"),l("#mobileTablist"+e.docInfo.currentSheet).addClass("tab-scroll-blind--focus")}}))},this.createSheetTab=function(t){return i(e,void 0,void 0,(function(){var e,n,i,s,a,c,u,d,h,p,f,g,m;return o(this,(function(o){switch(o.label){case 0:e=document.body.clientWidth,this.showSheetTabIdx=Math.floor((e-this.defaultSheetTabWidth)/60),n=document.createDocumentFragment(),i=document.createDocumentFragment(),(s=document.createElement("ul")).id="tablist-popup__ul",s.className="tablist-popup__ul",a=r.Browser.instance.isIOS,m=0,o.label=1;case 1:return m<this.maxPage?[4,this.getTitle(t.contextPath,t.status.id,m)]:[3,4];case 2:c=o.sent(),""===(u=c)&&(u="Sheet "+(m+1)),(d=document.createElement("div")).id="sheet"+m,d.className="sheet-list__sheet-tab",d.title=u,d.textContent=u,d.setAttribute("data-index",m.toString()),n.appendChild(d),(h=document.createElement("li")).id="tablist"+m,h.className="tablist-popup__li",h.title=u,h.textContent=u,h.setAttribute("data-index",m.toString()),s.appendChild(h),a?((p=document.createElement("option")).id="mobileTablist"+m,p.value=m,p.innerHTML=u,i.appendChild(p)):((f=document.createElement("li")).id="mobileTablist"+m,f.className="tab-scroll-blind__li",f.title=u,f.textContent=u,f.setAttribute("data-index",m.toString()),i.appendChild(f)),o.label=3;case 3:return m++,[3,1];case 4:for(document.getElementById("sheet-list").appendChild(n),document.getElementById("sheet-content").appendChild(s),a?((g=document.createElement("select")).id="header-tablist__select",g.className="header-tablist__select",g.appendChild(i),document.getElementById("header-tablist").appendChild(g)):document.getElementById("tab-scroll-blind__ul").appendChild(i),m=0;m<this.maxPage;m++)m>=this.showSheetTabIdx&&l("#sheet"+m).hide();return this.endTabIdx=this.showSheetTabIdx,[2]}}))}))},this.sheetTabPopup=function(t){l("#tablist-popup").toggle(),l("#sheet-arrow").css("top",l("#sheet-content").height()+20),l("#sheet-content").is(":hidden")||(l("#tablist-popup__ul").scrollTop(l("#tablist"+e.docInfo.currentSheet).position().top-l("#tablist0").position().top),l(".tablist-popup__li").removeClass("tablist-popup--focus"),l("#tablist"+e.docInfo.currentSheet).addClass("tablist-popup--focus"))},this.moveSheetEvent=function(t){var n=parseInt(t.currentTarget.getAttribute("data-index"));e.eventObserver.sheet.notify(n)},this.moveSheet=function(t){-1!==e.validCheckSheet(t)&&e.docInfo.currentSheet!==t&&(e.loadSheet(t),e.sheetTabActive(t))},this.validCheckSheet=function(t){if(t<0||t>=e.maxPage)return-1;if(!l("#sheet"+t).is(":visible")){if(t>=e.startTabIdx){for(var n=t-e.showSheetTabIdx,i=0;i<=n;i++)l("#sheet"+(i+e.showSheetTabIdx)).show(),l("#sheet"+i).hide();e.startTabIdx=n+1,e.endTabIdx=n+e.showSheetTabIdx}else{for(i=t;i<e.docInfo.currentSheet;i++)l("#sheet"+i).is(":visible")||l("#sheet"+i).show();var o=t+e.showSheetTabIdx;for(i=o;i<e.maxPage;i++)l("#sheet"+i).is(":visible")&&l("#sheet"+i).hide();e.startTabIdx=t,e.endTabIdx=o}l("#sheet"+t).show()}},this.moveSheetTab=function(t){var n;n="sheet-next"===t.target.parentElement.id||"sheet-next"===t.target.id?e.docInfo.currentSheet+1:e.docInfo.currentSheet-1,e.eventObserver.sheet.notify(n)},this.sheetTabActive=function(e){l(".sheet-list__sheet-tab").removeClass("sheet-list__sheet-tab--on"),l("#sheet"+e).addClass("sheet-list__sheet-tab--on"),document.getElementById("header-tablist__input").textContent=l("#mobileTablist"+e).text(),r.Browser.instance.isIOS&&l("#header-tablist__select option:eq("+e+")").prop("selected",!0),l("#tablist-popup").hide()},this.loadSheetTab=function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.createSheetTab(this.docInfo)];case 1:return e.sent(),l("#container").addClass("wrap__container--cell"),l("#footer").addClass("wrap__footer--cell"),this.showSheetTabIdx<this.maxPage&&l(".sheet-move").css("display","inline-block"),document.getElementById("header-tablist__input").textContent=l("#sheet0").text(),l("#header-tablist").addClass("cell-mobile"),l("#sheet"+t).addClass("sheet-list__sheet-tab--on"),this.sheetTabEventBind(),[2]}}))}))},this.checkMoveControlbar=function(){0===e.docInfo.currentSheet?(l("#cell-first").removeClass("controlbar--enable"),l("#cell-first").removeClass("controlbar-first--hover"),l("#cell-first").prop("disabled",!0),l("#cell-prev").removeClass("controlbar--enable"),l("#cell-prev").removeClass("controlbar-prev--hover"),l("#cell-prev").prop("disabled",!0)):(l("#cell-first").addClass("controlbar--enable"),l("#cell-first").prop("disabled",!1),l("#cell-prev").addClass("controlbar--enable"),l("#cell-prev").prop("disabled",!1)),e.docInfo.currentSheet===e.maxPage-1?(l("#cell-end").removeClass("controlbar--enable"),l("#cell-end").removeClass("controlbar-end--hover"),l("#cell-end").prop("disabled",!0),l("#cell-next").removeClass("controlbar--enable"),l("#cell-next").removeClass("controlbar-next--hover"),l("#cell-next").prop("disabled",!0)):(l("#cell-end").addClass("controlbar--enable"),l("#cell-end").prop("disabled",!1),l("#cell-next").addClass("controlbar--enable"),l("#cell-next").prop("disabled",!1))},this.fullScreen=function(t){"cell"===t.skinType&&(t.isFullScreen?(document.getElementById("sheetdialog").style.display="none",l(document.body).addClass("wrap__contents--cell-fullscreen"),t.isSupport||(l(".wrap__header").addClass("wrap__header--presentation"),l(".wrap__footer").addClass("wrap__footer--presentation")),l("#container").addClass("wrap__container--presentation"),l("#container").removeClass("wrap__container--cell"),l("#contents").addClass("wrap__contents--cell-fullscreen")):(document.getElementById("sheetdialog").style.display="",l(document.body).removeClass("wrap__contents--cell-fullscreen"),e.eventObserver.bgColor.notify(c.Head.bgColorMode),t.isSupport||(l(".wrap__header").removeClass("wrap__header--presentation"),l(".wrap__footer").removeClass("wrap__footer--presentation")),l("#container").removeClass("wrap__container--presentation"),l("#container").addClass("wrap__container--cell"),l("#contents").removeClass("wrap__contents--cell-fullscreen"),s.Util.isMobileMode(e.docInfo.status.convertType)&&e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC)))},this.sheetTabResize=function(){var t=document.body.clientWidth,n=Math.floor((t-e.defaultSheetTabWidth)/60);if(n>=e.maxPage)return l(".sheet-move").hide(),l(".sheet-list__sheet-tab").removeAttr("style"),void(e.showSheetTabIdx=e.maxPage);if(n!==e.showSheetTabIdx){if(l(".sheet-move").css("display","inline-block"),n>e.showSheetTabIdx){var i=e.startTabIdx+n;if(e.maxPage>=i)for(var o=e.startTabIdx;o<i;o++)l("#sheet"+o).show();else{for(s=(s=e.startTabIdx-i)-e.maxPage<0?s+e.maxPage:s-e.maxPage,o=e.startTabIdx;o>=s;o--)l("#sheet"+o).show();e.startTabIdx=s}}else if(n<e.showSheetTabIdx){var r=e.startTabIdx+n-1;if(e.docInfo.currentSheet>=r){var s;for(o=s=e.showSheetTabIdx-n+e.startTabIdx;o>=0;o--)l("#sheet"+o).hide();e.startTabIdx=s}else{var a=e.startTabIdx+n;for(o=a;o<=e.maxPage;o++)l("#sheet"+o).hide();e.endTabIdx=a}}e.showSheetTabIdx=n}},this.toggleMobileHeader=function(){s.Util.isMobileMode(e.docInfo.status.convertType)&&!s.Util.isFullScreen()&&("none"===l(".wrap__header").css("display")?e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC):e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE))}};t.Sheet=u}).call(this,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),r=n(1),s=n(6);!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(i=t.SWIPE_DIRECTION||(t.SWIPE_DIRECTION={}));var a=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.isGenTouchStart=!1,this.isGenTouchMove=!1,this.isGenMultiTouch=!1,this.touchInfo={type:null,x:-1,y:-1,time:0},this.doubleTapThreshold=30,this.doubleTapInterval=500,this.singleTapInterval=550,this.swipeThreshold=50,this.swipeInterval=3e3,this.multiTouchInterval=1e3,this.onTouchStart=function(t){t.targetTouches.length>=2?e.isGenMultiTouch=!0:(e.isGenTouchStart=!0,e.startX=t.changedTouches[0].pageX,e.startY=t.changedTouches[0].pageY,e.startTime=t.timeStamp)},this.onTouchMove=function(t){!e.isGenTouchStart||t.targetTouches.length>=2?e.isGenMultiTouch=!0:e.isGenTouchMove=!0},this.onTouchEnd=function(t){if(e.isGenMultiTouch)return clearTimeout(e.multiTouchTimer),void(e.multiTouchTimer=setTimeout((function(){e.isGenMultiTouch=!1}),e.multiTouchInterval));e.isDoubleTapEvent(t)?e.doubleTapEvent(t):e.isSingleTapEvent(t)?e.singleTapEvent(t):"cell"!==e.docInfo.skinType&&o.Util.isFullScreen()&&s.Page.RESIZE_OBJ.type===s.RESIZE_TYPE.PageFit&&!o.Util.isHtmlWordSkin(e.docInfo)&&e.isSwipeEvent(t)?e.swipeEvent(t):e.touchInfo.type=null,e.isGenTouchStart=!1,e.isGenTouchMove=!1},this.isSingleTapEvent=function(t){return!e.touchInfo.type&&e.isGenTouchStart&&!e.isGenTouchMove},this.singleTapEvent=function(t){e.touchInfo.type="tap",e.touchInfo.x=t.changedTouches[0].pageX,e.touchInfo.y=t.changedTouches[0].pageY,e.touchInfo.time=t.timeStamp,e.singleTapTimer=setTimeout((function(){e.touchInfo.type=null,o.Util.isFullScreen()?e.eventObserver.fullscreenSingleTap.notify():e.eventObserver.singleTap.notify()}),e.singleTapInterval)},this.isDoubleTapEvent=function(t){return"tap"===e.touchInfo.type&&e.isGenTouchStart&&!e.isGenTouchMove&&t.timeStamp-e.touchInfo.time<=e.doubleTapInterval&&Math.abs(e.touchInfo.x-t.changedTouches[0].pageX)<=e.doubleTapThreshold&&Math.abs(e.touchInfo.y-t.changedTouches[0].pageY)<=e.doubleTapThreshold},this.doubleTapEvent=function(t){clearTimeout(e.singleTapTimer),e.touchInfo.type=null,e.eventObserver.doubleTap.notify(t),t.preventDefault(),t.stopImmediatePropagation()},this.isSwipeEvent=function(t){return!1!==(!e.touchInfo.type&&e.isGenTouchStart&&e.isGenTouchMove&&t.timeStamp-e.startTime<=e.swipeInterval)&&(e.distX=t.changedTouches[0].pageX-e.startX,e.distY=t.changedTouches[0].pageY-e.startY,e.dist=Math.sqrt(Math.pow(e.distX,2)+Math.pow(e.distY,2)),e.dist>=e.swipeThreshold)},this.swipeEvent=function(t){var n,o=180*Math.atan2(-e.distY,e.distX)/Math.PI;o>=45&&o<=135?n=i.UP:o<45&&o>-45?n=i.RIGHT:o<=-45&&o>=-135?n=i.DOWN:(o<-135&&o>=-180||o>135&&o<=180)&&(n=i.LEFT),e.eventObserver.swipe.notify(n),t.preventDefault(),t.stopImmediatePropagation()},this.touchEventBind=function(){var t="cell"===e.docInfo.skinType?"contents":"contents-area",n=document.getElementById(t),i={passive:!r.Browser.instance.isIOS};n.addEventListener("touchstart",e.onTouchStart,i),n.addEventListener("touchmove",e.onTouchMove,i),n.addEventListener("touchend",e.onTouchEnd,i)},this.preventCopy=function(){r.Browser.instance.isIOS&&(document.getElementById("wrap").className=document.getElementById("wrap").className+" notAllowCopyForIOS",r.Browser.instance.version>=9&&document.body.addEventListener("touchforcechange",(function(e){if(e.changedTouches[0].force>=.1)return e.preventDefault(),!1})))},this.load=function(e,t){this.docInfo=e,this.eventObserver=t,this.touchEventBind(),!1===window.localSynap.config.allowCopy&&this.preventCopy()}};t.MobileEvent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),r=n(2),s=n(9),a=n(1);!function(e){e[e.PAGEUP=33]="PAGEUP",e[e.PAGEDOWN=34]="PAGEDOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.F11=122]="F11",e[e.ESC=27]="ESC"}(i=t.keyMap||(t.keyMap={}));var l=function(){var e=this;this.eventObserver=null,this.docInfo=null,this.maxPage=null,this.keypressCnt=0,this.stopKeyTimeout=null,this.scrollContentAreaEl=a.Browser.instance.isIOS?o(document):o("#contents"),this.pageInputEventKey=new Array(i.END,i.HOME,i.LEFTARROW,i.RIGHTARROW),this.isOnePage=function(){return!(!r.Util.isHtmlSlideSkin(e.docInfo)||a.Browser.instance.isMobile)||!(!r.Util.isFullScreen()||!s.DetectZoom||100!==s.DetectZoom.getRatio())||void 0},this.pageKeyEvent=function(t){if(t.keyCode!==i.F11&&t.keyCode!==i.ESC){var n=t.target;"page__input"===n.id&&e.pageInputEventKey.indexOf(t.keyCode)>-1||(n.id.indexOf("page")>-1&&-1!==new Array(i.PAGEUP,i.PAGEDOWN,i.UPARROW,i.DOWNARROW,i.LEFTARROW,i.RIGHTARROW).indexOf(t.keyCode)&&t.preventDefault(),n.id.indexOf("thumb")>-1||(e.keypressCnt+=1,clearTimeout(e.stopKeyTimeout),e.keypressCnt>0&&(e.stopKeyTimeout=window.setTimeout((function(){var n=!0===e.isOnePage()?e.fullscreenGetPageNum(t.keyCode,e.keypressCnt):e.getPageNum(t.keyCode,e.keypressCnt);e.keypressCnt=0,-1!==n&&e.keyMovePage(n)}),20))))}},this.getPageNum=function(t,n){var o=e.docInfo.currentPage,r=-1;switch(t){case i.PAGEUP:var s=o-n;r=s<0?0:s;break;case i.PAGEDOWN:var a=o+n;r=a>e.maxPage-1?e.maxPage-1:a;break;case i.UPARROW:e.scrollContentAreaEl.scrollTop(e.scrollContentAreaEl.scrollTop()-40);break;case i.LEFTARROW:e.scrollContentAreaEl.scrollLeft(e.scrollContentAreaEl.scrollLeft()-40);break;case i.DOWNARROW:e.scrollContentAreaEl.scrollTop(e.scrollContentAreaEl.scrollTop()+40);break;case i.RIGHTARROW:e.scrollContentAreaEl.scrollLeft(e.scrollContentAreaEl.scrollLeft()+40);break;case i.HOME:e.scrollContentAreaEl.scrollTop(0);break;case i.END:e.scrollContentAreaEl.scrollTop(e.scrollContentAreaEl.prop("scrollHeight"));break;default:r=-1}return r},this.fullscreenGetPageNum=function(t,n){var o=e.docInfo.currentPage,r=-1;switch(t){case i.PAGEUP:case i.UPARROW:case i.LEFTARROW:var s=o-n;r=s<0?0:s;break;case i.PAGEDOWN:case i.DOWNARROW:case i.RIGHTARROW:var a=o+n;r=a>e.maxPage-1?e.maxPage-1:a;break;case i.HOME:r=0;break;case i.END:r=e.maxPage-1;break;default:r=-1}return r},this.keyMovePage=function(t){isNaN(t)||t<0||t>e.maxPage-1||1===e.maxPage?o("#page__input").val(e.docInfo.currentPage+1):e.eventObserver.page.notify({pageNum:t,isScroll:!1})},this.eventBind=function(t){e.eventObserver=t,o(window).on("keyup",(function(){e.keypressCnt=0})),o(window).on("keydown",(function(t){return e.pageKeyEvent(t.originalEvent)}))},this.load=function(e,t){this.docInfo=e,this.maxPage=this.docInfo.status.pageNum,this.eventBind(t)}};t.KeyEvent=l},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,s,a=n(0),l=n(2),c=n(121),u=n(1),d=n(6);!function(e){e.FILENAME="fileName",e.FILETYPE="fileType",e.FILESIZE="fileSize",e.NULL="null"}(r=t.SORTING_FIELD||(t.SORTING_FIELD={})),function(e){e[e.ASEC=0]="ASEC",e[e.DESC=1]="DESC",e[e.NULL=2]="NULL"}(s=t.SORTING_STATUS||(t.SORTING_STATUS={}));var h=function(e,t,n,h,p,f){var g=this;this.pathList=[],this.currentPathListIdx=0,this.selectedFilePath=null,this.totalPathWidth=parseInt(window.getComputedStyle(document.getElementById("fileExplorer-path__filePath")).width),this.maxFileNamePx=94,this.viewMode=d.VIEW_MODE.desktop,this.isDown=!1,this.childFolderList=[],this.childFileList=[],this.fileExtMap={},this.createFileExplorer=function(){var e;g.pathList.push(g.currentTree),document.getElementById("archiveFileName").textContent=""+g.fileTree.fileName,document.getElementById("archiveFileName").title=""+g.fileTree.fileName,g.createCurrentPath(g.pathList),e=g.devideToFolderAndFileList(g.fileTree.children),g.childFolderList=e[0],g.childFileList=e[1],g.currentTree.childSort.sortingStatus=s.ASEC,g.currentTree.childSort.sortingField=r.FILENAME,g.fileTreeSort(),g.setFileTreeSortArrow(),g.currentTree.children=[],g.currentTree.children=g.childFolderList.concat(g.childFileList),g.jqFileTreeFolderList.append(g.createFileTreeList(g.childFolderList)),g.jqFileTreeFileList.append(g.createFileTreeList(g.childFileList)),g.jqFolderTree.append(g.createFolderTreeList([g.fileTree]));var t=document.getElementsByClassName("fileExplorer-folderTree-div")[0];a(t).append(g.createFolderTreeList(g.childFolderList)),t.getElementsByClassName("fileExplorer-folderTree-div__name")[0].className+=" fileExplorer-folderTree-div__name--selected",g.allCountElm.textContent=g.fileTree.children.length},this.createCurrentPath=function(e){var t=a(".fileExplorer-path__filePath");t.empty();var n=0;n-=10;for(var i=0,o=g.currentPathListIdx;o>=0;o--){var r=a("<div/>",{class:"fileExplorer-path__filePath-name",id:"filePath"+i,text:e[o].fileName,title:e[o].fileName,"data-index":o});t.children().length>0?a(r).insertBefore("#arrow"+(i-1)):t.append(r);var s=Math.ceil(document.getElementById("filePath"+i).offsetWidth);if((n+=(s=s>g.maxFileNamePx?g.maxFileNamePx:s)+10)>g.totalPathWidth){a("#filePath"+i).remove(),a("#arrow"+(i-1)).remove();break}if(0!==o){var l=a("<div/>",{class:"fileExplorer-path__filePath-arrow",id:"arrow"+i});a(l).insertBefore("#filePath"+i)}i+=1}0===g.currentPathListIdx?(g.jqPrevBtn.addClass("fileExplorer-path__prevBtn--deactivate"),g.jqPrevBtn.prop("disabled",!0)):(g.jqPrevBtn.removeClass("fileExplorer-path__prevBtn--deactivate"),g.jqPrevBtn.prop("disabled",!1)),g.currentPathListIdx===g.pathList.length-1?(g.jqNextBtn.addClass("fileExplorer-path__nextBtn--deactivate"),g.jqNextBtn.prop("disabled",!0)):(g.jqNextBtn.removeClass("fileExplorer-path__nextBtn--deactivate"),g.jqNextBtn.prop("disabled",!1))},this.createFileTreeList=function(e){for(var t=document.createDocumentFragment(),n=0,i=e;n<i.length;n++){var o=i[n],r=document.createElement("div");r.className="fileExplorer-fileTree-list__div";var s=document.createElement("div");s.className="fileExplorer-fileTree-list__div-icon";var a=void 0;a=o.directory?"fileExplorer-folder-icon":g.fileExtMap[o.fileType]?g.fileExtMap[o.fileType]:g.fileExtMap.default,s.className=s.className+" "+a;var c=document.createElement("div");c.className="fileExplorer-fileTree-list__div-name",c.textContent=o.fileName,c.title=o.fileName;var u=document.createElement("div");u.className="fileExplorer-fileTree-list__div-size",u.textContent="("+l.Util.getSize(o.fileSize,o.directory)+")";var d=document.createElement("div");d.className="fileExplorer-fileTree-list__space";var h=document.createElement("div");h.className="fileExplorer-fileTree-list__div-path",h.textContent=o.filePath,r.appendChild(s),r.appendChild(c),r.appendChild(u),r.appendChild(d),r.appendChild(h),t.appendChild(r)}return t},this.createFolderTreeList=function(e){var t=document.createDocumentFragment(),n=document.createElement("div");n.className="group";for(var i=0,o=e;i<o.length;i++){var r=o[i],s=document.createElement("div");s.className="fileExplorer-folderTree-div";var a=document.createElement("div");a.className="fileExplorer-folderTreeLine-div",a.id=r.filePath;var l=document.createElement("div");l.className="fileExplorer-folderTree-div__arrow fileExplorer-folderTree-div__arrow--hidden";for(var c=0,u=r.children;c<u.length;c++)if(!0===u[c].directory){l.className=" fileExplorer-folderTree-div__arrow";break}var d=document.createElement("div");d.className="fileExplorer-folderTree-div__folder 'fileExplorer-folder-icon'";var h=document.createElement("div");h.className="fileExplorer-folderTree-div__name",h.textContent=r.fileName,h.title=r.fileName;var p=document.createElement("div");p.className="fileExplorer-folderTree-div__space",a.appendChild(l),a.appendChild(d),a.appendChild(h),a.appendChild(p),s.appendChild(a),n.appendChild(s),t.appendChild(n)}return t},this.updateTree=function(){var e;g.selectedFilePath=null,g.allCountElm.textContent=g.currentTree.children.length,a(".fileExplorer-folderTree-div__name--selected").removeClass("fileExplorer-folderTree-div__name--selected"),e=g.devideToFolderAndFileList(g.currentTree.children),g.childFolderList=e[0],g.childFileList=e[1];var t=document.getElementById(g.currentTree.filePath);0===t.parentElement.getElementsByClassName("fileExplorer-folderTree-div").length&&(t.parentElement.appendChild(g.createFolderTreeList(g.childFolderList)),t.getElementsByClassName("fileExplorer-folderTree-div__arrow")[0].className+=" folderExplorer-arrow-down");for(var n=null===t.parentElement.getElementsByClassName("group").item(0)?t.parentElement:t.parentElement.getElementsByClassName("group").item(0),i=[];"fileExplorer-folderTree"!==n.id;)"none"===n.style.display&&i.push(n),n=n.parentElement;if(i)for(var o=0,c=i;o<c.length;o++){var u=c[o];u.parentElement.getElementsByClassName("fileExplorer-folderTreeLine-div").item(0).getElementsByClassName("fileExplorer-folderTree-div__arrow").item(0).className+=" folderExplorer-arrow-down",a(u).show()}var d=t.getElementsByClassName("fileExplorer-folderTree-div__name")[0];a(d).hasClass("fileExplorer-folderTree-div__name--selected")||(d.className+=" fileExplorer-folderTree-div__name--selected"),g.currentTree.childSort.sortingStatus===s.NULL&&(g.currentTree.childSort.sortingField=r.FILENAME,g.currentTree.childSort.sortingStatus=s.ASEC,g.fileTreeSort(),g.currentTree.children=[],g.currentTree.children=g.childFolderList.concat(g.childFileList)),g.setFileTreeSortArrow(),g.jqFileTreeFolderList.empty(),g.jqFileTreeFileList.empty(),g.jqFileTreeFolderList.append(g.createFileTreeList(g.childFolderList)),g.jqFileTreeFileList.append(g.createFileTreeList(g.childFileList)),g.createCurrentPath(g.pathList),l.Util.isMobileMode(g.convertType)&&g.setArchiveFileNameWidth()},this.filePathPrevBtnEventBind=function(){a(".fileExplorer-path__prevBtn").on(u.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){a(e.target).prop("disabled")||a(e.target).addClass("fileExplorer-path__prevBtn--hover")})).on(u.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||a(e.target).removeClass("fileExplorer-path__prevBtn--hover"),"click"===e.type&&(a(e.target).prop("disabled")||g.currentPathListIdx>0&&(g.currentPathListIdx-=1,g.currentTree=g.pathList[g.currentPathListIdx],g.updateTree()))}))},this.filePathNextBtnEventBind=function(){a(".fileExplorer-path__nextBtn").on(u.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){a(e.target).prop("disabled")||a(e.target).addClass("fileExplorer-path__nextBtn--hover")})).on(u.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||a(e.target).removeClass("fileExplorer-path__nextBtn--hover"),"click"===e.type&&(a(e.target).prop("disabled")||g.currentPathListIdx<g.pathList.length-1&&(g.currentPathListIdx+=1,g.currentTree=g.pathList[g.currentPathListIdx],g.updateTree()))}))},this.filePathEventBind=function(){a(".fileExplorer-path__filePath").on(u.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){e.target.className.indexOf("fileExplorer-path__filePath-name")>-1&&a(e.target).addClass("fileExplorer-path__filePath-name--hover")})).on(u.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||e.target.className.indexOf("fileExplorer-path__filePath-name")>-1&&a(e.target).removeClass("fileExplorer-path__filePath-name--hover"),"click"===e.type&&(g.currentPathListIdx=parseInt(e.target.getAttribute("data-index")),g.currentTree=g.pathList[g.currentPathListIdx],g.updateTree())}))},this.fileTreeSortDivEventBind=function(){g.jqFileTreeSortDiv.on(u.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){var t=e.target.className.indexOf("fileExplorer-fileTree-sort__div-arrow")>-1||e.target.className.indexOf("fileExplorer-fileTree-sort__div-type")>-1?e.target.parentElement:e.target.className.indexOf("fileExplorer-fileTree-sort__div")>-1?e.target:null;t.className.indexOf("fileExplorer-fileTree-sort__div")>-1&&(t.className+=" fileExplorer-fileTree-sort__div--hover")})).on(u.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||a(".fileExplorer-fileTree-sort__div--hover").removeClass("fileExplorer-fileTree-sort__div--hover")})),g.jqFileTreeSort.on("click",(function(e){g.fileTreeSortDivClick(e)}))},this.fileTreeSortDivClick=function(e){var t=e.target.className.indexOf("fileExplorer-fileTree-sort__div-arrow")>-1||e.target.className.indexOf("fileExplorer-fileTree-sort__div-type")>-1?e.target.parentElement:e.target.className.indexOf("fileExplorer-fileTree-sort__div")>-1?e.target:null;if(null!==t){var n=null;if("fileExplorer-fileTree-sort__div-fileName"===t.id)n=r.FILENAME;else if("fileExplorer-fileTree-sort__div-fileType"===t.id)n=r.FILETYPE;else{if("fileExplorer-fileTree-sort__div-fileSize"!==t.id)return;n=r.FILESIZE}g.currentTree.childSort.sortingField!==n?g.currentTree.childSort.sortingStatus=s.ASEC:g.currentTree.childSort.sortingStatus=g.currentTree.childSort.sortingStatus===s.ASEC?s.DESC:s.ASEC,g.currentTree.childSort.sortingField=n,g.fileTreeSort(),g.setFileTreeSortArrow(),g.currentTree.children=[],g.currentTree.children=g.childFolderList.concat(g.childFileList),g.jqFileTreeFolderList.empty(),g.jqFileTreeFileList.empty(),g.jqFileTreeFolderList.append(g.createFileTreeList(g.childFolderList)),g.jqFileTreeFileList.append(g.createFileTreeList(g.childFileList)),l.Util.isMobileMode(g.convertType)&&g.setArchiveFileNameWidth()}},this.fileTreeSort=function(){var e=g.currentTree.childSort.sortingField;switch(g.currentTree.childSort.sortingStatus){case s.ASEC:g.childFileList.sort((function(t,n){return t[e]<n[e]?-1:t[e]==n[e]?0:1})),g.childFolderList.sort((function(t,n){return t[e]<n[e]?-1:t[e]==n[e]?0:1}));break;case s.DESC:g.childFileList.sort((function(t,n){return n[e]<t[e]?-1:n[e]==t[e]?0:1})),g.childFolderList.sort((function(t,n){return n[e]<t[e]?-1:n[e]==t[e]?0:1}))}},this.setFileTreeSortArrow=function(){a(".fileExplorer-fileTree-sort__div-arrow").css("display","none"),a(".fileTree-sort__div-arrow-down").removeClass("fileTree-sort__div-arrow-down");var e=null;switch(g.currentTree.childSort.sortingField){case r.FILENAME:e=document.getElementById("fileExplorer-fileTree-sort__div-fileName-arrow");break;case r.FILETYPE:e=document.getElementById("fileExplorer-fileTree-sort__div-fileType-arrow");break;case r.FILESIZE:e=document.getElementById("fileExplorer-fileTree-sort__div-fileSize-arrow")}switch(g.currentTree.childSort.sortingStatus){case s.ASEC:e.className="fileExplorer-fileTree-sort__div-arrow";break;case s.DESC:e.className+=" fileTree-sort__div-arrow-down"}e.style.display="inline-block"},this.fileTreeFileListEventBind=function(){g.jqFileTreeFileList.on("click",(function(e){a(".fileExplorer-fileTree-list__div--selected").removeClass("fileExplorer-fileTree-list__div--selected");var t=e.target.parentElement.className.indexOf("fileExplorer-fileTree-fileList")>-1?e.target:e.target.parentElement;t.className+=" fileExplorer-fileTree-list__div--selected",g.selectedFilePath=t.getElementsByClassName("fileExplorer-fileTree-list__div-path")[0].textContent}))},this.fileTreeFolderListEventBind=function(){var e=0;g.jqFileTreeFolderList.on("click",(function(t){var n=(new Date).getTime();e+250>n&&g.fileTreeFolderListDoubleClick(t),e=n}));var t=0;g.jqFileTreeFolderList.on("touchstart",(function(e){var n=(new Date).getTime();t+250>n&&(e.preventDefault(),g.fileTreeFolderListDoubleClick(e)),t=n}))},this.fileTreeFolderListDoubleClick=function(e){g.isDown=!1;var t=e.target.parentElement.className.indexOf("fileExplorer-fileTree-folderList")>-1?e.target:e.target.parentElement,n=g.getCurrentPathTree(t.getElementsByClassName("fileExplorer-fileTree-list__div-path")[0].textContent,g.currentTree.children);g.currentTree=n,g.pushCurrentTree(g.currentTree),g.updateTree()},this.pushCurrentTree=function(e){var t,n=g.pathList.length;for(t=n-1;t>=0;t--){if(null===e.parent&&e===g.pathList[t])return void(g.currentPathListIdx=t);if(g.pathList[t]===e.parent){if(e===g.pathList[t+1])return void(g.currentPathListIdx=t+1);var i;for(i=t+1;i<n;i++)g.pathList.pop();return g.pathList.push(e),void(g.currentPathListIdx=g.pathList.length-1)}}g.pathList=[],g.currentPathListIdx=-1;for(var o=e;null!==o;)g.pathList.unshift(o),g.currentPathListIdx+=1,o=o.parent},this.folderTreeEventBind=function(){g.jqFolderTree.on("click",(function(e){if(e.target.className.indexOf("fileExplorer-folderTree-div__arrow")>-1){if(g.folderTreeArrowClick(e.target),0!==e.target.parentElement.parentElement.getElementsByClassName("group").length)return;if("fileExplorer-folderTree-div__arrow"===e.target.className)return}var t=e.target.className.indexOf("fileExplorer-folderTreeLine-div")<=-1?e.target.parentElement:e.target;if(!(t.className.indexOf("fileExplorer-folderTreeLine-div")<=-1)){var n=g.getCurrentPathTree(t.id,g.fileTree.children);g.currentTree=n,g.pushCurrentTree(g.currentTree),g.updateTree()}}))},this.folderTreeArrowClick=function(e){e.className.indexOf("folderExplorer-arrow-down")>-1?(e.className="fileExplorer-folderTree-div__arrow",a(e.parentElement.parentElement.getElementsByClassName("group").item(0)).hide()):(e.className+=" folderExplorer-arrow-down",a(e.parentElement.parentElement.getElementsByClassName("group").item(0)).show())},this.viewFile=function(e){return i(g,void 0,void 0,(function(){var t,n,i;return o(this,(function(o){switch(o.label){case 0:t=this.contextPath+"/viewArchiveFile/"+this.docId,(n={}).param={filePath:this.selectedFilePath,convertType:this.convertType,convertLocale:this.convLocale},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.Util.ajaxCall(t,"POST",n)];case 2:return i=o.sent(),e.location.href=i?this.contextPath+"/view/"+JSON.parse(i).key:this.contextPath+"/exception?convLocale="+this.convLocale,[3,4];case 3:return o.sent(),e.location.href=this.contextPath+"/exception?convLocale="+this.convLocale,[3,4];case 4:return[2]}}))}))},this.viewFileEventBind=function(){a(".fileExplorer-viewerBtn").on("click",(function(){if(g.selectedFilePath){var e=window.open(g.contextPath+"/loading");g.viewFile(e)}}))},this.setFileTreeHeight=function(){a(".fileExplorer").css("height",a("#wrap").height()-parseInt(a(".modal").css("padding-top")));var e=a(".fileExplorer").outerHeight(!0)-a(".fileExplorer-header").outerHeight(!0)-a(".fileExplorer-path").outerHeight(!0)-a(".fileExplorer-viewerBtn").outerHeight(!0);a(".fileExplorer-fileTree").css("height",e),a(".fileExplorer-fileTree-list").css("height",e-a(".fileExplorer-fileTree-sort").outerHeight(!0))},this.setFilePathWidth=function(){var e=a(".fileExplorer").outerWidth(!0)-2*a(".fileExplorer-path__prevBtn").outerWidth(!0)-28;a(".fileExplorer-path__filePath").css("width",e),g.totalPathWidth=e},this.setSortDivWidth=function(){var e=a(".fileExplorer-tree").outerWidth(!0)/3-parseInt(a(".fileExplorer-fileTree-sort__div").css("padding-left"))-parseInt(a(".fileExplorer-fileTree-sort__div").css("padding-right"))-parseInt(a(".fileExplorer-fileTree-sort__div").css("border-right-width"));a(".fileExplorer-fileTree-sort__div").css("width",e)},this.setArchiveFileHeaderWidth=function(){var e=a(".fileExplorer-header").outerWidth(!0)-parseInt(a(".fileExplorer-header").css("padding-right"))-parseInt(a(".fileExplorer-header").css("padding-left"))-parseInt(a(".fileExplorer-header__archiveFileName").css("padding-left"))-parseInt(a(".fileExplorer-header__archiveFileName").css("padding-right"))-a(".fileExplorer-header__closeBtn").outerWidth(!0);a(".fileExplorer-header__archiveFileName").css("width",e)},this.setArchiveFileNameWidth=function(){var e=a(".fileExplorer-tree").outerWidth()-a(".fileExplorer-fileTree-list__div-icon").outerWidth()-parseInt(a(".fileExplorer-fileTree-list__div").css("padding-left"))-parseInt(a(".fileExplorer-fileTree-list__div").css("padding-right"))-parseInt(a(".fileExplorer-fileTree-list__div-icon").css("margin-right"))-parseInt(a(".fileExplorer-fileTree-list__div-name").css("margin-right"))-68;a(".fileExplorer-fileTree-list__div-name").css("max-width",e)},this.resizeEvent=function(){l.Util.isMobileMode(g.convertType)&&g.viewMode!==d.VIEW_MODE.mobile?g.viewMode=d.VIEW_MODE.mobile:l.Util.isMobileMode(g.convertType)||g.viewMode===d.VIEW_MODE.desktop||(g.viewMode=d.VIEW_MODE.desktop,a(".fileExplorer").css("height",""),a(".fileExplorer-fileTree").css("height",""),a(".fileExplorer-fileTree-list").css("height",""),a(".fileExplorer-path__filePath").css("width",""),a(".fileExplorer-fileTree-sort__div").css("width",""),a(".fileExplorer-header__archiveFileName").css("width",""),a(".fileExplorer-fileTree-list__div-name").css("max-width",""),g.totalPathWidth=413),l.Util.isMobileMode(g.convertType)&&(g.setFileTreeHeight(),g.setFilePathWidth(),g.setSortDivWidth(),g.setArchiveFileHeaderWidth(),g.setArchiveFileNameWidth()),g.createCurrentPath(g.pathList)},this.resizeEventBind=function(){var e;a(window).on("resize",(function(){clearTimeout(e),e=setTimeout(g.resizeEvent,20)}))},this.closeEventBind=function(){a(".fileExplorer-header__closeBtn").on("click",(function(){self.close()}))},this.devideToFolderAndFileList=function(e){for(var t=[],n=[],i=0,o=e;i<o.length;i++){var r=o[i];!0===r.directory?t.push(l.Util.clone(r)):n.push(l.Util.clone(r))}return[t,n]},this.getCurrentPathTree=function(e,t){for(var n=e.replace(/^\/|\/$/g,"").split("/"),i=t,o=null,r=0;r<n.length;r++)for(var s=0;s<i.length;s++)if(i[s].fileName===n[r]){o=i[s],i=i[s].children;break}return null===o?g.fileTree:o},this.preventDragSelect=function(){g.jqFileExplorer.on("dragstart",(function(){return!1})),g.jqFileExplorer.on("selectstart",(function(){return!1}))},this.eventBind=function(){g.filePathEventBind(),g.fileTreeFileListEventBind(),g.fileTreeFolderListEventBind(),g.folderTreeEventBind(),g.preventDragSelect(),g.viewFileEventBind(),g.resizeEventBind(),g.closeEventBind(),g.filePathPrevBtnEventBind(),g.filePathNextBtnEventBind(),g.fileTreeSortDivEventBind()},this.archiveFileViewDialog=function(){g.eventBind(),g.jqFileExplorer.show(),g.jqModal.show(),l.Util.isMobileMode(g.convertType)&&(g.setFileTreeHeight(),g.setFilePathWidth(),g.setSortDivWidth(),g.setArchiveFileHeaderWidth(),g.setArchiveFileNameWidth()),u.Browser.instance.isMobile&&a(".fileExplorer-header__closeBtn").hide()},this.hasChildDirectory=function(){return g.currentTree.children.reduce((function(e,t){return!(e||!t.directory)||e}),!1)},this.contextPath=n,this.docId=h,this.convertType=p,this.convLocale=f,this.fileTree=new c.ZipTree(e,t).getZipTree(),this.currentTree=this.fileTree,this.jqModal=a(".modal"),this.jqFileExplorer=a(".fileExplorer"),this.jqFolderTree=a("#fileExplorer-folderTree"),this.jqFileTree=a(".fileExplorer-fileTree"),this.jqFileTreeFolderList=a(".fileExplorer-fileTree-folderList"),this.jqFileTreeFileList=a(".fileExplorer-fileTree-fileList"),this.jqFileTreeFolderAndFileList=a(".fileExplorer-fileTree-folderList, .fileExplorer-fileTree-fileList"),this.allCountElm=document.getElementById("fileExplorer-allCount__num"),this.jqPrevBtn=a(".fileExplorer-path__prevBtn"),this.jqNextBtn=a(".fileExplorer-path__nextBtn"),this.jqFileTreeSort=a(".fileExplorer-fileTree-sort"),this.jqFileTreeSortDiv=a(".fileExplorer-fileTree-sort__div"),this.fileExtMap.xls="fileExplorer-cell-icon",this.fileExtMap.xlsx="fileExplorer-cell-icon",this.fileExtMap.csv="fileExplorer-cell-icon",this.fileExtMap.nxls="fileExplorer-cell-icon",this.fileExtMap.ppt="fileExplorer-slide-icon",this.fileExtMap.pptx="fileExplorer-slide-icon",this.fileExtMap.nppt="fileExplorer-slide-icon",this.fileExtMap.doc="fileExplorer-word-icon",this.fileExtMap.docx="fileExplorer-word-icon",this.fileExtMap.ndoc="fileExplorer-word-icon",this.fileExtMap.hwp="fileExplorer-hwp-icon",this.fileExtMap.hml="fileExplorer-hwp-icon",this.fileExtMap.odt="fileExplorer-odt-icon",this.fileExtMap.pdf="fileExplorer-pdf-icon",this.fileExtMap.bmp="fileExplorer-img-icon",this.fileExtMap.gif="fileExplorer-img-icon",this.fileExtMap.jpg="fileExplorer-img-icon",this.fileExtMap.jpeg="fileExplorer-img-icon",this.fileExtMap.png="fileExplorer-img-icon",this.fileExtMap.pbm="fileExplorer-img-icon",this.fileExtMap.tif="fileExplorer-img-icon",this.fileExtMap.tiff="fileExplorer-img-icon",this.fileExtMap.txt="fileExplorer-txt-icon",this.fileExtMap.htm="fileExplorer-txt-icon",this.fileExtMap.html="fileExplorer-txt-icon",this.fileExtMap.xml="fileExplorer-txt-icon",this.fileExtMap.zip="fileExplorer-zip-icon",this.fileExtMap.default="fileExplorer-nosupport-icon",this.createFileExplorer(),this.hasChildDirectory()&&(document.getElementsByClassName("fileExplorer-folderTree-div__arrow")[0].className="fileExplorer-folderTree-div__arrow folderExplorer-arrow-down")};t.FileExplorer=h}).call(this,n(3))},function(e,t,n){n(76),n(124),n(135),n(138),e.exports=n(140)},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(30),a=n(122),l={page:new a.Observable,sheet:new a.Observable,resize:new a.Observable,resizeWindow:new a.Observable,resizeContents:new a.Observable,fullScreen:new a.Observable,mobileHeader:new a.Observable,mobileHeaderHover:new a.Observable,mobileThumb:new a.Observable,scroll:new a.Observable,singleTap:new a.Observable,fullscreenSingleTap:new a.Observable,doubleTap:new a.Observable,swipe:new a.Observable,bgColor:new a.Observable,moveBtn:new a.Observable,orientationchange:new a.Observable,androidVirtualKeyboard:new a.Observable,annotation:new a.Observable,search:new a.Observable,sheetFail:new a.Observable};r((function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,new s.Init(l).load()];case 1:return e.sent(),[2]}}))}))}))}).call(this,n(3))},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(12),s=n(14),a=n(8),l=n(1),c=function(e){var t=this;this.eventObserver=null,this.protectedObj=null,this.eventBind=function(e,n){t.docInfo=n,l.Browser.instance.isMobile&&(i("#web-thumbnailbar").addClass("thumbnailbar--touch-expand"),i("#mobile-thumbnailbar").addClass("thumbnailbar--touch-expand")),t.eventObserver=e,t.eventObserver.mobileThumb.subscribe(t.mobileThumb),t.mouseoverEventBind()},this.toggleAction=function(){a.Thumbnail.THUMB_STATUS===a.THUMB_FLAG.off?(a.Thumbnail.THUMB_STATUS=a.THUMB_FLAG.on,t.showThumb(),t.actionMobileThumbBtn(s.ShowActionType.SHOW),t.eventObserver.mobileHeader.notify(s.ShowActionType.SHOW)):(a.Thumbnail.THUMB_STATUS=a.THUMB_FLAG.off,t.hideThumb(),t.actionMobileThumbBtn(s.ShowActionType.HIDE3SEC),t.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC))},this.initThumb=function(){i("#mobile-thumbnailbar").removeClass("mobile-thumbnailbar__img--close"),t.jqThumbnail.css("display",""),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--mobile-on"),document.getElementById("mobile-thumbnailbar").title=r.LocaleMessage.getMessage("icon_thumbnail_close")},this.showThumb=function(){t.jqThumbnail.show(),i("#mobile-thumbnailbar").addClass("mobile-thumbnailbar__img--close"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--mobile-on")},this.hideThumb=function(){t.initThumb(),document.getElementById("mobile-thumbnailbar").title=r.LocaleMessage.getMessage("icon_thumbnail_open")},this.changeMode=function(e){a.Thumbnail.THUMB_STATUS===a.THUMB_FLAG.on?(t.showThumb(),t.actionMobileThumbBtn(s.ShowActionType.SHOW),t.eventObserver.mobileHeader.notify(s.ShowActionType.SHOW)):(t.hideThumb(),t.actionMobileThumbBtn(s.ShowActionType.HIDE3SEC),t.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC)),t.eventObserver.page.notify({pageNum:e,isScroll:!1}),setTimeout((function(){document.getElementById("thumbnail").scrollTop=document.getElementById("thumb-content"+e).offsetTop-1}),150)},this.mobileThumb=function(e){switch(e){case s.ShowActionType.SHOW:t.jqThumbnail.show(),t.actionMobileThumbBtn(s.ShowActionType.SHOW);break;case s.ShowActionType.HIDE3SEC:case s.ShowActionType.HIDE:t.jqThumbnail.css("display",""),t.actionMobileThumbBtn(e)}},this.mouseoverEventBind=function(){i(".wrap__header").on("mouseover.head",(function(){o.Util.isMobileMode(t.docInfo.status.convertType)&&!o.Util.isFullScreen()&&"none"===t.jqThumbnail.css("display")&&t.mobileHeaderHover("mouseover")})).on("mouseleave.head",(function(){o.Util.isMobileMode(t.docInfo.status.convertType)&&!o.Util.isFullScreen()&&"none"===t.jqThumbnail.css("display")&&t.mobileHeaderHover("mouseleave")}))},this.mobileHeaderHover=function(e){if(!o.Util.isFullScreen()&&"none"===t.jqThumbnail.css("display"))switch(e){case"mouseover":t.actionMobileThumbBtn(s.ShowActionType.SHOW),t.jqThumbnailBar.show();break;case"mouseleave":t.actionMobileThumbBtn(s.ShowActionType.HIDE3SEC)}},this.actionMobileThumbBtn=function(e){switch(clearTimeout(t.protectedObj.timer),e){case s.ShowActionType.SHOW:t.jqThumbnailBar.show();break;case s.ShowActionType.HIDE:t.jqThumbnailBar.hide();break;case s.ShowActionType.HIDE3SEC:t.jqThumbnailBar.show(),t.protectedObj.timer=window.setTimeout((function(){t.jqThumbnailBar.hide()}),3e3)}},this.protectedObj=e,this.jqThumbnail=i("#thumbnail"),this.jqThumbnailBar=i("#thumbnailbar")};t.ThumbnailMobile=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(12),r=n(8),s=function(e){var t=this;this.eventObserver=null,this.protectedObj=null,this.eventBind=function(e){t.eventObserver=e,i("#web-thumbnailbar").on("dragstart",(function(){return!1}))},this.toggleAction=function(){r.Thumbnail.THUMB_STATUS===r.THUMB_FLAG.off?(r.Thumbnail.THUMB_STATUS=r.THUMB_FLAG.on,t.showThumb()):(r.Thumbnail.THUMB_STATUS=r.THUMB_FLAG.off,t.hideThumb()),t.eventObserver.resizeContents.notify(),t.eventObserver.resizeWindow.notify()},this.initThumb=function(){t.jqThumbnailButton.removeClass("thumbnail-btn__img--on"),document.getElementById("thumbnailview-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_open"),document.getElementById("thumbnail-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_open"),t.jqThumbnail.removeClass("wrap__thumbnail--on"),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--on"),t.jqContents.removeClass("wrap__contents--thumb-on"),t.jqThumbnail.css({width:"","overflow-y":""}),t.jqThumbnailBar.css("left",""),t.jqContents.css("left","")},this.showThumb=function(){t.jqThumbnailButton.addClass("thumbnail-btn__img--on"),t.jqThumbnail.css("overflow-y","scroll"),t.jqThumbnail.addClass("wrap__thumbnail--on"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--on"),t.jqContents.addClass("wrap__contents--thumb-on"),document.getElementById("thumbnailview-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_close"),document.getElementById("thumbnail-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_close")},this.hideThumb=function(){t.initThumb()},this.changeMode=function(e){clearTimeout(t.protectedObj.timer),t.jqThumbnail.css("display",""),t.jqThumbnailBar.show(),r.Thumbnail.THUMB_STATUS===r.THUMB_FLAG.on?t.showThumb():t.hideThumb(),t.eventObserver.page.notify({pageNum:e,isScroll:!1}),setTimeout((function(){document.getElementById("thumbnail").scrollTop=document.getElementById("thumb-content"+e).offsetTop-1}),150)},this.protectedObj=e,this.jqThumbnail=i("#thumbnail"),this.jqThumbnailButton=i("#thumbnail-btn"),this.jqThumbnailBar=i("#thumbnailbar"),this.jqContents=i("#contents")};t.ThumbnailDesktop=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n(1),r=n(0),s=n(6),a=function(){function e(){var e=this;this.thisUrl=document.location.href,this.isEnabled=!1,this.snsDesktopDialog=function(t){r("#sns-btn__img").addClass("sns-btn__img--on"),e.initSnsDialog(t),t.jqContent.html(""+i.LocaleMessage.getMessage("sns_title")),e.addInputArea(t,!0),e.addSnsArea(t),e.horzCtrAlign(t),t.jqCancelButton.on("click",(function(){e.closeEvent(t)}))},this.snsMobileDialog=function(t){e.initSnsDialog(t),t.jqContent.html(""+i.LocaleMessage.getMessage("sns_title")),e.addSnsArea(t),t.jqDialog.css("width","auto"),e.addInputArea(t,!1),e.horzCtrAlign(t),t.jqCancelButton.on("click",(function(){e.closeEvent(t)}))}}return e.prototype.createDivElement=function(e){var t=document.createElement("div");return t.className=e,t},e.prototype.createAElement=function(e,t,n,i,o){var r=document.createElement("a");return r.href=e,r.id=t,r.className=n,r.title=i,void 0!==o&&(r.onclick=function(){o()}),r},e.prototype.allowAuth=function(e){return!(!window.clipboardData||window.clipboardData.getData("Text")!==e)},e.prototype.clipboardCopy=function(e){if(o.Browser.instance.isIOS){var t=e.contentEditable,n=e.readOnly;e.contentEditable="true",e.readOnly=!1;var r=document.createRange();r.selectNodeContents(e);var s=window.getSelection();s.removeAllRanges(),s.addRange(r),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=n}else e.focus(),e.select();if(!o.Browser.instance.isIOS||o.Browser.instance.getIOSVersion()>=10)try{!document.execCommand("copy",null,null)||o.Browser.instance.isIE&&!this.allowAuth(e.value)||alert(""+i.LocaleMessage.getMessage("sns_url_copy_completed"))}catch(e){alert(e)}},e.prototype.sendSns=function(e,t,n){var r=window.localSynap.config.kakaoAPIKey;if(void 0!==r)try{Kakao.init(r)}catch(e){}var s=encodeURIComponent(t),a=encodeURIComponent(n),l=encodeURIComponent("\r\n"),c={};switch(e){case"facebook":c.method="popup",c.url="http://www.facebook.com/sharer/sharer.php?u="+s;break;case"twitter":c.method="popup",c.url="http://twitter.com/intent/tweet?text="+a+"&url="+s;break;case"kakaostory":c.method="popup",c.url="https://story.kakao.com/share?url="+s;break;case"band":o.Browser.instance.isMobile?(c.method="web2app",c.param="bandapp://create/post?text="+a+l+s,c.a_store="itms-apps://itunes.apple.com/app/id542613198",c.g_store="market://details?id=com.nhn.android.band"):(c.method="popup",c.url="http://www.band.us/plugin/share?body="+s);break;case"kakaotalk":return Kakao.Link.sendDefault({objectType:"text",text:""+i.LocaleMessage.getMessage("view_title"),link:{mobileWebUrl:t,webUrl:t},installTalk:!0}),!0;default:return!1}switch(c.method){case"popup":window.open(c.url);break;case"web2app":if(o.Browser.instance.isAndroid)if(-1!==o.Browser.instance.getChromeVersion())location.href="intent:"+c.param+"#Intent;package=com.nhn.android.band;end;";else{var u=document.createElement("iframe");u.style.display="none",u.src=c.param,document.body.appendChild(u),document.body.removeChild(u)}else o.Browser.instance.isIOS&&(location.href=c.param)}},e.prototype.initSnsDialog=function(e){e.jqPassword.hide(),e.jqMessage.hide(),r(".dialog-buttons__commit").hide(),r(".dialog-buttons__cancel").show(),e.jqDialog.show(),e.jqModal.show(),this.isEnabled=!0},e.prototype.setUrlAreaWidth=function(){var e=r(".dialog-contents__content__inputArea").width()-r("#urlBtn").innerWidth()-(r("#urlArea").outerWidth()-r("#urlArea").width())-1;r("#urlArea").css("width",e+"px")},e.prototype.addInputArea=function(e,t){var n=this,s=this.createDivElement("dialog-contents__content__inputArea"),a=document.createElement("input");a.type="text",a.id="urlArea",a.className="dialog-contents__content__inputArea__urlArea",a.value=this.thisUrl,a.readOnly=!0;var l=o.Browser.instance.isIOS&&o.Browser.instance.getIOSVersion()<10?""+i.LocaleMessage.getMessage("sns_url_select"):""+i.LocaleMessage.getMessage("sns_url_copy"),c=this.createAElement("#","urlBtn","dialog-contents__content__inputArea__urlBtn",l,(function(){n.clipboardCopy(a)}));c.appendChild(document.createTextNode(l)),s.appendChild(a),s.appendChild(c),e.jqContent.append(s),this.setUrlAreaWidth(),o.Browser.instance.isSafari||o.Browser.instance.isIOS?(r(".dialog-contents__content__inputArea").css("display","table"),r("#urlArea").css("display","table-cell"),r("#urlBtn").css("display","table-cell")):r("#urlBtn").css("vertical-align","sub")},e.prototype.addSnsArea=function(e){for(var t=this,n=this.createDivElement("dialog-contents__content__snsArea"),i=function(i){if("kakaotalk"===i&&(void 0===window.localSynap.config.kakaoAPIKey||""===window.localSynap.config.kakaoAPIKey))return"continue";var r=i,s=o.createAElement("#",r,"dialog-contents__content__snsArea__"+r,r,(function(){t.sendSns(i,t.thisUrl,""),t.closeEvent(e)}));s.title=i,s.className="dialog-contents__content__snsArea__"+r,n.appendChild(s)},o=this,r=0,s=["facebook","twitter","kakaotalk","band"];r<s.length;r++){i(s[r])}e.jqContent.append(n)},e.prototype.closeEvent=function(e){r("#sns-btn__img").removeClass("sns-btn__img--on"),e.jqDialog.css("width",""),this.isEnabled=!1,e.remove()},e.prototype.horzCtrAlign=function(e){var t=document.getElementById("dialog").clientWidth/2;e.jqDialog.css("margin-left","-"+t+"px")},e.prototype.getIsEnabled=function(){return this.isEnabled},e.prototype.resizeDialog=function(e,t){e===s.VIEW_MODE.desktop?(r("#sns-btn__img").addClass("sns-btn__img--on"),t.jqDialog.css("width",""),r("#dialog").css("margin-left","-182px"),r(".dialog-contents__content__snsArea").insertAfter(".dialog-contents__content__inputArea")):(r("#urlArea").css("width","0px"),t.jqDialog.css("width","auto"),this.horzCtrAlign(t),r(".dialog-contents__content__inputArea").insertAfter(".dialog-contents__content__snsArea")),this.setUrlAreaWidth()},e}();t.Sns=a},function(e,t,n){"use strict";(function(e,i){var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(2),u=n(0),d=n(45),h=n(110),p=n(111),f=n(112),g=n(23),m=n(20),v=n(6),b=function(e){function t(){var t=e.call(this)||this;return t.initPageNum=3,t.rotateMap=new i,t.pageFitAction=new h.PageFit,t.pageWidthFitAction=new p.PageWidthFit,t.pageZoomAction=new f.PageZoom,t.dpi=c.Util.normalDPI,t.getDimensionImg=function(e,n,i,o){return s(t,void 0,void 0,(function(){var t,r,s;return a(this,(function(a){switch(a.label){case 0:return n=void 0!==n?n:0,o=void 0!==o?o:c.Util.normalDPI,t=e.contextPath+"/dimension/"+e.status.id+"/"+n+"-"+i+"?dpi="+o,r=[],[4,c.Util.getJson(t)];case 1:return s=a.sent(),u.each(s,(function(e,t){var n={index:t.p,width:t.w,height:t.h};r[t.p]=n})),[2,r]}}))}))},t.getDimensionHtml=function(e){return s(t,void 0,void 0,(function(){var t,n;return a(this,(function(i){switch(i.label){case 0:return t=e.resultPath+"/"+e.status.fileName+".xml",[4,c.Util.getXml(t)];case 1:return n=i.sent(),"image"===e.skinType?[2,c.Util.getDimensionHtmlForImage(n)]:[2,c.Util.getDimensionHtmlForPDF(n)]}}))}))},t.createContentDiv=function(e){return s(t,void 0,void 0,(function(){var t,n,i,o,r,s,l;return a(this,(function(a){switch(a.label){case 0:return t=null,c.Util.isConvHtml(this.docInfo)?[4,this.getDimensionHtml(e)]:[3,2];case 1:return t=a.sent(),[3,4];case 2:return[4,this.getDimensionImg(e,0,e.status.pageNum,this.dpi)];case 3:t=a.sent(),a.label=4;case 4:for(n=document.createDocumentFragment(),i=0,o=t;i<o.length;i++)r=o[i],v.Page.ORIGIN_SIZE[r.index]={width:r.width,height:r.height},(s=document.createElement("canvas")).className="contents-page__img",c.Util.isConvHtml(this.docInfo)&&(v.Page.ORIGIN_SIZE[r.index].path=r.path),r.index<this.initPageNum&&this.onLoadImg(s,r.index),(l=document.createElement("div")).id="page-area"+r.index,l.className="contents-page img-loading",s.id="page"+r.index,s.title="page"+(r.index+1),s.setAttribute("data-index",r.index.toString()),l.appendChild(s),n.appendChild(l);return u("#contents-area").append(n),v.Page.ORIGIN_MARGIN={marginTop:parseInt(u(".contents-page").css("margin-top")),marginBottom:parseInt(u(".contents-page").css("margin-bottom"))},u("#page-area0").addClass("contents-page--start"),u("#page-area"+(this.docInfo.status.pageNum-1)).addClass("contents-page--end"),this.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,this.rotateMap,0,this.initPageNum),this.checkResizeControlBar(),[2]}}))}))},t._zoomCalculation=function(e,n){for(var i=Number(document.getElementById("page0").style.width.replace("px","")),o=v.Page.RESIZE_OBJ.percent,r=l.Browser.instance.isMobile||100===t.curZoomFactor?1:t.curZoomFactor/100,s=0,a=e;s<a.length;s++){var c=a[s],u=c/100*v.Page.ORIGIN_SIZE[0].width*r;if(n(u,i)&&!(Math.abs(u-i)<1)){o=c;break}}return o},t.zoomPage=function(e){var n=null;switch(e){case d.ZOOM_TYPE.ZoomOut:n=t._zoomCalculation(d.Controlbar.ZOOM_LIST.slice().reverse(),(function(e,t){return e<t}));break;case d.ZOOM_TYPE.ZoomIn:n=t._zoomCalculation(d.Controlbar.ZOOM_LIST,(function(e,t){return e>t}));break;case d.ZOOM_TYPE.OriginSize:n=100}n!==v.Page.RESIZE_OBJ.percent&&(v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageZoom,percent:n},t.pageResizeAction=t.pageZoomAction,t.pageResizeAction.resizePage(n,t.rotateMap),t.checkResizeControlBar(),t.lastTop=null)},t.loadPageImg=function(e){for(var n=t.getDefaultLadingCnt(),i=e-n<0?e:e-n,o=e+n>t.docInfo.status.pageNum?t.docInfo.status.pageNum:e+n,r=t.getLoadingClassSelector(),s=i;s<o;s++){var a=document.getElementById("page"+s);a.parentElement.className.indexOf(r)>-1&&t.onLoadImg(a,s)}},t.getLoadingClassSelector=function(){return m.Head.bgColorMode===m.BGCOLOR_MODE.lightScreen?"img-loading-bright":"img-loading"},t.rotatePage=function(){var e=t.docInfo.currentPage,n=t.rotateMap.get(e);t.rotateMap.set(e,void 0===n?90:(n+90)%360);var i=t.rotateMap.get(e);u("#page"+e).removeClass("transform0 transform90 transform180 transform270"),u("#page"+e).css({margin:"",marginTop:"",marginBottom:""}),u("#page"+e).addClass("transform"+i),t.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,t.rotateMap,e,1),t.checkResizeControlBar(),t.lastTop=null},t.rotateEvent=function(){c.Util.bindClickOrTouchEvent(u("#page-rotate"),"controlbar-rotate--hover",(function(){t.rotatePage(),v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageFit&&t.scrollContentAreaEl.scrollTop(t.getPageScrollTop(t.docInfo.currentPage))}))},t.checkResizeControlBar=function(){var e=v.Page.RESIZE_OBJ.percent;v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageFit&&v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageWidthFit||(e=Number(document.getElementById("page0").style.width.replace("px",""))/v.Page.ORIGIN_SIZE[0].width*100);e<=d.Controlbar.ZOOM_LIST[0]?(u("#page-zoomout").removeClass("controlbar--enable"),u("#page-zoomout").removeClass("controlbar-zoomout--hover"),u("#page-zoomout").prop("disabled",!0)):(u("#page-zoomout").addClass("controlbar--enable"),u("#page-zoomout").prop("disabled",!1)),e>=d.Controlbar.ZOOM_LIST[d.Controlbar.ZOOM_LIST.length-1]?(u("#page-zoomin").removeClass("controlbar--enable"),u("#page-zoomin").removeClass("controlbar-zoomin--hover"),u("#page-zoomin").prop("disabled",!0)):(u("#page-zoomin").addClass("controlbar--enable"),u("#page-zoomin").prop("disabled",!1)),v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageFit&&v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageWidthFit&&100===e?(u("#page-originsize").addClass("controlbar-originsize--hover"),u("#page-originsize").prop("disabled",!0)):(u("#page-originsize").removeClass("controlbar-originsize--hover"),u("#page-originsize").prop("disabled",!1)),v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageFit?(u("#page-pagefit").addClass("controlbar-pagefit--hover"),u("#page-pagefit").prop("disabled",!0)):(u("#page-pagefit").removeClass("controlbar-pagefit--hover"),u("#page-pagefit").prop("disabled",!1)),v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageWidthFit?(u("#page-pagewidthfit").addClass("controlbar-pagewidthfit--hover"),u("#page-pagewidthfit").prop("disabled",!0)):(u("#page-pagewidthfit").removeClass("controlbar-pagewidthfit--hover"),u("#page-pagewidthfit").prop("disabled",!1))},t.bindControlbarEvent=function(){c.Util.bindClickOrTouchEvent(u("#page-pagefit"),"controlbar-pagefit--hover",(function(){v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageFit,percent:0},t.pageResizeAction=t.pageFitAction,t.pageResizeAction.resizePage(0,t.rotateMap),t.checkResizeControlBar(),t.lastTop=null,t.scrollContentAreaEl.scrollTop(t.getPageScrollTop(t.docInfo.currentPage)),t.eventObserver.annotation.notify(v.Page.RESIZE_OBJ)}),(function(){t.checkResizeControlBar()})),c.Util.bindClickOrTouchEvent(u("#page-pagewidthfit"),"controlbar-pagewidthfit--hover",(function(){v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageWidthFit,percent:0},t.pageResizeAction=t.pageWidthFitAction,t.pageResizeAction.resizePage(0,t.rotateMap),t.checkResizeControlBar(),t.lastTop=null,t.eventObserver.annotation.notify(v.Page.RESIZE_OBJ)}),(function(){t.checkResizeControlBar()})),c.Util.bindClickOrTouchEvent(u("#page-originsize"),"controlbar-originsize--hover",(function(){t.zoomPage(d.ZOOM_TYPE.OriginSize),t.eventObserver.annotation.notify(v.Page.RESIZE_OBJ)}),(function(){t.checkResizeControlBar()})),c.Util.bindClickOrTouchEvent(u("#page-zoomout"),"controlbar-zoomout--hover",(function(){t.zoomPage(d.ZOOM_TYPE.ZoomOut),t.eventObserver.annotation.notify(v.Page.RESIZE_OBJ)})),c.Util.bindClickOrTouchEvent(u("#page-zoomin"),"controlbar-zoomin--hover",(function(){t.zoomPage(d.ZOOM_TYPE.ZoomIn),t.eventObserver.annotation.notify(v.Page.RESIZE_OBJ)})),c.Util.bindClickOrTouchEvent(u("#page-prev"),"controlbar-prev--hover",t.moveBackPage),c.Util.bindClickOrTouchEvent(u("#page-next"),"controlbar-next--hover",t.moveNextPage),t.checkMoveControlbar(),"image"===t.docInfo.skinType&&(u("#page-docfit").removeClass("controlbar__end-block").addClass("controlbar__block"),u("#rotate-seperator").removeClass("controlbar--hide"),u("#page-rotate").removeClass("controlbar--hide"),t.rotateEvent())},t.onLoadImg=function(e,n){var i=new Image;c.Util.isConvHtml(t.docInfo)?i.src=""+c.Util.getResultPath(t.docInfo,v.Page.ORIGIN_SIZE[n].path):i.src=c.Util.getThumbPath(t.docInfo,n,t.dpi)+"&w="+v.Page.ORIGIN_SIZE[n].width+"&h="+v.Page.ORIGIN_SIZE[n].height,i.onload=function(){c.Util.removeClass(e.parentElement,t.getLoadingClassSelector()),e.style.backgroundImage="url('"+i.src+"')"},e.removeEventListener("click",t.retry),i.onerror=function(){c.Util.removeClass(e.parentElement,t.getLoadingClassSelector()),e.className+=" img-retry",e.addEventListener("click",t.retry)},e.className="contents-page__img"},t.retry=function(e){var n=parseInt(e.target.getAttribute("data-index")),i=document.getElementById("page"+n);c.Util.addClass(i.parentElement,t.getLoadingClassSelector()),t.onLoadImg(i,n)},t.isFitAction=function(){return t.pageResizeAction===t.pageFitAction},t.setFitAction=function(){t.preResizeObj=v.Page.RESIZE_OBJ,t.prePageAction=t.pageResizeAction,v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageFit,percent:0},t.pageResizeAction=t.pageFitAction},t.getRotateMap=function(){return t.rotateMap},t.isThumbnailOn=function(){return g.Thumbnail.THUMB_STATUS===g.THUMB_FLAG.on},t._innerResizeWindow=function(){u(".contents-page").removeAttr("style"),v.Page.ORIGIN_MARGIN={marginTop:parseInt(u(".contents-page").css("margin-top")),marginBottom:parseInt(u(".contents-page").css("margin-bottom"))},t.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,t.rotateMap)},t.doubleTap=function(){return s(t,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return l.Browser.instance.isIOS&&c.Util.isFullScreen()&&v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageFit&&document.body.clientWidth/window.innerWidth*100!=100?[2]:(v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageFit?(v.Page.RESIZE_OBJ.type=v.RESIZE_TYPE.PageWidthFit,this.pageResizeAction=this.pageWidthFitAction):(v.Page.RESIZE_OBJ.type=v.RESIZE_TYPE.PageFit,this.pageResizeAction=this.pageFitAction),l.Browser.instance.isIOS?(e=this.docInfo.currentPage,u("#contents-area").css("visibility","hidden"),u("#wrap__index").css("visibility","hidden"),u("#page__input").css("color","#333333"),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop("0")),[4,this.syncTimer((function(){return t.pageResizeAction.resizePage(0,t.rotateMap)}),200)]):[3,3]);case 1:return n.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){u("#contents-area").css("visibility",""),u("#wrap__index").css("visibility",""),u("#page__input").css("color","")}),100)];case 2:return n.sent(),this.checkResizeControlBar(),this.lastTop=null,[3,4];case 3:this.pageResizeAction.resizePage(0,this.rotateMap),this.checkResizeControlBar(),this.lastTop=null,n.label=4;case 4:return[2]}}))}))},t.fullscreenAfterEvent=function(){},t.eventBind=function(e){t.eventObserver=e,t.eventObserver.page.subscribe(t.focusPage),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.singleTap.subscribe(t.singleTap),t.eventObserver.doubleTap.subscribe(t.doubleTap),t.eventObserver.orientationchange.subscribe(t.orientationchange),t.eventObserver.moveBtn.subscribe(t.checkMoveControlbar),t.eventObserver.androidVirtualKeyboard.subscribe(t.androidVirtualKeyboard),t.scrollEventBind(),t.mouseEventBind()},t.setTabIndex=function(){for(var e=["page__input","info-btn","thumbnailview-btn","download-btn","backgroundcolor-btn","presentation-btn"],n=0;n<e.length;n++)document.getElementById(e[n]).tabIndex=n+1;document.getElementById("fullscreen-close").tabIndex=6;for(n=0;n<t.docInfo.status.pageNum;n++)document.getElementById("page-area"+n).tabIndex=10},t.setCustomConfig=function(){if(!l.Browser.instance.isMobile)switch(window.localSynap.config.loadingPageFitType){case 1:v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageWidthFit,percent:0},t.pageResizeAction=t.pageWidthFitAction;break;case 2:v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageZoom,percent:100},t.pageResizeAction=t.pageZoomAction;break;case 0:default:v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageFit,percent:0},t.pageResizeAction=t.pageFitAction}},t.load=function(e,n){return s(t,void 0,void 0,(function(){var t,i,o,r,s,d,h,p,f,g=this;return a(this,(function(a){switch(a.label){case 0:return this.docInfo=e,this.pageResizeAction=this.pageFitAction,l.Browser.instance.isIOS&&(u("#wrap").addClass("wrap--ios"),u("#container").addClass("wrap__container--ios"),u("#contents").addClass("wrap__contents--ios"),u("#thumbnail").addClass("wrap__thumbnail--ios"),u("#footer").addClass("wrap__footer--ios")),this.bindControlbarEvent(),this.setCustomConfig(),l.Browser.instance.isMobile||!c.Util.isConvImg(this.docInfo)||"image"!=this.docInfo.skinType?[3,2]:(t=100!==this.curZoomFactor?this.curZoomFactor/100:1,i=l.Browser.instance.isIOS&&c.Util.isFullScreen()?window.innerHeight:u("#contents").height(),o=u("#contents").width(),r=[o,i],[4,this.getDimensionImg(e,0,1,this.dpi)]);case 1:s=a.sent(),d=this.pageResizeAction.getResizeResult(!1,s[0].width,s[0].height,r),h=d[0],p=d[1],h=(f=[h*t,p*t])[0],p=f[1],"tiff"!==this.docInfo.fileType&&s[0].width<h&&s[0].height<p&&(v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageZoom,percent:100},this.pageResizeAction=this.pageZoomAction),a.label=2;case 2:return[4,this.createContentDiv(this.docInfo)];case 3:return a.sent(),this.setTabIndex(),this.eventBind(n),this.eventObserver.resizeContents.notify(),this.docInfo.status.pageNum>this.initPageNum&&setTimeout((function(){g.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,g.rotateMap,g.initPageNum,g.docInfo.status.pageNum-g.initPageNum)}),30),[2]}}))}))},t.setDefaultLadingCnt(5),t}return r(t,e),t}(v.Page);t.ImagePage=b}).call(this,n(3),n(102))},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(6),s=n(9),a=n(1),l=function(){var e=this;this.rotateSize=[0,0],this.noneRotateSize=[0,0],this.scrollContentAreaEl=a.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,l,c){var u,d,h;void 0===l&&(l=0),void 0===c&&(c=0);var p=a.Browser.instance.isMobile||100===s.DetectZoom.getRatio()?1:s.DetectZoom.getRatio()/100,f=i("#page-area0").height(),g=e.scrollContentAreaEl.scrollTop(),m=i(".contents-page").length,v=0===c||c>m?m:l+c,b=i("#contents").width(),w=0;w=a.Browser.instance.isIOS&&o.Util.isFullScreen()?window.innerHeight:document.getElementById("contents").offsetHeight,o.Util.isFullScreen()&&(r.Page.isOutFullscreen=!0),e.rotateSize=[w,b],e.noneRotateSize=[b,w];for(var _=l;_<v;++_){var E=n.get(_),y=void 0,I=void 0;if(void 0===E)y=(u=e.getResizeResult(!1,r.Page.ORIGIN_SIZE[_].width,r.Page.ORIGIN_SIZE[_].height))[0],I=u[1];else if(E%180!=0){y=(d=e.getResizeResult(!0,r.Page.ORIGIN_SIZE[_].width,r.Page.ORIGIN_SIZE[_].height))[0];var T=(w-(I=d[1]))*p/2;i("#page"+_).css({"margin-top":T,"margin-bottom":T})}else y=(h=e.getResizeResult(!1,r.Page.ORIGIN_SIZE[_].width,r.Page.ORIGIN_SIZE[_].height))[0],I=h[1];if(o.Util.isFullScreen())if(1===p){var S=(w-I*p)/2;void 0===E||E%180==0?i("#page"+_).css({"margin-top":S,"margin-bottom":S}):i("#page"+_).css("margin",S+"px auto")}else void 0!==E&&E%180!=0||i("#page"+_).css({"margin-top":"","margin-bottom":""});else r.Page.isOutFullscreen&&(void 0!==E&&E%180!=0||i("#page"+_).css({"margin-top":"","margin-bottom":""}));i("#page"+_).css({width:y*p,height:I*p}),r.Page.CURRENT_SIZE[_]={width:y*p,height:I*p}}r.Page.isOutFullscreen=o.Util.isFullScreen(),e.setPageMargin(p),!a.Browser.instance.isIOS&&e.scrollContentAreaEl.scrollTop(g*(i("#page-area0").height()/f))},this.getResizeResult=function(t,n,i,o){var r;void 0===o&&(o=null);var s=t?e.rotateSize:null===o?e.noneRotateSize:o,a=s[0],l=s[1],c=a/n,u=l/i;return[n*(r=l<a&&n*u<a||l>a&&i*c>l?u:c),i*r]},this.setPageMargin=function(e){var t=i("#page-area0").height()/r.Page.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",r.Page.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",r.Page.ORIGIN_MARGIN.marginBottom*t)}};t.PageFit=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(6),s=n(9),a=n(1),l=function(){var e=this;this.contentAreaWidth=0,this.scrollContentAreaEl=a.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,l,c){void 0===l&&(l=0),void 0===c&&(c=0);var u=a.Browser.instance.isMobile||100===s.DetectZoom.getRatio()?1:s.DetectZoom.getRatio()/100,d=i("#page-area0").height(),h=e.scrollContentAreaEl.scrollTop(),p=i(".contents-page").length,f=0===c||c>p?p:l+c;e.contentAreaWidth=i("#contents").width();for(var g=l;g<f;++g){var m=n.get(g),v=e.getResizeResult(!1,r.Page.ORIGIN_SIZE[g].width,r.Page.ORIGIN_SIZE[g].height),b=v[0],w=v[1];if(m&&m%180!=0){var _=(b-w)*u/2;if(e.contentAreaWidth<w){var E=(w-e.contentAreaWidth)*u/2;i("#page"+g).css("margin",_+"px "+E+"px")}else i("#page"+g).css("margin",_+"px auto")}r.Page.isOutFullscreen&&(void 0!==m&&m%180!=0||i("#page"+g).css({"margin-top":"","margin-bottom":""})),i("#page"+g).css({width:b*u,height:w*u}),r.Page.CURRENT_SIZE[g]={width:b*u,height:w*u}}r.Page.isOutFullscreen=o.Util.isFullScreen(),e.setPageMargin(u),!a.Browser.instance.isIOS&&e.scrollContentAreaEl.scrollTop(h*(i("#page-area0").height()/d))},this.getResizeResult=function(t,n,i){var o=e.contentAreaWidth/n;return[n*o,i*o]},this.setPageMargin=function(e){o.Util.isFullScreen()&&i(".contents-page__img").css({"margin-top":"","margin-bottom":""});var t=i("#page-area0").height()/r.Page.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",r.Page.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",r.Page.ORIGIN_MARGIN.marginBottom*t)}};t.PageWidthFit=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(6),r=n(9),s=n(1),a=function(){var e=this;this.scrollContentAreaEl=s.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,a,l){void 0===a&&(a=0),void 0===l&&(l=0);for(var c=s.Browser.instance.isMobile||100===r.DetectZoom.getRatio()?1:r.DetectZoom.getRatio()/100,u=i("#page-area0").height(),d=e.scrollContentAreaEl.scrollTop(),h=e.scrollContentAreaEl.scrollLeft(),p=i(".contents-page").length,f=0===l||l>p?p:a+l,g=a;g<f;++g){var m=n.get(g),v=t/100,b=[o.Page.ORIGIN_SIZE[g].width*v,o.Page.ORIGIN_SIZE[g].height*v],w=b[0],_=b[1];if(m&&m%180!=0){var E=(w-_)*c/2;if(i("#contents").width()<_){var y=(_-w)*c/2;i("#page"+g).css("margin",E+"px "+y+"px")}else i("#page"+g).css("margin",E+"px auto")}i("#page"+g).css({width:w*c,height:_*c}),o.Page.CURRENT_SIZE[g]={width:w*c,height:_*c}}e.setPageMargin(c);var I=i("#page-area0").height()/u;e.scrollContentAreaEl.scrollTop(d*I),e.scrollContentAreaEl.scrollLeft(h*I)},this.getResizeResult=function(e,t,n){},this.setPageMargin=function(e){var t=i("#page-area0").height()/o.Page.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",o.Page.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",o.Page.ORIGIN_MARGIN.marginBottom*t)}};t.PageZoom=a},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),l=n(1),c=n(2),u=n(45),d=n(14),h=n(0),p=n(20),f=n(71),g=n(31),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dpi=96,t.defaultCellWidth=1e3,t.defaultCellHeight=1e3,t.sheetWidth=null,t.sheetHeight=null,t.maxRow=null,t.maxCol=null,t.resizePercent=100,t.cellPageRE=/cellpage(\d+)_(\d+)/,t.maxBrowserTop=-1,t.transparentImg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.scrollContentAreaEl=l.Browser.instance.isIOS?h(document):h("#contents"),t.scrollSheetEventBind=function(){var e;t.scrollContentAreaEl.on("scroll",(function(){clearTimeout(e),e=setTimeout(t.scrollEvent,100),t.eventObserver.scroll.notify()}))},t.getTitle=function(e,n,i){return r(t,void 0,void 0,(function(){var t,o;return s(this,(function(r){switch(r.label){case 0:"",t=e+"/title/"+n+"/"+i,o=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.Util.ajaxCall(t,"GET")];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),c.Util.printConsoleLog("fail to call api - /title"),[3,4];case 4:return[2,o.replace(/^\s+|\s+$/g,"")]}}))}))},t.getDimension=function(e,n,i){return r(t,void 0,void 0,(function(){var t,o,r,a,l,u,d;return s(this,(function(s){switch(s.label){case 0:n=void 0!==n?n:0,i=void 0!==i?i:c.Util.normalDPI,t=e.contextPath+"/dimension/"+e.status.id+"/"+n+"?dpi="+i,r=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,c.Util.getJson(t)];case 2:if(r=s.sent(),a=r[0].w,l=r[0].h,0===a&&0===l)throw Error;return window.localSynap.config.sheetMinSize&&window.localSynap.config.sheetMinSize.length>1&&(u=window.localSynap.config.sheetMinSize[0],d=window.localSynap.config.sheetMinSize[1],u>a&&(a=u>1e5?1e5:u),d>l&&(l=d>1e5?1e5:d)),o={sheetWidth:a,sheetHeight:l},[3,4];case 3:return s.sent(),this.eventObserver.sheetFail.notify(),[2,!1];case 4:return[2,o]}}))}))},t.sheetAlertDialogShow=function(){c.Util.printConsoleLog("fail to call api - /dimension"),(new g.Dialog).sheetAlertDialog("msg_sheet_convFail")},t.scrollEvent=function(){t.addContentDiv(),t.resizeCell(t.resizePercent)},t.createContentDiv=function(e){t.sheetWidth=e.sheetWidth,t.sheetHeight=e.sheetHeight,t.maxCol=Math.ceil(t.sheetWidth/t.defaultCellWidth),t.maxRow=Math.ceil(t.sheetHeight/t.defaultCellHeight);var n=t.defaultCellHeight*(t.resizePercent/100),i=t.defaultCellHeight*(t.resizePercent/100),o='<div id="sheet" name="sheet"> <div id="cell-common" name="cell-common" class="cell-common" style="width:'+t.sheetWidth+"px;height:"+t.sheetHeight+'px;"></div></div>';document.getElementById("contents-area").innerHTML=o;var r=(t.maxRow-1)*n;if(t.maxBrowserTop<r&&-1!==t.maxBrowserTop){var s=t.maxBrowserTop/t.defaultCellHeight,a=t.maxCol-1,l=t.sheetCreateElement(s,a,t.maxBrowserTop,a*i,t.lastRowHeight,t.lastColWidth);h("#cell-common").append(l)}},t.addContentDiv=function(e){void 0===e&&(e=0);var n=document.getElementById("contents").offsetWidth,i=document.getElementById("contents").offsetHeight,o=t.defaultCellHeight*(t.resizePercent/100),r=t.defaultCellHeight*(t.resizePercent/100),s=2;e>0&&e<100&&(s=2*Math.ceil(100/e));var a=Math.ceil(t.scrollContentAreaEl.scrollTop()/o),l=(a=a>2?a-2:0)+Math.ceil(i/r);l=l+s>t.maxRow?t.maxRow:l+s;var c=Math.ceil(t.scrollContentAreaEl.scrollLeft()/o),u=(c=c>2?c-2:0)+Math.ceil(n/o);u=u+s>t.maxCol?t.maxCol:u+s;var d=h("#cell-common");t.lastColWidth=t.sheetWidth%t.defaultCellWidth==0?t.defaultCellWidth:t.sheetWidth%t.defaultCellWidth,t.lastRowHeight=t.sheetHeight%t.defaultCellHeight==0?t.defaultCellHeight:t.sheetHeight%t.defaultCellHeight;for(var p=document.createDocumentFragment(),f=a;f<l;++f)for(var g=c;g<u;++g)if(0===h("#cellpage"+f+"_"+g,d).length){var m=f*o,v=g*r,b=t.defaultCellWidth,w=t.defaultCellHeight;f===t.maxRow-1&&(w=t.lastRowHeight),g===t.maxCol-1&&(b=t.lastColWidth);var _=t.sheetCreateElement(f,g,m,v,b,w);p.appendChild(_)}document.getElementById("cell-common").appendChild(p)},t.sheetCreateElement=function(e,n,i,o,r,s){var a=document.createElement("div");a.id="cellpage"+e+"_"+n,a.className="cell__div",a.style.cssText="top:"+i+"px;left:"+o+"px;";var l=document.createElement("img");l.id="piece"+e+"_"+n,c.Util.isFullScreen()?l.className="cell__piece img-loading-black":l.className=p.Head.bgColorMode===p.BGCOLOR_MODE.darkScreen?"cell__piece img-loading":"cell__piece img-loading-bright",l.style.cssText="width:"+r+"px;height:"+s+"px",l.src=t.transparentImg;var u=document.getElementById("sheet"+t.docInfo.currentSheet).textContent;l.alt=u+" sheet image";var d={x:""+(n*t.defaultCellWidth+1),y:""+(e*t.defaultCellHeight+1),w:r,h:s},h=c.Util.getThumbPath(t.docInfo,t.docInfo.currentSheet,t.dpi,d);return l.onerror=function(){l.setAttribute("src",t.transparentImg),l.className+=" img-retry",l.onclick=function(){c.Util.isFullScreen()?l.className="cell__piece img-loading-black":l.className=p.Head.bgColorMode===p.BGCOLOR_MODE.darkScreen?"cell__piece img-loading":"cell__piece img-loading-bright",l.src=h}},l.src=h,a.appendChild(l),a},t._zoomCalculation=function(e,n){for(var i=t.resizePercent,o=document.getElementById("cell-common").getElementsByTagName("div")[0].id,r=0,s=e;r<s.length;r++){var a=s[r],l=t.cellPageRE.exec(o).slice(1,3).map((function(e){return parseInt(e,10)})),c=l[0],u=l[1],d=a/100*(u===t.maxCol-1?t.lastColWidth:t.defaultCellWidth),h=document.getElementById("piece"+c+"_"+u).clientWidth;if(n(d,h)&&!(Math.abs(d-h)<1)){i=a;break}}return i},t.zoomCell=function(e){var n=null;"zoomOut"===e?(n=t._zoomCalculation(u.Controlbar.ZOOM_LIST.slice().reverse(),(function(e,t){return e<t})),t.addContentDiv(n)):n=t._zoomCalculation(u.Controlbar.ZOOM_LIST,(function(e,t){return e>t})),n!==t.resizePercent&&t.resizeCell(n)},t.resizeCell=function(e){t.resizePercent=e;var n=e/100,i=t.defaultCellWidth*n,o=t.defaultCellHeight*n,r=t.lastColWidth*n,s=t.lastRowHeight*n,a=t.sheetWidth*n,l=t.sheetHeight*n,c=document.getElementById("contents").scrollTop,u=document.getElementById("contents").scrollLeft,d=h("#piece0_0").height();h("#cell-common").css({width:a,height:l});for(var p=document.getElementById("cell-common").children,f=0;f<p.length;f++){var g=p[f].id,m=t.cellPageRE.exec(g).slice(1,3).map((function(e){return parseInt(e,10)})),v=m[0],b=m[1],w=o*v;t.maxBrowserTop<w&&-1!==t.maxBrowserTop?h("#"+g).css({top:t.maxBrowserTop,left:i*b}):h("#"+g).css({top:w,left:i*b}),b===t.maxCol-1?h("#piece"+v+"_"+b).css("width",r):h("#piece"+v+"_"+b).css("width",i),v===t.maxRow-1?h("#piece"+v+"_"+b).css("height",s):h("#piece"+v+"_"+b).css("height",o)}var _=h("#piece0_0").height();if(d!==_){var E=_/d;t.scrollContentAreaEl.scrollTop(c*E),t.scrollContentAreaEl.scrollLeft(u*E),t.checkResizeControlBar()}},t.loadSheet=function(e){return r(t,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return this.docInfo.currentSheet=e,this.resizePercent=100,h("#contents-area").empty(),(new g.Dialog).removeSheetDialog(),[4,this.getDimension(this.docInfo,e,this.dpi.toString())];case 1:return(t=n.sent())?(this.createContentDiv(t),this.addContentDiv(),l.Browser.instance.isMobile&&(this.resizePercent=50,this.resizeCell(this.resizePercent)),this.checkMoveControlbar(),this.checkResizeControlBar(),document.getElementById("contents-area").focus(),[2]):[2]}}))}))},t.checkResizeControlBar=function(){t.resizePercent===u.Controlbar.ZOOM_LIST[0]?(h("#cell-zoomout").removeClass("controlbar--enable"),h("#cell-zoomout").removeClass("controlbar-zoomout--hover"),h("#cell-zoomout").prop("disabled",!0)):(h("#cell-zoomout").addClass("controlbar--enable"),h("#cell-zoomout").prop("disabled",!1)),t.resizePercent===u.Controlbar.ZOOM_LIST[u.Controlbar.ZOOM_LIST.length-1]?(h("#cell-zoomin").removeClass("controlbar--enable"),h("#cell-zoomin").removeClass("controlbar-zoomin--hover"),h("#cell-zoomin").prop("disabled",!0)):(h("#cell-zoomin").addClass("controlbar--enable"),h("#cell-zoomin").prop("disabled",!1))},t.bindControlbarEvent=function(){c.Util.bindClickOrTouchEvent(h("#cell-first"),"controlbar-first--hover",(function(){t.eventObserver.sheet.notify(0)})),c.Util.bindClickOrTouchEvent(h("#cell-end"),"controlbar-end--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.status.pageNum-1)})),c.Util.bindClickOrTouchEvent(h("#cell-prev"),"controlbar-prev--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet-1)})),c.Util.bindClickOrTouchEvent(h("#cell-next"),"controlbar-next--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet+1)})),c.Util.bindClickOrTouchEvent(h("#cell-zoomout"),"controlbar-zoomout--hover",(function(){t.zoomCell("zoomOut")})),c.Util.bindClickOrTouchEvent(h("#cell-zoomin"),"controlbar-zoomin--hover",(function(){t.zoomCell("zoomIn")}))},t.resizeWindow=function(){h("#contents").removeAttr("style"),c.Util.isMobileMode(t.docInfo.status.convertType)&&(h("#tablist-popup").hide(),c.Util.isFullScreen()||t.eventObserver.mobileHeader.notify(d.ShowActionType.HIDE3SEC)),c.Util.isFullScreen()||c.Util.isFullScreen()||(t.sheetTabResize(),a.DetectZoom.getRatio()<100&&t.addContentDiv())},t.singleTap=function(){t.toggleMobileHeader()},t.mouseEventBind=function(){h("#contents").on("click",(function(){l.Browser.instance.isMobile||t.toggleMobileHeader()}))},t.eventObserverBind=function(e){t.eventObserver=e,t.eventObserver.sheet.subscribe(t.moveSheet),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.singleTap.subscribe(t.singleTap),t.eventObserver.sheetFail.subscribe(t.sheetAlertDialogShow)},t.eventBind=function(){t.scrollSheetEventBind(),t.mouseEventBind()},t.setMaxBrowserTop=function(){var e=l.Browser.instance;e.isMobile||(e.isIE||e.isEdge?t.maxBrowserTop=1535e3:e.isFirefox&&(t.maxBrowserTop=17895e3))},t.setTabIndex=function(){for(var e=["info-btn","download-btn","backgroundcolor-btn","presentation-btn","contents-area","tabmore"],n=0;n<e.length;n++)document.getElementById(e[n]).tabIndex=n+1;document.getElementById("fullscreen-close").tabIndex=4;for(n=0;n<t.maxPage;n++)document.getElementById("sheet"+n).tabIndex=7},t.load=function(e,n){return r(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.docInfo=e,this.maxPage=this.docInfo.status.pageNum,h("#wrap").addClass("wrap--cell"),l.Browser.instance.isIOS&&(h("#wrap").addClass("wrap--ios"),h("#container").addClass("wrap__container--ios"),h("#contents").addClass("wrap__contents--ios"),h("#footer").addClass("wrap__footer--ios")),h("#header-title").addClass("wrap__title--cell"),h("#contents-area").addClass("wrap__contents-area"),this.setMaxBrowserTop(),this.bindControlbarEvent(),this.eventObserverBind(n),[4,this.loadSheetTab(this.docInfo.currentSheet)];case 1:return t.sent(),[4,this.loadSheet(this.docInfo.currentSheet)];case 2:return t.sent(),this.setTabIndex(),this.eventBind(),document.getElementById("contents-area").focus(),[2]}}))}))},t}return o(t,e),t}(f.Sheet);t.ImageSheet=m}).call(this,n(3))},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n(2),c=n(14),u=n(0),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSheet=function(e){return t.docInfo.status.sheetList[e]},t.getTitle=function(e,n,i){return r(t,void 0,void 0,(function(){return s(this,(function(e){return[2,this.getSheet(i).title]}))}))},t.loadSheet=function(e){return r(t,void 0,void 0,(function(){var t;return s(this,(function(n){return this.docInfo.currentSheet=e,t=this.docInfo.resultPath+"/"+this.getSheet(e).path,u(".wrap__innerWrap").get(0).setAttribute("src",t),this.checkMoveControlbar(),document.getElementById("contents-area").focus(),[2]}))}))},t.bindControlbarEvent=function(){l.Util.bindClickOrTouchEvent(u("#cell-first"),"controlbar-first--hover",(function(){t.eventObserver.sheet.notify(0)})),l.Util.bindClickOrTouchEvent(u("#cell-end"),"controlbar-end--hover",(function(){t.eventObserver.sheet.notify(t.maxPage-1)})),l.Util.bindClickOrTouchEvent(u("#cell-prev"),"controlbar-prev--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet-1)})),l.Util.bindClickOrTouchEvent(u("#cell-next"),"controlbar-next--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet+1)}))},t.resizeWindow=function(){u("#contents").removeAttr("style"),l.Util.isMobileMode(t.docInfo.status.convertType)&&(u("#tablist-popup").hide(),l.Util.isFullScreen()||t.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE3SEC)),l.Util.isFullScreen()||l.Util.isFullScreen()||t.sheetTabResize()},t.mouseEventBind=function(){u("#contents-area").on("click",(function(){a.Browser.instance.isMobile||t.toggleMobileHeader()})),u("#innerWrap").on("load",(function(){var e=document.getElementById("contents-area"),t=document.getElementById("innerWrap");t.contentDocument.addEventListener("mousemove",l.Util.getMouseHandlerDispatch(e)),t.contentDocument.addEventListener("click",l.Util.getMouseHandlerDispatch(e)),t.contentDocument.addEventListener("touchstart",l.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchmove",l.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchend",l.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("keydown",l.Util.getKeybordHandlerDispatch(e)),t.contentDocument.addEventListener("keyup",l.Util.getKeybordHandlerDispatch(e))}))},t.singleTap=function(){t.toggleMobileHeader()},t.iosSheetTabEventBind=function(){a.Browser.instance.isIOS&&u("#header-tablist__input, #cell-select-arrow").on("click",(function(){var e=document.createElement("div");e.id="dimmed",e.style.width="100%",e.style.height="100%",e.style.position="fixed",e.style.zIndex="30",e.addEventListener("click",(function(){document.getElementById("dimmed").remove()})),document.getElementById("header-tablist__select").addEventListener("change",(function(){document.getElementById("dimmed").remove()})),document.getElementsByTagName("body")[0].appendChild(e)}))},t.eventBind=function(e){t.eventObserver=e,t.eventObserver.sheet.subscribe(t.moveSheet),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.singleTap.subscribe(t.singleTap),t.mouseEventBind(),t.iosSheetTabEventBind()},t.getDimensionHtml=function(){return r(t,void 0,void 0,(function(){var e,t,n,i;return s(this,(function(o){switch(o.label){case 0:return e=this.docInfo.resultPath+"/"+this.docInfo.status.fileName+".xml",t=[],[4,l.Util.getXml(e)];case 1:return n=o.sent(),1===parseInt(n.index.sheet_cnt)?(t[0]=[],t[0].id=parseInt(n.index.sheet_list.sheet.id),t[0].title=n.index.sheet_list.sheet.title,t[0].path=n.index.sheet_list.sheet.path_xhtml):(i=0,u.each(n.index.sheet_list.sheet,(function(e,n){if(n.title){var o={id:parseInt(n.id),title:n.title,path:n.path_xhtml};t[i]=o,i++}}))),[2,t]}}))}))},t.setTabIndex=function(){for(var e=["info-btn","download-btn","presentation-btn","tabmore"],n=0;n<e.length;n++)document.getElementById(e[n]).tabIndex=n+1;document.getElementById("fullscreen-close").tabIndex=3;for(n=0;n<t.maxPage;n++)document.getElementById("sheet"+n).tabIndex=5},t.load=function(e,n){return r(t,void 0,void 0,(function(){var t,i,o;return s(this,(function(r){switch(r.label){case 0:return this.docInfo=e,t=this.docInfo.status,i="sheetList",[4,this.getDimensionHtml()];case 1:return t[i]=r.sent(),this.maxPage=this.docInfo.status.pageNum=this.docInfo.status.sheetList.length,u("#wrap").addClass("wrap--cell"),a.Browser.instance.isIOS&&(u("#wrap").addClass("wrap--ios"),u("#container").addClass("wrap__container--ios"),u("#contents").addClass("wrap__contents--ios"),u("#footer").addClass("wrap__footer--ios")),u("#header-title").addClass("wrap__title--cell"),u("#contents-area").addClass("wrap__contents-area"),this.bindControlbarEvent(),o=this.createIframe(),document.getElementById("contents-area").appendChild(o),[4,this.loadSheetTab(this.docInfo.currentSheet)];case 2:return r.sent(),[4,this.loadSheet(this.docInfo.currentSheet)];case 3:return r.sent(),this.setTabIndex(),this.eventBind(n),[2]}}))}))},t.createIframe=function(){var e=document.createElement("iframe");return e.id="innerWrap",e.className="wrap__innerWrap",e.title="content",e.style.backgroundColor="#ffffff",e},t}return o(t,e),t}(n(71).Sheet);t.HtmlSheet=d}).call(this,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(116),o=n(117),r=n(0),s=n(2),a=n(9),l=n(6),c=n(72),u=n(1),d=n(73),h=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.maxPage=null,this.scrollContentAreaEl=u.Browser.instance.isIOS?r(document):r("#contents"),this.isSupport=!1,this.isPage=!0,this.isSheet=!1,this.supportFullscreen=new o.SupportFullscreen,this.notSupportFullscreen=new i.NotSupportFullscreen,this.fullScreenChangeEvent=function(){["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach((function(t){return document.addEventListener(t,(function(){if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){var t=e.isSupport;e.isSupport=!1,e.fullScreenCloseBtnEvent(),e.isSupport=t}}),!1)}))},this.isFullScreenSupport=function(){return!(s.Util.isHtmlSkin(e.docInfo)&&u.Browser.instance.isMobile)},this.fullScreenBtnEvent=function(t){r(".fullscreen-close").show();var n=u.Browser.instance;n.isMobile&&e.isPage||s.Util.isHtmlWordSkin(e.docInfo)||(r(".fullscreen-move").show(),e.pageScrollEventBind(),e.checkFullscreenMoveBtn()),e.isFullScreenSupport()&&"keydown"===t.type&&n.isIE&&11===n.version&&(e.isSupport=!1),e.isPage&&!s.Util.isHtmlWordSkin(e.docInfo)&&(!n.isMobile&&e.pageMouseEventBind(),e.presentationActions===e.notSupportFullscreen&&e.changePageDocScrollStyle(),n.isIOS&&e.iosMobileEventBind()),e.presentationActions.fullscreenON(e.docInfo.skinType,e.isSupport);var i=e.scrollContentAreaEl.scrollTop(),o=e.scrollContentAreaEl.scrollLeft();"cell"===e.docInfo.skinType&&(document.getElementById("contents-area").focus(),e.scrollContentAreaEl.scrollTop(i),e.scrollContentAreaEl.scrollLeft(o))},this.fullScreenCloseBtnEvent=function(){r(".fullscreen-close").removeAttr("style");var t=u.Browser.instance;t.isMobile&&e.isPage||(r(".fullscreen-move").removeAttr("style"),e.pageScrollEventUnbind()),!t.isIOS&&r("#contents").css({"overflow-x":"","overflow-y":"","-ms-overflow-x":"","-ms-overflow-y":""}),e.isPage&&(!t.isMobile&&e.pageMouseEventUnbind(),t.isIOS&&e.iosMobileEventUnbind());var n=e.scrollContentAreaEl.scrollTop(),i=e.scrollContentAreaEl.scrollLeft();e.presentationActions.fullscreenOFF(e.docInfo.skinType,e.isSupport),"cell"===e.docInfo.skinType&&(document.getElementById("contents-area").focus(),e.scrollContentAreaEl.scrollTop(n),e.scrollContentAreaEl.scrollLeft(i))},this.fullScreenEventBind=function(){r("#presentation-btn").on(s.Util.getClickEventName(),(function(t){e.fullScreenBtnEvent(t)})),e.fullScreenChangeEvent(),r("#fullscreen").on(s.Util.getClickEventName(),(function(t){e.fullScreenBtnEvent(t)})),r(".fullscreen-close").on(s.Util.getClickEventName(),(function(){e.fullScreenCloseBtnEvent()})),e.isActiveFullscreenMoveBtn()&&(s.Util.bindClickOrTouchEvent(r("#fullscreen-prev"),"fullscreen-prev--hover",(function(){if("cell"===e.docInfo.skinType)e.eventObserver.sheet.notify(e.docInfo.currentSheet-1);else{if(0===e.docInfo.currentPage)return;e.eventObserver.page.notify({pageNum:e.docInfo.currentPage-1,isScroll:!1})}e.checkFullscreenMoveBtn()})),s.Util.bindClickOrTouchEvent(r("#fullscreen-next"),"fullscreen-next--hover",(function(){if("cell"===e.docInfo.skinType)e.eventObserver.sheet.notify(e.docInfo.currentSheet+1);else{if(e.docInfo.currentPage===e.docInfo.status.pageNum-1)return;e.eventObserver.page.notify({pageNum:e.docInfo.currentPage+1,isScroll:!1})}e.checkFullscreenMoveBtn()}))),r(window).on("keydown",(function(t){return e.fullScreenKeyDownEvent(t.originalEvent)}))},this.fullScreenKeyDownEvent=function(t){t.keyCode===d.keyMap.F11&&(t.preventDefault(),t.stopPropagation(),s.Util.isFullScreen()?e.fullScreenCloseBtnEvent():e.fullScreenBtnEvent(t)),t.keyCode===d.keyMap.ESC&&s.Util.isFullScreen()&&(t.preventDefault(),t.stopPropagation(),e.fullScreenCloseBtnEvent())},this.checkFullscreenMoveBtn=function(){var t=r("#fullscreen-prev");("cell"===e.docInfo.skinType?0===e.docInfo.currentSheet:0===e.docInfo.currentPage)?(t.removeClass("fullscreen-prev--enable"),t.removeClass("fullscreen-prev--hover"),t.prop("disabled",!0)):(t.addClass("fullscreen-prev--enable"),t.prop("disabled",!1));var n=r("#fullscreen-next");("cell"===e.docInfo.skinType?e.docInfo.currentSheet===e.docInfo.status.pageNum-1:e.docInfo.currentPage===e.docInfo.status.pageNum-1)?(n.removeClass("fullscreen-next--enable"),n.removeClass("fullscreen-next--hover"),n.prop("disabled",!0)):(n.addClass("fullscreen-next--enable"),n.prop("disabled",!1))},this.isActiveFullscreenMoveBtn=function(){return!(u.Browser.instance.isMobile&&"cell"!==e.docInfo.skinType||s.Util.isHtmlWordSkin(e.docInfo)||s.Util.useSingle(e.docInfo))},this.pageMouseEventBind=function(){document.oncontextmenu=function(){return!1};var t=r("#contents-area");t.on("mousedown.fullscreen",(function(t){if(s.Util.isHtmlSlideSkin(e.docInfo)||!a.DetectZoom||100===a.DetectZoom.getRatio()){var n=-1;if(t&&t instanceof Object&&void 0!==t.button?n=t.button:window.event&&void 0!==window.event.button&&(n=window.event.button),0===n||2===n){var i=-1;switch(n){case 0:i=e.docInfo.currentPage+1;break;case 2:i=e.docInfo.currentPage-1}e.movePage(i)}}})),s.Util.isHtmlSlideSkin(e.docInfo)||t.on("wheel.fullscreen",(function(t){if(!a.DetectZoom||100===a.DetectZoom.getRatio()){var n=-1;n=t.originalEvent.deltaY<0?e.docInfo.currentPage-1:e.docInfo.currentPage+1,e.movePage(n)}}))},this.pageMouseEventUnbind=function(){!0===window.localSynap.config.allowCopy&&(document.oncontextmenu=function(){return!0});var e=r("#contents-area");e.off("mousedown.fullscreen"),e.off("wheel.fullscreen"),e.off("scroll.fullscreen")},this.pageScrollEventBind=function(){var t;"cell"!==e.docInfo.skinType&&e.scrollContentAreaEl.on("scroll.fullscreen",(function(){s.Util.isFullScreen()&&(clearTimeout(t),t=setTimeout(e.checkFullscreenMoveBtn,80))}))},this.pageScrollEventUnbind=function(){e.scrollContentAreaEl.off("scroll.fullscreen")},this.movePage=function(t){isNaN(t)||t<0||t>e.maxPage-1||e.eventObserver.page.notify({pageNum:t,isScroll:!1})},this.resizeWindow=function(){((document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled)&&!u.Browser.instance.isEdge?document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement:s.Util.isFullScreen())&&e.changePageDocScrollStyle()},this.changePageDocScrollStyle=function(){if("cell"!==e.docInfo.skinType&&!s.Util.isHtmlWordSkin(e.docInfo))return!u.Browser.instance.isMobile&&(void 0===a.DetectZoom||100===a.DetectZoom.getRatio())||u.Browser.instance.isMobile&&l.Page.RESIZE_OBJ.type===l.RESIZE_TYPE.PageFit?(!u.Browser.instance.isIOS&&r("#contents").css({"overflow-y":"hidden","overflow-x":"auto"}),void e.movePage(e.docInfo.currentPage)):void(u.Browser.instance.isIOS||!u.Browser.instance.isMobile&&s.Util.isHtmlSlideSkin(e.docInfo)||(r("#contents").css({"overflow-y":"auto","overflow-x":"auto"}),r(".contents-page > img").css("overflow-x","scroll")))},this.doubleTap=function(){s.Util.isFullScreen()&&"cell"!==e.docInfo.skinType&&(u.Browser.instance.isIOS||l.Page.RESIZE_OBJ.type!==l.RESIZE_TYPE.PageFit||e.scrollContentAreaEl.scrollTop(document.getElementById("page-area"+e.docInfo.currentPage).offsetTop),e.changePageDocScrollStyle())},this.swipe=function(t){switch(t){case c.SWIPE_DIRECTION.LEFT:case c.SWIPE_DIRECTION.UP:e.movePage(e.docInfo.currentPage+1);break;case c.SWIPE_DIRECTION.RIGHT:case c.SWIPE_DIRECTION.DOWN:e.movePage(e.docInfo.currentPage-1)}if(!u.Browser.instance.isiPad&&u.Browser.instance.getIOSVersion()>=11){document.getElementById("fullscreen-close").style.top="";var n=r("#fullscreen-close").position().top;n<0&&(document.getElementById("fullscreen-close").style.top=Math.abs(n)+"px")}},this.fullscreenSingleTap=function(){"cell"===e.docInfo.skinType?(e.eventObserver.sheet.notify(e.docInfo.currentSheet+1),e.checkFullscreenMoveBtn()):e.movePage(e.docInfo.currentPage+1)},this.iosMobileEventBind=function(){document.documentElement.addEventListener("touchmove",e.iosTouchMoveEvent,e.iosTouchEventOptions)},this.iosMobileEventUnbind=function(){document.documentElement.removeEventListener("touchmove",e.iosTouchMoveEvent,e.iosTouchEventOptions)},this.iosTouchEventOptions={passive:!1},this.iosTouchMoveEvent=function(e){l.Page.RESIZE_OBJ.type===l.RESIZE_TYPE.PageFit&&e.preventDefault()},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.resizeWindow.subscribe(e.resizeWindow),e.eventObserver.doubleTap.subscribe(e.doubleTap),e.eventObserver.swipe.subscribe(e.swipe),e.eventObserver.fullscreenSingleTap.subscribe(e.fullscreenSingleTap),e.eventObserver.moveBtn.subscribe(e.checkFullscreenMoveBtn),e.fullScreenEventBind(),e.presentationActions.eventBind(e.eventObserver)},this.load=function(t,n){e.docInfo=t,e.maxPage=e.docInfo.status.pageNum;var i=u.Browser.instance;(i.isChrome||i.isFirefox||i.isSafari||i.isAndroid||i.isIE&&11===i.version)&&e.isFullScreenSupport()?(e.isSupport=!0,e.presentationActions=e.supportFullscreen):e.presentationActions=e.notSupportFullscreen,"cell"===e.docInfo.skinType&&(e.isPage=!1,e.isSheet=!0),e.eventBind(n)}};t.Presentation=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this;this.eventObserver=null,this.eventBind=function(t){e.eventObserver=t},this.fullscreenON=function(t,n){void 0===n&&(n=!1),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!0,isSupport:n})}),100)},this.fullscreenOFF=function(t,n){void 0===n&&(n=!1),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!1,isSupport:n})}),100)}};t.NotSupportFullscreen=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){var e=this;this.eventObserver=null,this.eventBind=function(t){e.eventObserver=t},this.fullscreenON=function(t,n){void 0===n&&(n=!0);var o=i("#container")[0],r=o.requestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullScreen||o.msRequestFullscreen;r&&r.call(o),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!0,isSupport:n})}),100)},this.fullscreenOFF=function(t,n){void 0===n&&(n=!0);var i=top.document,o=i.exitFullscreen||i.mozCancelFullScreen||i.webkitExitFullscreen||i.msExitFullscreen,r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;o&&r&&o.call(i),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!1,isSupport:n})}),100)}};t.SupportFullscreen=o},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(2),a=n(14),l=n(0),c=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.createIframe=function(){var t=document.createElement("iframe");t.id="innerWrap",t.className="wrap__innerWrap",t.title="content";var n=s.Util.useSingle(e.docInfo)?e.docInfo.resultPath+"/"+e.docInfo.status.fileName+".xhtml":e.docInfo.resultPath+"/"+e.docInfo.status.fileName+".view.xhtml";return t.src=r.Browser.instance.isIE9Lower()?encodeURI(n):n,t},this.load=function(t,n){e.docInfo=t,r.Browser.instance.isIOS&&(l("#wrap").addClass("wrap--ios"),l("#container").addClass("wrap__container--ios"),l("#contents").addClass("wrap__contents--ios"));var i=e.createIframe();document.getElementById("contents-area").appendChild(i),e.setTabIndex(),e.eventBind(n)},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.fullScreen.subscribe(e.fullScreen),e.eventObserver.singleTap.subscribe(e.singleTap),e.mouseEventBind()},this.toggleMobileHeader=function(){s.Util.isMobileMode(e.docInfo.status.convertType)&&!s.Util.isFullScreen()&&("none"===l(".wrap__header").css("display")?e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC):e.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE))},this.mouseEventBind=function(){l("#contents-area").on("click",(function(){r.Browser.instance.isMobile||e.toggleMobileHeader()})),l("#innerWrap").on("load",(function(){var e=document.getElementById("contents-area"),t=document.getElementById("innerWrap");t.contentDocument.addEventListener("touchstart",s.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchmove",s.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchend",s.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("click",s.Util.getMouseHandlerDispatch(e)),t.contentDocument.addEventListener("keydown",s.Util.getKeybordHandlerDispatch(e)),t.contentDocument.addEventListener("keyup",s.Util.getKeybordHandlerDispatch(e))}))},this.fullScreen=function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){return t.isFullScreen?(l(".wrap__innerWrap").css("background-color","#000000"),l("#container").addClass("wrap__container--presentation"),t.isSupport||l(".wrap__header").addClass("wrap__header--presentation")):(l(".wrap__innerWrap").css("background-color",""),l("#container").removeClass("wrap__container--presentation"),t.isSupport||l(".wrap__header").removeClass("wrap__header--presentation")),[2]}))}))},this.singleTap=function(){e.toggleMobileHeader()},this.setTabIndex=function(){for(var e=["page__input","info-btn","download-btn","backgroundcolor-btn","presentation-btn"],t=0;t<e.length;t++)document.getElementById(e[t]).tabIndex=t+1;document.getElementById("fullscreen-close").tabIndex=5,document.querySelector(".wrap__innerWrap").tabIndex=10}};t.Word=c}).call(this,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(46),s=n(1),a=function(){var e=this;this.noneRotateSize=[0,0],this.scrollContentAreaEl=s.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,a,l){var c;void 0===a&&(a=0),void 0===l&&(l=0);var u=i("#page-area0").height(),d=e.scrollContentAreaEl.scrollTop(),h=i(".contents-page").length,p=0===l||l>h?h:a+l,f=0;f=s.Browser.instance.isIOS&&o.Util.isFullScreen()?window.innerHeight:document.getElementById("contents").offsetHeight;var g=i("#contents").width();e.noneRotateSize=[g,f];for(var m=a;m<p;++m){var v,b;if(v=(c=e.getResizeResult(!1,r.Slide.ORIGIN_SIZE[m].width,r.Slide.ORIGIN_SIZE[m].height))[0],b=c[1],o.Util.isFullScreen()){var w=0;w=(f-b)/2,i("#page"+m).css({"margin-top":w,"margin-bottom":w}),i("#page-alpha"+m).css({"margin-top":w,"margin-bottom":w})}else i("#page-alpha"+m).css({"margin-top":0,"margin-bottom":0});i("#page"+m).css({width:1*v,height:1*b}),i("#page-alpha"+m).css({width:1*v,height:1*b}),r.Slide.CURRENT_SIZE[m]={width:1*v,height:1*b}}e.setPageMargin(1),!s.Browser.instance.isIOS&&e.scrollContentAreaEl.scrollTop(d*(i("#page-area0").height()/u))},this._getRatio=function(t,n){var i=e.noneRotateSize,o=i[0],r=i[1],s=o/t,a=r/n;return r<o&&t*a<o||r>o&&n*s>r?a:s},this.getResizeResult=function(t,n,i,o){void 0===o&&(o=null);var r=e._getRatio(n,i);return[n*r,i*r]},this.setPageMargin=function(e){var t=i("#page-area0").height()/r.Slide.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",r.Slide.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",r.Slide.ORIGIN_MARGIN.marginBottom*t),i(".thumb-slide-alpha").css("left",i("#page0").offset().left)}};t.SlidePageScrollFit=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(46),s=n(1),a=function(){var e=this;this.noneRotateSize=[0,0],this.scrollContentAreaEl=s.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,a,l){void 0===a&&(a=0),void 0===l&&(l=0),i("#contents").css("overflow","hidden"),i("#contents-area").css("overflow","hidden");var c=0;c=s.Browser.instance.isIOS&&o.Util.isFullScreen()?window.innerHeight:document.getElementById("contents").offsetHeight;var u=i("#contents").width();e.noneRotateSize=[u,c];var d=a,h=r.Slide.ORIGIN_SIZE[d].width,p=r.Slide.ORIGIN_SIZE[d].height,f=e._getRatio(h,p);i("#contents-area").css({width:u,height:c}),i("#page"+d).css({width:2*h,height:2*p}),r.Slide.CURRENT_SIZE[d]={width:1*h,height:1*p},i("#page"+d).css("transform","scale("+f/2+")").css("margin-left",h*(f-2)/2+(u-h*f)/2+"px").css("margin-top",p*(f-2)/2+(c-p*f)/2+"px"),e.setPageMargin(1)},this._getRatio=function(t,n){var i=e.noneRotateSize,o=i[0],r=i[1],s=.95*o/t;return r/o<n/t&&(s=.95*r/n),s},this.getResizeResult=function(t,n,i,o){void 0===o&&(o=null);var r=e._getRatio(n,i);return[n*r,i*r]},this.setPageMargin=function(e){i(".contents-page").css("margin-top",0),i(".contents-page").css("margin-bottom",0)}};t.SlidePageFit=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(74),o=function(e,t){var n=this;this.arrangeIntoTree=function(e){for(var t=[],o=function(e){for(var o=e.pathArr,r=[],s=t,a=function(t){var a=o[t],l=n.findWhere(s,"fileName",a);if(l)s=l.children,r=l;else{var c=void 0;c=t===o.length-1?{filePath:e.filePath,fileName:a,fileType:e.fileType,fileSize:e.fileSize,directory:e.directory,parent:r,children:[],childSort:{sortingField:i.SORTING_FIELD.NULL,sortingStatus:i.SORTING_STATUS.NULL}}:{filePath:function(){for(var e="",n=0;n<=t;n++)e+=o[n]+"/";return e}(),fileName:a,fileType:null,fileSize:0,directory:!0,parent:r,children:[],childSort:{sortingField:i.SORTING_FIELD.NULL,sortingStatus:i.SORTING_STATUS.NULL}},s.push(c),r=c,s=c.children}},l=0;l<o.length;l++)a(l)},r=0,s=e;r<s.length;r++)o(s[r]);return t},this.findWhere=function(e,t,n){for(var i=0;i<e.length&&e[i][t]!==n;)i++;return i<e.length&&e[i]},this.getZipTree=function(){return n.zipTree};for(var o=[],r=0;r<e.length;r++){var s=e[r].fileName.replace(/^\/|\/$/g,"").split("/");o[r]={pathArr:s,filePath:e[r].fileName,fileType:e[r].directory||null===e[r].fileType?null:e[r].fileType.toLowerCase(),fileSize:e[r].fileSize,directory:e[r].directory}}this.zipTree=this.arrangeIntoTree(o);for(var a={filePath:"/",fileName:t,fileType:"",fileSize:0,directory:!0,parent:null,children:this.zipTree,childSort:{sortingField:i.SORTING_FIELD.NULL,sortingStatus:i.SORTING_STATUS.NULL}},l=0,c=a.children;l<c.length;l++)c[l].parent=a;this.zipTree=a};t.ZipTree=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.unsubscribe=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();t.Observable=i},,function(e,t){},,,,,,,,,,,function(e,t){},,,function(e,t){},,function(e,t){}]);
//# sourceMappingURL=newviewer.17135d7.js.map